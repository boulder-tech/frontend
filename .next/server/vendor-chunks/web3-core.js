"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/web3-core";
exports.ids = ["vendor-chunks/web3-core"];
exports.modules = {

/***/ "(ssr)/./node_modules/web3-core/lib/esm/formatters.js":
/*!******************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/formatters.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inputAddressFormatter: () => (/* binding */ inputAddressFormatter),\n/* harmony export */   inputBlockNumberFormatter: () => (/* binding */ inputBlockNumberFormatter),\n/* harmony export */   inputCallFormatter: () => (/* binding */ inputCallFormatter),\n/* harmony export */   inputDefaultBlockNumberFormatter: () => (/* binding */ inputDefaultBlockNumberFormatter),\n/* harmony export */   inputLogFormatter: () => (/* binding */ inputLogFormatter),\n/* harmony export */   inputPostFormatter: () => (/* binding */ inputPostFormatter),\n/* harmony export */   inputSignFormatter: () => (/* binding */ inputSignFormatter),\n/* harmony export */   inputStorageKeysFormatter: () => (/* binding */ inputStorageKeysFormatter),\n/* harmony export */   inputTopicFormatter: () => (/* binding */ inputTopicFormatter),\n/* harmony export */   inputTransactionFormatter: () => (/* binding */ inputTransactionFormatter),\n/* harmony export */   outputBigIntegerFormatter: () => (/* binding */ outputBigIntegerFormatter),\n/* harmony export */   outputBlockFormatter: () => (/* binding */ outputBlockFormatter),\n/* harmony export */   outputLogFormatter: () => (/* binding */ outputLogFormatter),\n/* harmony export */   outputPostFormatter: () => (/* binding */ outputPostFormatter),\n/* harmony export */   outputProofFormatter: () => (/* binding */ outputProofFormatter),\n/* harmony export */   outputSyncingFormatter: () => (/* binding */ outputSyncingFormatter),\n/* harmony export */   outputTransactionFormatter: () => (/* binding */ outputTransactionFormatter),\n/* harmony export */   outputTransactionReceiptFormatter: () => (/* binding */ outputTransactionReceiptFormatter),\n/* harmony export */   txInputOptionsFormatter: () => (/* binding */ txInputOptionsFormatter)\n/* harmony export */ });\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var web3_eth_iban__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-eth-iban */ \"(ssr)/./node_modules/web3-eth-iban/lib/esm/index.js\");\n/* harmony import */ var web3_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3-types */ \"(ssr)/./node_modules/web3-types/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var web3_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! web3-validator */ \"(ssr)/./node_modules/web3-validator/lib/esm/index.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ \n\n\n\n\n/* eslint-disable deprecation/deprecation */ /**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given storage key array values to hex strings.\n */ const inputStorageKeysFormatter = (keys)=>keys.map((num)=>(0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(num));\n/**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given proof response from the node.\n */ const outputProofFormatter = (proof)=>({\n        address: (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(proof.address),\n        nonce: (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumberString)(proof.nonce),\n        balance: (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumberString)(proof.balance)\n    });\n/**\n * @deprecated Use format function from web3-utils package instead\n * Should the format output to a big number\n */ const outputBigIntegerFormatter = (number)=>(0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toNumber)(number);\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or the predefined block number 'latest', 'pending', 'earliest', 'genesis'\n */ const inputBlockNumberFormatter = (blockNumber)=>{\n    if ((0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(blockNumber)) {\n        return undefined;\n    }\n    if (typeof blockNumber === \"string\" && (0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isBlockTag)(blockNumber)) {\n        return blockNumber;\n    }\n    if (blockNumber === \"genesis\") {\n        return \"0x0\";\n    }\n    if (typeof blockNumber === \"string\" && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(blockNumber)) {\n        return blockNumber.toLowerCase();\n    }\n    return (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(blockNumber);\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or does return the defaultBlock property of the current module\n */ const inputDefaultBlockNumberFormatter = (blockNumber, defaultBlock)=>{\n    if (!blockNumber) {\n        return inputBlockNumberFormatter(defaultBlock);\n    }\n    return inputBlockNumberFormatter(blockNumber);\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param address\n */ const inputAddressFormatter = (address)=>{\n    if (web3_eth_iban__WEBPACK_IMPORTED_MODULE_1__.Iban.isValid(address) && web3_eth_iban__WEBPACK_IMPORTED_MODULE_1__.Iban.isDirect(address)) {\n        const iban = new web3_eth_iban__WEBPACK_IMPORTED_MODULE_1__.Iban(address);\n        return iban.toAddress().toLowerCase();\n    }\n    if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address)) {\n        return `0x${address.toLowerCase().replace(\"0x\", \"\")}`;\n    }\n    throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.FormatterError(`Provided address ${address} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`);\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */ const txInputOptionsFormatter = (options)=>{\n    var _a;\n    const modifiedOptions = Object.assign({}, options);\n    if (options.to) {\n        // it might be contract creation\n        modifiedOptions.to = inputAddressFormatter(options.to);\n    }\n    if (options.data && options.input) {\n        throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.FormatterError('You can\\'t have \"data\" and \"input\" as properties of transactions at the same time, please use either \"data\" or \"input\" instead.');\n    }\n    if (!options.input && options.data) {\n        modifiedOptions.input = options.data;\n        delete modifiedOptions.data;\n    }\n    if (options.input && !options.input.startsWith(\"0x\")) {\n        modifiedOptions.input = `0x${options.input}`;\n    }\n    if (modifiedOptions.input && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(modifiedOptions.input)) {\n        throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.FormatterError(\"The input field must be HEX encoded data.\");\n    }\n    // allow both\n    if (options.gas || options.gasLimit) {\n        modifiedOptions.gas = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toNumber)((_a = options.gas) !== null && _a !== void 0 ? _a : options.gasLimit);\n    }\n    if (options.maxPriorityFeePerGas || options.maxFeePerGas) {\n        delete modifiedOptions.gasPrice;\n    }\n    [\n        \"gasPrice\",\n        \"gas\",\n        \"value\",\n        \"maxPriorityFeePerGas\",\n        \"maxFeePerGas\",\n        \"nonce\",\n        \"chainId\"\n    ].filter((key)=>!(0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(modifiedOptions[key])).forEach((key)=>{\n        modifiedOptions[key] = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(modifiedOptions[key]);\n    });\n    return modifiedOptions;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */ const inputCallFormatter = (options, defaultAccount)=>{\n    var _a;\n    const opts = txInputOptionsFormatter(options);\n    const from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n    if (from) {\n        opts.from = inputAddressFormatter(from);\n    }\n    return opts;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */ const inputTransactionFormatter = (options, defaultAccount)=>{\n    var _a;\n    const opts = txInputOptionsFormatter(options);\n    // check from, only if not number, or object\n    if (!(typeof opts.from === \"number\") && !(!!opts.from && typeof opts.from === \"object\")) {\n        opts.from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n        if (!options.from && !(typeof options.from === \"number\")) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.FormatterError('The send transactions \"from\" field must be defined!');\n        }\n        opts.from = inputAddressFormatter(options.from);\n    }\n    return opts;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Hex encodes the data passed to eth_sign and personal_sign\n */ const inputSignFormatter = (data)=>(0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(data) ? data : (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.utf8ToHex)(data);\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction to its proper values\n * @function outputTransactionFormatter\n */ const outputTransactionFormatter = (tx)=>{\n    const modifiedTx = Object.assign({}, tx);\n    if (tx.blockNumber) {\n        modifiedTx.blockNumber = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(tx.blockNumber);\n    }\n    if (tx.transactionIndex) {\n        modifiedTx.transactionIndex = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(tx.transactionIndex);\n    }\n    modifiedTx.nonce = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(tx.nonce);\n    modifiedTx.gas = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(tx.gas);\n    if (tx.gasPrice) {\n        modifiedTx.gasPrice = outputBigIntegerFormatter(tx.gasPrice);\n    }\n    if (tx.maxFeePerGas) {\n        modifiedTx.maxFeePerGas = outputBigIntegerFormatter(tx.maxFeePerGas);\n    }\n    if (tx.maxPriorityFeePerGas) {\n        modifiedTx.maxPriorityFeePerGas = outputBigIntegerFormatter(tx.maxPriorityFeePerGas);\n    }\n    if (tx.type) {\n        modifiedTx.type = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(tx.type);\n    }\n    modifiedTx.value = outputBigIntegerFormatter(tx.value);\n    if (tx.to && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isAddress)(tx.to)) {\n        // tx.to could be `0x0` or `null` while contract creation\n        modifiedTx.to = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(tx.to);\n    } else {\n        modifiedTx.to = undefined; // set to `null` if invalid address\n    }\n    if (tx.from) {\n        modifiedTx.from = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(tx.from);\n    }\n    return modifiedTx;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param topic\n */ // To align with specification we use the type \"null\" here\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst inputTopicFormatter = (topic)=>{\n    // Using \"null\" value intentionally for validation\n    // eslint-disable-next-line no-null/no-null\n    if ((0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(topic)) return null;\n    const value = String(topic);\n    return (0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isHex)(value) ? value : (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.fromUtf8)(value);\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param filter\n */ const inputLogFormatter = (filter)=>{\n    var _a;\n    const val = (0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(filter) ? {} : (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.mergeDeep)({}, filter);\n    // If options !== undefined, don't blow out existing data\n    if ((0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(val.fromBlock)) {\n        val.fromBlock = web3_types__WEBPACK_IMPORTED_MODULE_2__.BlockTags.LATEST;\n    }\n    val.fromBlock = inputBlockNumberFormatter(val.fromBlock);\n    if (!(0,web3_validator__WEBPACK_IMPORTED_MODULE_4__.isNullish)(val.toBlock)) {\n        val.toBlock = inputBlockNumberFormatter(val.toBlock);\n    }\n    // make sure topics, get converted to hex\n    val.topics = (_a = val.topics) !== null && _a !== void 0 ? _a : [];\n    val.topics = val.topics.map((topic)=>Array.isArray(topic) ? topic.map(inputTopicFormatter) : inputTopicFormatter(topic));\n    if (val.address) {\n        val.address = Array.isArray(val.address) ? val.address.map((addr)=>inputAddressFormatter(addr)) : inputAddressFormatter(val.address);\n    }\n    return val;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a log\n * @function outputLogFormatter\n */ const outputLogFormatter = (log)=>{\n    const modifiedLog = Object.assign({}, log);\n    const logIndex = typeof log.logIndex === \"string\" ? log.logIndex : (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(log.logIndex);\n    // generate a custom log id\n    if (typeof log.blockHash === \"string\" && typeof log.transactionHash === \"string\") {\n        const shaId = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.sha3Raw)(`${log.blockHash.replace(\"0x\", \"\")}${log.transactionHash.replace(\"0x\", \"\")}${logIndex.replace(\"0x\", \"\")}`);\n        modifiedLog.id = `log_${shaId.replace(\"0x\", \"\").slice(0, 8)}`;\n    } else if (!log.id) {\n        modifiedLog.id = undefined;\n    }\n    if (log.blockNumber && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(log.blockNumber)) {\n        modifiedLog.blockNumber = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(log.blockNumber);\n    }\n    if (log.transactionIndex && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(log.transactionIndex)) {\n        modifiedLog.transactionIndex = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(log.transactionIndex);\n    }\n    if (log.logIndex && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isHexStrict)(log.logIndex)) {\n        modifiedLog.logIndex = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(log.logIndex);\n    }\n    if (log.address) {\n        modifiedLog.address = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(log.address);\n    }\n    return modifiedLog;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction receipt to its proper values\n */ const outputTransactionReceiptFormatter = (receipt)=>{\n    if (typeof receipt !== \"object\") {\n        throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.FormatterError(`Received receipt is invalid: ${String(receipt)}`);\n    }\n    const modifiedReceipt = Object.assign({}, receipt);\n    if (receipt.blockNumber) {\n        modifiedReceipt.blockNumber = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(receipt.blockNumber);\n    }\n    if (receipt.transactionIndex) {\n        modifiedReceipt.transactionIndex = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(receipt.transactionIndex);\n    }\n    modifiedReceipt.cumulativeGasUsed = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(receipt.cumulativeGasUsed);\n    modifiedReceipt.gasUsed = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(receipt.gasUsed);\n    if (receipt.logs && Array.isArray(receipt.logs)) {\n        modifiedReceipt.logs = receipt.logs.map(outputLogFormatter);\n    }\n    if (receipt.effectiveGasPrice) {\n        modifiedReceipt.effectiveGasPrice = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(receipt.effectiveGasPrice);\n    }\n    if (receipt.contractAddress) {\n        modifiedReceipt.contractAddress = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(receipt.contractAddress);\n    }\n    if (receipt.status) {\n        modifiedReceipt.status = Boolean(parseInt(receipt.status, 10));\n    }\n    return modifiedReceipt;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a block to its proper values\n * @function outputBlockFormatter\n */ const outputBlockFormatter = (block)=>{\n    const modifiedBlock = Object.assign({}, block);\n    // transform to number\n    modifiedBlock.gasLimit = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(block.gasLimit);\n    modifiedBlock.gasUsed = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(block.gasUsed);\n    modifiedBlock.size = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(block.size);\n    modifiedBlock.timestamp = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(block.timestamp);\n    if (block.number) {\n        modifiedBlock.number = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(block.number);\n    }\n    if (block.difficulty) {\n        modifiedBlock.difficulty = outputBigIntegerFormatter(block.difficulty);\n    }\n    if (block.totalDifficulty) {\n        modifiedBlock.totalDifficulty = outputBigIntegerFormatter(block.totalDifficulty);\n    }\n    if (block.transactions && Array.isArray(block.transactions)) {\n        modifiedBlock.transactions = block.transactions.map(outputTransactionFormatter);\n    }\n    if (block.miner) {\n        modifiedBlock.miner = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.toChecksumAddress)(block.miner);\n    }\n    if (block.baseFeePerGas) {\n        modifiedBlock.baseFeePerGas = outputBigIntegerFormatter(block.baseFeePerGas);\n    }\n    return modifiedBlock;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a whisper post and converts all values to HEX\n */ const inputPostFormatter = (post)=>{\n    var _a;\n    const modifiedPost = Object.assign({}, post);\n    if (post.ttl) {\n        modifiedPost.ttl = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(post.ttl);\n    }\n    if (post.workToProve) {\n        modifiedPost.workToProve = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(post.workToProve);\n    }\n    if (post.priority) {\n        modifiedPost.priority = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(post.priority);\n    }\n    // fallback\n    if (post.topics && !Array.isArray(post.topics)) {\n        modifiedPost.topics = post.topics ? [\n            post.topics\n        ] : [];\n    }\n    // format the following options\n    modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map((topic)=>topic.startsWith(\"0x\") ? topic : (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.fromUtf8)(topic));\n    return modifiedPost;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a received post message\n * @function outputPostFormatter\n */ const outputPostFormatter = (post)=>{\n    var _a;\n    const modifiedPost = Object.assign({}, post);\n    if (post.expiry) {\n        modifiedPost.expiry = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(post.expiry);\n    }\n    if (post.sent) {\n        modifiedPost.sent = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(post.sent);\n    }\n    if (post.ttl) {\n        modifiedPost.ttl = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(post.ttl);\n    }\n    if (post.workProved) {\n        modifiedPost.workProved = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(post.workProved);\n    }\n    // post.payloadRaw = post.payload;\n    // post.payload = utils.hexToAscii(post.payload);\n    // if (utils.isJson(post.payload)) {\n    //     post.payload = JSON.parse(post.payload);\n    // }\n    // format the following options\n    if (!post.topics) {\n        modifiedPost.topics = [];\n    }\n    modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map(web3_utils__WEBPACK_IMPORTED_MODULE_3__.toUtf8);\n    return modifiedPost;\n};\n/**\n * @deprecated Use format function from web3-utils package instead\n */ const outputSyncingFormatter = (result)=>{\n    const modifiedResult = Object.assign({}, result);\n    modifiedResult.startingBlock = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(result.startingBlock);\n    modifiedResult.currentBlock = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(result.currentBlock);\n    modifiedResult.highestBlock = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(result.highestBlock);\n    if (result.knownStates) {\n        modifiedResult.knownStates = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(result.knownStates);\n    }\n    if (result.pulledStates) {\n        modifiedResult.pulledStates = (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.hexToNumber)(result.pulledStates);\n    }\n    return modifiedResult;\n}; //# sourceMappingURL=formatters.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vZm9ybWF0dGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsR0FDNkM7QUFDUjtBQUNHO0FBQ3dJO0FBQ2xIO0FBQzlELDBDQUEwQyxHQUMxQzs7O0NBR0MsR0FDTSxNQUFNa0IsNEJBQTRCLENBQUNDLE9BQVNBLEtBQUtDLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBT1osdURBQVdBLENBQUNZLE1BQU07QUFDckY7OztDQUdDLEdBQ00sTUFBTUMsdUJBQXVCLENBQUNDLFFBQVc7UUFDNUNDLFNBQVNiLDZEQUFpQkEsQ0FBQ1ksTUFBTUMsT0FBTztRQUN4Q0MsT0FBT3BCLDZEQUFpQkEsQ0FBQ2tCLE1BQU1FLEtBQUs7UUFDcENDLFNBQVNyQiw2REFBaUJBLENBQUNrQixNQUFNRyxPQUFPO0lBQzVDLEdBQUc7QUFDSDs7O0NBR0MsR0FDTSxNQUFNQyw0QkFBNEIsQ0FBQ0MsU0FBV2hCLG9EQUFRQSxDQUFDZ0IsUUFBUTtBQUN0RTs7O0NBR0MsR0FDTSxNQUFNQyw0QkFBNEIsQ0FBQ0M7SUFDdEMsSUFBSWIseURBQVNBLENBQUNhLGNBQWM7UUFDeEIsT0FBT0M7SUFDWDtJQUNBLElBQUksT0FBT0QsZ0JBQWdCLFlBQVlmLDBEQUFVQSxDQUFDZSxjQUFjO1FBQzVELE9BQU9BO0lBQ1g7SUFDQSxJQUFJQSxnQkFBZ0IsV0FBVztRQUMzQixPQUFPO0lBQ1g7SUFDQSxJQUFJLE9BQU9BLGdCQUFnQixZQUFZdkIsdURBQVdBLENBQUN1QixjQUFjO1FBQzdELE9BQU9BLFlBQVlFLFdBQVc7SUFDbEM7SUFDQSxPQUFPdkIsdURBQVdBLENBQUNxQjtBQUN2QixFQUFFO0FBQ0Y7OztDQUdDLEdBQ00sTUFBTUcsbUNBQW1DLENBQUNILGFBQWFJO0lBQzFELElBQUksQ0FBQ0osYUFBYTtRQUNkLE9BQU9ELDBCQUEwQks7SUFDckM7SUFDQSxP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dWxlcy93ZWIzLWNvcmUvbGliL2VzbS9mb3JtYXR0ZXJzLmpzP2FjOWUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5pbXBvcnQgeyBGb3JtYXR0ZXJFcnJvciB9IGZyb20gJ3dlYjMtZXJyb3JzJztcbmltcG9ydCB7IEliYW4gfSBmcm9tICd3ZWIzLWV0aC1pYmFuJztcbmltcG9ydCB7IEJsb2NrVGFncywgfSBmcm9tICd3ZWIzLXR5cGVzJztcbmltcG9ydCB7IGZyb21VdGY4LCBoZXhUb051bWJlciwgaGV4VG9OdW1iZXJTdHJpbmcsIGlzQWRkcmVzcywgaXNIZXhTdHJpY3QsIG1lcmdlRGVlcCwgbnVtYmVyVG9IZXgsIHNoYTNSYXcsIHRvQ2hlY2tzdW1BZGRyZXNzLCB0b051bWJlciwgdG9VdGY4LCB1dGY4VG9IZXgsIH0gZnJvbSAnd2ViMy11dGlscyc7XG5pbXBvcnQgeyBpc0Jsb2NrVGFnLCBpc0hleCwgaXNOdWxsaXNoIH0gZnJvbSAnd2ViMy12YWxpZGF0b3InO1xuLyogZXNsaW50LWRpc2FibGUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb24gKi9cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBXaWxsIGZvcm1hdCB0aGUgZ2l2ZW4gc3RvcmFnZSBrZXkgYXJyYXkgdmFsdWVzIHRvIGhleCBzdHJpbmdzLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRTdG9yYWdlS2V5c0Zvcm1hdHRlciA9IChrZXlzKSA9PiBrZXlzLm1hcChudW0gPT4gbnVtYmVyVG9IZXgobnVtKSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogV2lsbCBmb3JtYXQgdGhlIGdpdmVuIHByb29mIHJlc3BvbnNlIGZyb20gdGhlIG5vZGUuXG4gKi9cbmV4cG9ydCBjb25zdCBvdXRwdXRQcm9vZkZvcm1hdHRlciA9IChwcm9vZikgPT4gKHtcbiAgICBhZGRyZXNzOiB0b0NoZWNrc3VtQWRkcmVzcyhwcm9vZi5hZGRyZXNzKSxcbiAgICBub25jZTogaGV4VG9OdW1iZXJTdHJpbmcocHJvb2Yubm9uY2UpLFxuICAgIGJhbGFuY2U6IGhleFRvTnVtYmVyU3RyaW5nKHByb29mLmJhbGFuY2UpLFxufSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogU2hvdWxkIHRoZSBmb3JtYXQgb3V0cHV0IHRvIGEgYmlnIG51bWJlclxuICovXG5leHBvcnQgY29uc3Qgb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlciA9IChudW1iZXIpID0+IHRvTnVtYmVyKG51bWJlcik7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogUmV0dXJucyB0aGUgZ2l2ZW4gYmxvY2sgbnVtYmVyIGFzIGhleCBzdHJpbmcgb3IgdGhlIHByZWRlZmluZWQgYmxvY2sgbnVtYmVyICdsYXRlc3QnLCAncGVuZGluZycsICdlYXJsaWVzdCcsICdnZW5lc2lzJ1xuICovXG5leHBvcnQgY29uc3QgaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciA9IChibG9ja051bWJlcikgPT4ge1xuICAgIGlmIChpc051bGxpc2goYmxvY2tOdW1iZXIpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYmxvY2tOdW1iZXIgPT09ICdzdHJpbmcnICYmIGlzQmxvY2tUYWcoYmxvY2tOdW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBibG9ja051bWJlcjtcbiAgICB9XG4gICAgaWYgKGJsb2NrTnVtYmVyID09PSAnZ2VuZXNpcycpIHtcbiAgICAgICAgcmV0dXJuICcweDAnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2NrTnVtYmVyID09PSAnc3RyaW5nJyAmJiBpc0hleFN0cmljdChibG9ja051bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIGJsb2NrTnVtYmVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBudW1iZXJUb0hleChibG9ja051bWJlcik7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIFJldHVybnMgdGhlIGdpdmVuIGJsb2NrIG51bWJlciBhcyBoZXggc3RyaW5nIG9yIGRvZXMgcmV0dXJuIHRoZSBkZWZhdWx0QmxvY2sgcHJvcGVydHkgb2YgdGhlIGN1cnJlbnQgbW9kdWxlXG4gKi9cbmV4cG9ydCBjb25zdCBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlciA9IChibG9ja051bWJlciwgZGVmYXVsdEJsb2NrKSA9PiB7XG4gICAgaWYgKCFibG9ja051bWJlcikge1xuICAgICAgICByZXR1cm4gaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihkZWZhdWx0QmxvY2spO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcihibG9ja051bWJlcik7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEBwYXJhbSBhZGRyZXNzXG4gKi9cbmV4cG9ydCBjb25zdCBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIgPSAoYWRkcmVzcykgPT4ge1xuICAgIGlmIChJYmFuLmlzVmFsaWQoYWRkcmVzcykgJiYgSWJhbi5pc0RpcmVjdChhZGRyZXNzKSkge1xuICAgICAgICBjb25zdCBpYmFuID0gbmV3IEliYW4oYWRkcmVzcyk7XG4gICAgICAgIHJldHVybiBpYmFuLnRvQWRkcmVzcygpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChpc0FkZHJlc3MoYWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIGAweCR7YWRkcmVzcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJzB4JywgJycpfWA7XG4gICAgfVxuICAgIHRocm93IG5ldyBGb3JtYXR0ZXJFcnJvcihgUHJvdmlkZWQgYWRkcmVzcyAke2FkZHJlc3N9IGlzIGludmFsaWQsIHRoZSBjYXBpdGFsaXphdGlvbiBjaGVja3N1bSB0ZXN0IGZhaWxlZCwgb3IgaXQncyBhbiBpbmRpcmVjdCBJQkFOIGFkZHJlc3Mgd2hpY2ggY2FuJ3QgYmUgY29udmVydGVkLmApO1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5leHBvcnQgY29uc3QgdHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIgPSAob3B0aW9ucykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtb2RpZmllZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgICAvLyBpdCBtaWdodCBiZSBjb250cmFjdCBjcmVhdGlvblxuICAgICAgICBtb2RpZmllZE9wdGlvbnMudG8gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIob3B0aW9ucy50byk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRm9ybWF0dGVyRXJyb3IoJ1lvdSBjYW5cXCd0IGhhdmUgXCJkYXRhXCIgYW5kIFwiaW5wdXRcIiBhcyBwcm9wZXJ0aWVzIG9mIHRyYW5zYWN0aW9ucyBhdCB0aGUgc2FtZSB0aW1lLCBwbGVhc2UgdXNlIGVpdGhlciBcImRhdGFcIiBvciBcImlucHV0XCIgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmlucHV0ICYmIG9wdGlvbnMuZGF0YSkge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnMuaW5wdXQgPSBvcHRpb25zLmRhdGE7XG4gICAgICAgIGRlbGV0ZSBtb2RpZmllZE9wdGlvbnMuZGF0YTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaW5wdXQgJiYgIW9wdGlvbnMuaW5wdXQuc3RhcnRzV2l0aCgnMHgnKSkge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnMuaW5wdXQgPSBgMHgke29wdGlvbnMuaW5wdXR9YDtcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVkT3B0aW9ucy5pbnB1dCAmJiAhaXNIZXhTdHJpY3QobW9kaWZpZWRPcHRpb25zLmlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRm9ybWF0dGVyRXJyb3IoJ1RoZSBpbnB1dCBmaWVsZCBtdXN0IGJlIEhFWCBlbmNvZGVkIGRhdGEuJyk7XG4gICAgfVxuICAgIC8vIGFsbG93IGJvdGhcbiAgICBpZiAob3B0aW9ucy5nYXMgfHwgb3B0aW9ucy5nYXNMaW1pdCkge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnMuZ2FzID0gdG9OdW1iZXIoKF9hID0gb3B0aW9ucy5nYXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG9wdGlvbnMuZ2FzTGltaXQpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5tYXhQcmlvcml0eUZlZVBlckdhcyB8fCBvcHRpb25zLm1heEZlZVBlckdhcykge1xuICAgICAgICBkZWxldGUgbW9kaWZpZWRPcHRpb25zLmdhc1ByaWNlO1xuICAgIH1cbiAgICBbJ2dhc1ByaWNlJywgJ2dhcycsICd2YWx1ZScsICdtYXhQcmlvcml0eUZlZVBlckdhcycsICdtYXhGZWVQZXJHYXMnLCAnbm9uY2UnLCAnY2hhaW5JZCddXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+ICFpc051bGxpc2gobW9kaWZpZWRPcHRpb25zW2tleV0pKVxuICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnNba2V5XSA9IG51bWJlclRvSGV4KG1vZGlmaWVkT3B0aW9uc1trZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbW9kaWZpZWRPcHRpb25zO1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5leHBvcnQgY29uc3QgaW5wdXRDYWxsRm9ybWF0dGVyID0gKG9wdGlvbnMsIGRlZmF1bHRBY2NvdW50KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9wdHMgPSB0eElucHV0T3B0aW9uc0Zvcm1hdHRlcihvcHRpb25zKTtcbiAgICBjb25zdCBmcm9tID0gKF9hID0gb3B0cy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0QWNjb3VudDtcbiAgICBpZiAoZnJvbSkge1xuICAgICAgICBvcHRzLmZyb20gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIoZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRzO1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5leHBvcnQgY29uc3QgaW5wdXRUcmFuc2FjdGlvbkZvcm1hdHRlciA9IChvcHRpb25zLCBkZWZhdWx0QWNjb3VudCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBvcHRzID0gdHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIob3B0aW9ucyk7XG4gICAgLy8gY2hlY2sgZnJvbSwgb25seSBpZiBub3QgbnVtYmVyLCBvciBvYmplY3RcbiAgICBpZiAoISh0eXBlb2Ygb3B0cy5mcm9tID09PSAnbnVtYmVyJykgJiYgISghIW9wdHMuZnJvbSAmJiB0eXBlb2Ygb3B0cy5mcm9tID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgb3B0cy5mcm9tID0gKF9hID0gb3B0cy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0QWNjb3VudDtcbiAgICAgICAgaWYgKCFvcHRpb25zLmZyb20gJiYgISh0eXBlb2Ygb3B0aW9ucy5mcm9tID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXR0ZXJFcnJvcignVGhlIHNlbmQgdHJhbnNhY3Rpb25zIFwiZnJvbVwiIGZpZWxkIG11c3QgYmUgZGVmaW5lZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRzLmZyb20gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIob3B0aW9ucy5mcm9tKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEhleCBlbmNvZGVzIHRoZSBkYXRhIHBhc3NlZCB0byBldGhfc2lnbiBhbmQgcGVyc29uYWxfc2lnblxuICovXG5leHBvcnQgY29uc3QgaW5wdXRTaWduRm9ybWF0dGVyID0gKGRhdGEpID0+IChpc0hleFN0cmljdChkYXRhKSA/IGRhdGEgOiB1dGY4VG9IZXgoZGF0YSkpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIHRyYW5zYWN0aW9uIHRvIGl0cyBwcm9wZXIgdmFsdWVzXG4gKiBAZnVuY3Rpb24gb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gKHR4KSA9PiB7XG4gICAgY29uc3QgbW9kaWZpZWRUeCA9IE9iamVjdC5hc3NpZ24oe30sIHR4KTtcbiAgICBpZiAodHguYmxvY2tOdW1iZXIpIHtcbiAgICAgICAgbW9kaWZpZWRUeC5ibG9ja051bWJlciA9IGhleFRvTnVtYmVyKHR4LmJsb2NrTnVtYmVyKTtcbiAgICB9XG4gICAgaWYgKHR4LnRyYW5zYWN0aW9uSW5kZXgpIHtcbiAgICAgICAgbW9kaWZpZWRUeC50cmFuc2FjdGlvbkluZGV4ID0gaGV4VG9OdW1iZXIodHgudHJhbnNhY3Rpb25JbmRleCk7XG4gICAgfVxuICAgIG1vZGlmaWVkVHgubm9uY2UgPSBoZXhUb051bWJlcih0eC5ub25jZSk7XG4gICAgbW9kaWZpZWRUeC5nYXMgPSBoZXhUb051bWJlcih0eC5nYXMpO1xuICAgIGlmICh0eC5nYXNQcmljZSkge1xuICAgICAgICBtb2RpZmllZFR4Lmdhc1ByaWNlID0gb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcih0eC5nYXNQcmljZSk7XG4gICAgfVxuICAgIGlmICh0eC5tYXhGZWVQZXJHYXMpIHtcbiAgICAgICAgbW9kaWZpZWRUeC5tYXhGZWVQZXJHYXMgPSBvdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyKHR4Lm1heEZlZVBlckdhcyk7XG4gICAgfVxuICAgIGlmICh0eC5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgICBtb2RpZmllZFR4Lm1heFByaW9yaXR5RmVlUGVyR2FzID0gb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcih0eC5tYXhQcmlvcml0eUZlZVBlckdhcyk7XG4gICAgfVxuICAgIGlmICh0eC50eXBlKSB7XG4gICAgICAgIG1vZGlmaWVkVHgudHlwZSA9IGhleFRvTnVtYmVyKHR4LnR5cGUpO1xuICAgIH1cbiAgICBtb2RpZmllZFR4LnZhbHVlID0gb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcih0eC52YWx1ZSk7XG4gICAgaWYgKHR4LnRvICYmIGlzQWRkcmVzcyh0eC50bykpIHtcbiAgICAgICAgLy8gdHgudG8gY291bGQgYmUgYDB4MGAgb3IgYG51bGxgIHdoaWxlIGNvbnRyYWN0IGNyZWF0aW9uXG4gICAgICAgIG1vZGlmaWVkVHgudG8gPSB0b0NoZWNrc3VtQWRkcmVzcyh0eC50byk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtb2RpZmllZFR4LnRvID0gdW5kZWZpbmVkOyAvLyBzZXQgdG8gYG51bGxgIGlmIGludmFsaWQgYWRkcmVzc1xuICAgIH1cbiAgICBpZiAodHguZnJvbSkge1xuICAgICAgICBtb2RpZmllZFR4LmZyb20gPSB0b0NoZWNrc3VtQWRkcmVzcyh0eC5mcm9tKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkVHg7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEBwYXJhbSB0b3BpY1xuICovXG4vLyBUbyBhbGlnbiB3aXRoIHNwZWNpZmljYXRpb24gd2UgdXNlIHRoZSB0eXBlIFwibnVsbFwiIGhlcmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5leHBvcnQgY29uc3QgaW5wdXRUb3BpY0Zvcm1hdHRlciA9ICh0b3BpYykgPT4ge1xuICAgIC8vIFVzaW5nIFwibnVsbFwiIHZhbHVlIGludGVudGlvbmFsbHkgZm9yIHZhbGlkYXRpb25cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgaWYgKGlzTnVsbGlzaCh0b3BpYykpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHZhbHVlID0gU3RyaW5nKHRvcGljKTtcbiAgICByZXR1cm4gaXNIZXgodmFsdWUpID8gdmFsdWUgOiBmcm9tVXRmOCh2YWx1ZSk7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEBwYXJhbSBmaWx0ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGlucHV0TG9nRm9ybWF0dGVyID0gKGZpbHRlcikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB2YWwgPSBpc051bGxpc2goZmlsdGVyKVxuICAgICAgICA/IHt9XG4gICAgICAgIDogbWVyZ2VEZWVwKHt9LCBmaWx0ZXIpO1xuICAgIC8vIElmIG9wdGlvbnMgIT09IHVuZGVmaW5lZCwgZG9uJ3QgYmxvdyBvdXQgZXhpc3RpbmcgZGF0YVxuICAgIGlmIChpc051bGxpc2godmFsLmZyb21CbG9jaykpIHtcbiAgICAgICAgdmFsLmZyb21CbG9jayA9IEJsb2NrVGFncy5MQVRFU1Q7XG4gICAgfVxuICAgIHZhbC5mcm9tQmxvY2sgPSBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKHZhbC5mcm9tQmxvY2spO1xuICAgIGlmICghaXNOdWxsaXNoKHZhbC50b0Jsb2NrKSkge1xuICAgICAgICB2YWwudG9CbG9jayA9IGlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIodmFsLnRvQmxvY2spO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdG9waWNzLCBnZXQgY29udmVydGVkIHRvIGhleFxuICAgIHZhbC50b3BpY3MgPSAoX2EgPSB2YWwudG9waWNzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB2YWwudG9waWNzID0gdmFsLnRvcGljcy5tYXAodG9waWMgPT4gQXJyYXkuaXNBcnJheSh0b3BpYylcbiAgICAgICAgPyB0b3BpYy5tYXAoaW5wdXRUb3BpY0Zvcm1hdHRlcilcbiAgICAgICAgOiBpbnB1dFRvcGljRm9ybWF0dGVyKHRvcGljKSk7XG4gICAgaWYgKHZhbC5hZGRyZXNzKSB7XG4gICAgICAgIHZhbC5hZGRyZXNzID0gQXJyYXkuaXNBcnJheSh2YWwuYWRkcmVzcylcbiAgICAgICAgICAgID8gdmFsLmFkZHJlc3MubWFwKGFkZHIgPT4gaW5wdXRBZGRyZXNzRm9ybWF0dGVyKGFkZHIpKVxuICAgICAgICAgICAgOiBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIodmFsLmFkZHJlc3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSBsb2dcbiAqIEBmdW5jdGlvbiBvdXRwdXRMb2dGb3JtYXR0ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IG91dHB1dExvZ0Zvcm1hdHRlciA9IChsb2cpID0+IHtcbiAgICBjb25zdCBtb2RpZmllZExvZyA9IE9iamVjdC5hc3NpZ24oe30sIGxvZyk7XG4gICAgY29uc3QgbG9nSW5kZXggPSB0eXBlb2YgbG9nLmxvZ0luZGV4ID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGxvZy5sb2dJbmRleFxuICAgICAgICA6IG51bWJlclRvSGV4KGxvZy5sb2dJbmRleCk7XG4gICAgLy8gZ2VuZXJhdGUgYSBjdXN0b20gbG9nIGlkXG4gICAgaWYgKHR5cGVvZiBsb2cuYmxvY2tIYXNoID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgbG9nLnRyYW5zYWN0aW9uSGFzaCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3Qgc2hhSWQgPSBzaGEzUmF3KGAke2xvZy5ibG9ja0hhc2gucmVwbGFjZSgnMHgnLCAnJyl9JHtsb2cudHJhbnNhY3Rpb25IYXNoLnJlcGxhY2UoJzB4JywgJycpfSR7bG9nSW5kZXgucmVwbGFjZSgnMHgnLCAnJyl9YCk7XG4gICAgICAgIG1vZGlmaWVkTG9nLmlkID0gYGxvZ18ke3NoYUlkLnJlcGxhY2UoJzB4JywgJycpLnNsaWNlKDAsIDgpfWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFsb2cuaWQpIHtcbiAgICAgICAgbW9kaWZpZWRMb2cuaWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChsb2cuYmxvY2tOdW1iZXIgJiYgaXNIZXhTdHJpY3QobG9nLmJsb2NrTnVtYmVyKSkge1xuICAgICAgICBtb2RpZmllZExvZy5ibG9ja051bWJlciA9IGhleFRvTnVtYmVyKGxvZy5ibG9ja051bWJlcik7XG4gICAgfVxuICAgIGlmIChsb2cudHJhbnNhY3Rpb25JbmRleCAmJiBpc0hleFN0cmljdChsb2cudHJhbnNhY3Rpb25JbmRleCkpIHtcbiAgICAgICAgbW9kaWZpZWRMb2cudHJhbnNhY3Rpb25JbmRleCA9IGhleFRvTnVtYmVyKGxvZy50cmFuc2FjdGlvbkluZGV4KTtcbiAgICB9XG4gICAgaWYgKGxvZy5sb2dJbmRleCAmJiBpc0hleFN0cmljdChsb2cubG9nSW5kZXgpKSB7XG4gICAgICAgIG1vZGlmaWVkTG9nLmxvZ0luZGV4ID0gaGV4VG9OdW1iZXIobG9nLmxvZ0luZGV4KTtcbiAgICB9XG4gICAgaWYgKGxvZy5hZGRyZXNzKSB7XG4gICAgICAgIG1vZGlmaWVkTG9nLmFkZHJlc3MgPSB0b0NoZWNrc3VtQWRkcmVzcyhsb2cuYWRkcmVzcyk7XG4gICAgfVxuICAgIHJldHVybiBtb2RpZmllZExvZztcbn07XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgdHJhbnNhY3Rpb24gcmVjZWlwdCB0byBpdHMgcHJvcGVyIHZhbHVlc1xuICovXG5leHBvcnQgY29uc3Qgb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyID0gKHJlY2VpcHQpID0+IHtcbiAgICBpZiAodHlwZW9mIHJlY2VpcHQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBGb3JtYXR0ZXJFcnJvcihgUmVjZWl2ZWQgcmVjZWlwdCBpcyBpbnZhbGlkOiAke1N0cmluZyhyZWNlaXB0KX1gKTtcbiAgICB9XG4gICAgY29uc3QgbW9kaWZpZWRSZWNlaXB0ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVjZWlwdCk7XG4gICAgaWYgKHJlY2VpcHQuYmxvY2tOdW1iZXIpIHtcbiAgICAgICAgbW9kaWZpZWRSZWNlaXB0LmJsb2NrTnVtYmVyID0gaGV4VG9OdW1iZXIocmVjZWlwdC5ibG9ja051bWJlcik7XG4gICAgfVxuICAgIGlmIChyZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXgpIHtcbiAgICAgICAgbW9kaWZpZWRSZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXggPSBoZXhUb051bWJlcihyZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXgpO1xuICAgIH1cbiAgICBtb2RpZmllZFJlY2VpcHQuY3VtdWxhdGl2ZUdhc1VzZWQgPSBoZXhUb051bWJlcihyZWNlaXB0LmN1bXVsYXRpdmVHYXNVc2VkKTtcbiAgICBtb2RpZmllZFJlY2VpcHQuZ2FzVXNlZCA9IGhleFRvTnVtYmVyKHJlY2VpcHQuZ2FzVXNlZCk7XG4gICAgaWYgKHJlY2VpcHQubG9ncyAmJiBBcnJheS5pc0FycmF5KHJlY2VpcHQubG9ncykpIHtcbiAgICAgICAgbW9kaWZpZWRSZWNlaXB0LmxvZ3MgPSByZWNlaXB0LmxvZ3MubWFwKG91dHB1dExvZ0Zvcm1hdHRlcik7XG4gICAgfVxuICAgIGlmIChyZWNlaXB0LmVmZmVjdGl2ZUdhc1ByaWNlKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5lZmZlY3RpdmVHYXNQcmljZSA9IGhleFRvTnVtYmVyKHJlY2VpcHQuZWZmZWN0aXZlR2FzUHJpY2UpO1xuICAgIH1cbiAgICBpZiAocmVjZWlwdC5jb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgbW9kaWZpZWRSZWNlaXB0LmNvbnRyYWN0QWRkcmVzcyA9IHRvQ2hlY2tzdW1BZGRyZXNzKHJlY2VpcHQuY29udHJhY3RBZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKHJlY2VpcHQuc3RhdHVzKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5zdGF0dXMgPSBCb29sZWFuKHBhcnNlSW50KHJlY2VpcHQuc3RhdHVzLCAxMCkpO1xuICAgIH1cbiAgICByZXR1cm4gbW9kaWZpZWRSZWNlaXB0O1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSBibG9jayB0byBpdHMgcHJvcGVyIHZhbHVlc1xuICogQGZ1bmN0aW9uIG91dHB1dEJsb2NrRm9ybWF0dGVyXG4gKi9cbmV4cG9ydCBjb25zdCBvdXRwdXRCbG9ja0Zvcm1hdHRlciA9IChibG9jaykgPT4ge1xuICAgIGNvbnN0IG1vZGlmaWVkQmxvY2sgPSBPYmplY3QuYXNzaWduKHt9LCBibG9jayk7XG4gICAgLy8gdHJhbnNmb3JtIHRvIG51bWJlclxuICAgIG1vZGlmaWVkQmxvY2suZ2FzTGltaXQgPSBoZXhUb051bWJlcihibG9jay5nYXNMaW1pdCk7XG4gICAgbW9kaWZpZWRCbG9jay5nYXNVc2VkID0gaGV4VG9OdW1iZXIoYmxvY2suZ2FzVXNlZCk7XG4gICAgbW9kaWZpZWRCbG9jay5zaXplID0gaGV4VG9OdW1iZXIoYmxvY2suc2l6ZSk7XG4gICAgbW9kaWZpZWRCbG9jay50aW1lc3RhbXAgPSBoZXhUb051bWJlcihibG9jay50aW1lc3RhbXApO1xuICAgIGlmIChibG9jay5udW1iZXIpIHtcbiAgICAgICAgbW9kaWZpZWRCbG9jay5udW1iZXIgPSBoZXhUb051bWJlcihibG9jay5udW1iZXIpO1xuICAgIH1cbiAgICBpZiAoYmxvY2suZGlmZmljdWx0eSkge1xuICAgICAgICBtb2RpZmllZEJsb2NrLmRpZmZpY3VsdHkgPSBvdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyKGJsb2NrLmRpZmZpY3VsdHkpO1xuICAgIH1cbiAgICBpZiAoYmxvY2sudG90YWxEaWZmaWN1bHR5KSB7XG4gICAgICAgIG1vZGlmaWVkQmxvY2sudG90YWxEaWZmaWN1bHR5ID0gb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcihibG9jay50b3RhbERpZmZpY3VsdHkpO1xuICAgIH1cbiAgICBpZiAoYmxvY2sudHJhbnNhY3Rpb25zICYmIEFycmF5LmlzQXJyYXkoYmxvY2sudHJhbnNhY3Rpb25zKSkge1xuICAgICAgICBtb2RpZmllZEJsb2NrLnRyYW5zYWN0aW9ucyA9IGJsb2NrLnRyYW5zYWN0aW9ucy5tYXAob3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIpO1xuICAgIH1cbiAgICBpZiAoYmxvY2subWluZXIpIHtcbiAgICAgICAgbW9kaWZpZWRCbG9jay5taW5lciA9IHRvQ2hlY2tzdW1BZGRyZXNzKGJsb2NrLm1pbmVyKTtcbiAgICB9XG4gICAgaWYgKGJsb2NrLmJhc2VGZWVQZXJHYXMpIHtcbiAgICAgICAgbW9kaWZpZWRCbG9jay5iYXNlRmVlUGVyR2FzID0gb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcihibG9jay5iYXNlRmVlUGVyR2FzKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkQmxvY2s7XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgd2hpc3BlciBwb3N0IGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5leHBvcnQgY29uc3QgaW5wdXRQb3N0Rm9ybWF0dGVyID0gKHBvc3QpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbW9kaWZpZWRQb3N0ID0gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCk7XG4gICAgaWYgKHBvc3QudHRsKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50dGwgPSBudW1iZXJUb0hleChwb3N0LnR0bCk7XG4gICAgfVxuICAgIGlmIChwb3N0LndvcmtUb1Byb3ZlKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC53b3JrVG9Qcm92ZSA9IG51bWJlclRvSGV4KHBvc3Qud29ya1RvUHJvdmUpO1xuICAgIH1cbiAgICBpZiAocG9zdC5wcmlvcml0eSkge1xuICAgICAgICBtb2RpZmllZFBvc3QucHJpb3JpdHkgPSBudW1iZXJUb0hleChwb3N0LnByaW9yaXR5KTtcbiAgICB9XG4gICAgLy8gZmFsbGJhY2tcbiAgICBpZiAocG9zdC50b3BpY3MgJiYgIUFycmF5LmlzQXJyYXkocG9zdC50b3BpY3MpKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50b3BpY3MgPSBwb3N0LnRvcGljcyA/IFtwb3N0LnRvcGljc10gOiBbXTtcbiAgICB9XG4gICAgLy8gZm9ybWF0IHRoZSBmb2xsb3dpbmcgb3B0aW9uc1xuICAgIG1vZGlmaWVkUG9zdC50b3BpY3MgPSAoX2EgPSBtb2RpZmllZFBvc3QudG9waWNzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKHRvcGljID0+IHRvcGljLnN0YXJ0c1dpdGgoJzB4JykgPyB0b3BpYyA6IGZyb21VdGY4KHRvcGljKSk7XG4gICAgcmV0dXJuIG1vZGlmaWVkUG9zdDtcbn07XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgcmVjZWl2ZWQgcG9zdCBtZXNzYWdlXG4gKiBAZnVuY3Rpb24gb3V0cHV0UG9zdEZvcm1hdHRlclxuICovXG5leHBvcnQgY29uc3Qgb3V0cHV0UG9zdEZvcm1hdHRlciA9IChwb3N0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG1vZGlmaWVkUG9zdCA9IE9iamVjdC5hc3NpZ24oe30sIHBvc3QpO1xuICAgIGlmIChwb3N0LmV4cGlyeSkge1xuICAgICAgICBtb2RpZmllZFBvc3QuZXhwaXJ5ID0gaGV4VG9OdW1iZXIocG9zdC5leHBpcnkpO1xuICAgIH1cbiAgICBpZiAocG9zdC5zZW50KSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC5zZW50ID0gaGV4VG9OdW1iZXIocG9zdC5zZW50KTtcbiAgICB9XG4gICAgaWYgKHBvc3QudHRsKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50dGwgPSBoZXhUb051bWJlcihwb3N0LnR0bCk7XG4gICAgfVxuICAgIGlmIChwb3N0LndvcmtQcm92ZWQpIHtcbiAgICAgICAgbW9kaWZpZWRQb3N0LndvcmtQcm92ZWQgPSBoZXhUb051bWJlcihwb3N0LndvcmtQcm92ZWQpO1xuICAgIH1cbiAgICAvLyBwb3N0LnBheWxvYWRSYXcgPSBwb3N0LnBheWxvYWQ7XG4gICAgLy8gcG9zdC5wYXlsb2FkID0gdXRpbHMuaGV4VG9Bc2NpaShwb3N0LnBheWxvYWQpO1xuICAgIC8vIGlmICh1dGlscy5pc0pzb24ocG9zdC5wYXlsb2FkKSkge1xuICAgIC8vICAgICBwb3N0LnBheWxvYWQgPSBKU09OLnBhcnNlKHBvc3QucGF5bG9hZCk7XG4gICAgLy8gfVxuICAgIC8vIGZvcm1hdCB0aGUgZm9sbG93aW5nIG9wdGlvbnNcbiAgICBpZiAoIXBvc3QudG9waWNzKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50b3BpY3MgPSBbXTtcbiAgICB9XG4gICAgbW9kaWZpZWRQb3N0LnRvcGljcyA9IChfYSA9IG1vZGlmaWVkUG9zdC50b3BpY3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAodG9VdGY4KTtcbiAgICByZXR1cm4gbW9kaWZpZWRQb3N0O1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyID0gKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IG1vZGlmaWVkUmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0KTtcbiAgICBtb2RpZmllZFJlc3VsdC5zdGFydGluZ0Jsb2NrID0gaGV4VG9OdW1iZXIocmVzdWx0LnN0YXJ0aW5nQmxvY2spO1xuICAgIG1vZGlmaWVkUmVzdWx0LmN1cnJlbnRCbG9jayA9IGhleFRvTnVtYmVyKHJlc3VsdC5jdXJyZW50QmxvY2spO1xuICAgIG1vZGlmaWVkUmVzdWx0LmhpZ2hlc3RCbG9jayA9IGhleFRvTnVtYmVyKHJlc3VsdC5oaWdoZXN0QmxvY2spO1xuICAgIGlmIChyZXN1bHQua25vd25TdGF0ZXMpIHtcbiAgICAgICAgbW9kaWZpZWRSZXN1bHQua25vd25TdGF0ZXMgPSBoZXhUb051bWJlcihyZXN1bHQua25vd25TdGF0ZXMpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnB1bGxlZFN0YXRlcykge1xuICAgICAgICBtb2RpZmllZFJlc3VsdC5wdWxsZWRTdGF0ZXMgPSBoZXhUb051bWJlcihyZXN1bHQucHVsbGVkU3RhdGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkUmVzdWx0O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1hdHRlcnMuanMubWFwIl0sIm5hbWVzIjpbIkZvcm1hdHRlckVycm9yIiwiSWJhbiIsIkJsb2NrVGFncyIsImZyb21VdGY4IiwiaGV4VG9OdW1iZXIiLCJoZXhUb051bWJlclN0cmluZyIsImlzQWRkcmVzcyIsImlzSGV4U3RyaWN0IiwibWVyZ2VEZWVwIiwibnVtYmVyVG9IZXgiLCJzaGEzUmF3IiwidG9DaGVja3N1bUFkZHJlc3MiLCJ0b051bWJlciIsInRvVXRmOCIsInV0ZjhUb0hleCIsImlzQmxvY2tUYWciLCJpc0hleCIsImlzTnVsbGlzaCIsImlucHV0U3RvcmFnZUtleXNGb3JtYXR0ZXIiLCJrZXlzIiwibWFwIiwibnVtIiwib3V0cHV0UHJvb2ZGb3JtYXR0ZXIiLCJwcm9vZiIsImFkZHJlc3MiLCJub25jZSIsImJhbGFuY2UiLCJvdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyIiwibnVtYmVyIiwiaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciIsImJsb2NrTnVtYmVyIiwidW5kZWZpbmVkIiwidG9Mb3dlckNhc2UiLCJpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlciIsImRlZmF1bHRCbG9jayIsImlucHV0QWRkcmVzc0Zvcm1hdHRlciIsImlzVmFsaWQiLCJpc0RpcmVjdCIsImliYW4iLCJ0b0FkZHJlc3MiLCJyZXBsYWNlIiwidHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIiLCJvcHRpb25zIiwiX2EiLCJtb2RpZmllZE9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0byIsImRhdGEiLCJpbnB1dCIsInN0YXJ0c1dpdGgiLCJnYXMiLCJnYXNMaW1pdCIsIm1heFByaW9yaXR5RmVlUGVyR2FzIiwibWF4RmVlUGVyR2FzIiwiZ2FzUHJpY2UiLCJmaWx0ZXIiLCJrZXkiLCJmb3JFYWNoIiwiaW5wdXRDYWxsRm9ybWF0dGVyIiwiZGVmYXVsdEFjY291bnQiLCJvcHRzIiwiZnJvbSIsImlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIiLCJpbnB1dFNpZ25Gb3JtYXR0ZXIiLCJvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlciIsInR4IiwibW9kaWZpZWRUeCIsInRyYW5zYWN0aW9uSW5kZXgiLCJ0eXBlIiwidmFsdWUiLCJpbnB1dFRvcGljRm9ybWF0dGVyIiwidG9waWMiLCJTdHJpbmciLCJpbnB1dExvZ0Zvcm1hdHRlciIsInZhbCIsImZyb21CbG9jayIsIkxBVEVTVCIsInRvQmxvY2siLCJ0b3BpY3MiLCJBcnJheSIsImlzQXJyYXkiLCJhZGRyIiwib3V0cHV0TG9nRm9ybWF0dGVyIiwibG9nIiwibW9kaWZpZWRMb2ciLCJsb2dJbmRleCIsImJsb2NrSGFzaCIsInRyYW5zYWN0aW9uSGFzaCIsInNoYUlkIiwiaWQiLCJzbGljZSIsIm91dHB1dFRyYW5zYWN0aW9uUmVjZWlwdEZvcm1hdHRlciIsInJlY2VpcHQiLCJtb2RpZmllZFJlY2VpcHQiLCJjdW11bGF0aXZlR2FzVXNlZCIsImdhc1VzZWQiLCJsb2dzIiwiZWZmZWN0aXZlR2FzUHJpY2UiLCJjb250cmFjdEFkZHJlc3MiLCJzdGF0dXMiLCJCb29sZWFuIiwicGFyc2VJbnQiLCJvdXRwdXRCbG9ja0Zvcm1hdHRlciIsImJsb2NrIiwibW9kaWZpZWRCbG9jayIsInNpemUiLCJ0aW1lc3RhbXAiLCJkaWZmaWN1bHR5IiwidG90YWxEaWZmaWN1bHR5IiwidHJhbnNhY3Rpb25zIiwibWluZXIiLCJiYXNlRmVlUGVyR2FzIiwiaW5wdXRQb3N0Rm9ybWF0dGVyIiwicG9zdCIsIm1vZGlmaWVkUG9zdCIsInR0bCIsIndvcmtUb1Byb3ZlIiwicHJpb3JpdHkiLCJvdXRwdXRQb3N0Rm9ybWF0dGVyIiwiZXhwaXJ5Iiwic2VudCIsIndvcmtQcm92ZWQiLCJvdXRwdXRTeW5jaW5nRm9ybWF0dGVyIiwicmVzdWx0IiwibW9kaWZpZWRSZXN1bHQiLCJzdGFydGluZ0Jsb2NrIiwiY3VycmVudEJsb2NrIiwiaGlnaGVzdEJsb2NrIiwia25vd25TdGF0ZXMiLCJwdWxsZWRTdGF0ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/formatters.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/index.js":
/*!*************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_BATCH_REQUEST_TIMEOUT: () => (/* reexport safe */ _web3_batch_request_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_BATCH_REQUEST_TIMEOUT),\n/* harmony export */   Web3BatchRequest: () => (/* reexport safe */ _web3_batch_request_js__WEBPACK_IMPORTED_MODULE_5__.Web3BatchRequest),\n/* harmony export */   Web3Config: () => (/* reexport safe */ _web3_config_js__WEBPACK_IMPORTED_MODULE_0__.Web3Config),\n/* harmony export */   Web3ConfigEvent: () => (/* reexport safe */ _web3_config_js__WEBPACK_IMPORTED_MODULE_0__.Web3ConfigEvent),\n/* harmony export */   Web3Context: () => (/* reexport safe */ _web3_context_js__WEBPACK_IMPORTED_MODULE_4__.Web3Context),\n/* harmony export */   Web3EthPluginBase: () => (/* reexport safe */ _web3_context_js__WEBPACK_IMPORTED_MODULE_4__.Web3EthPluginBase),\n/* harmony export */   Web3EventEmitter: () => (/* reexport safe */ _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_10__.Web3EventEmitter),\n/* harmony export */   Web3PluginBase: () => (/* reexport safe */ _web3_context_js__WEBPACK_IMPORTED_MODULE_4__.Web3PluginBase),\n/* harmony export */   Web3PromiEvent: () => (/* reexport safe */ _web3_promi_event_js__WEBPACK_IMPORTED_MODULE_9__.Web3PromiEvent),\n/* harmony export */   Web3RequestManager: () => (/* reexport safe */ _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_1__.Web3RequestManager),\n/* harmony export */   Web3RequestManagerEvent: () => (/* reexport safe */ _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_1__.Web3RequestManagerEvent),\n/* harmony export */   Web3Subscription: () => (/* reexport safe */ _web3_subscriptions_js__WEBPACK_IMPORTED_MODULE_3__.Web3Subscription),\n/* harmony export */   Web3SubscriptionManager: () => (/* reexport safe */ _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_2__.Web3SubscriptionManager),\n/* harmony export */   formatters: () => (/* reexport module object */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__),\n/* harmony export */   inputAddressFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputAddressFormatter),\n/* harmony export */   inputBlockNumberFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputBlockNumberFormatter),\n/* harmony export */   inputCallFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputCallFormatter),\n/* harmony export */   inputDefaultBlockNumberFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputDefaultBlockNumberFormatter),\n/* harmony export */   inputLogFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputLogFormatter),\n/* harmony export */   inputPostFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputPostFormatter),\n/* harmony export */   inputSignFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputSignFormatter),\n/* harmony export */   inputStorageKeysFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputStorageKeysFormatter),\n/* harmony export */   inputTopicFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputTopicFormatter),\n/* harmony export */   inputTransactionFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.inputTransactionFormatter),\n/* harmony export */   isEIP1193Provider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isEIP1193Provider),\n/* harmony export */   isLegacyRequestProvider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isLegacyRequestProvider),\n/* harmony export */   isLegacySendAsyncProvider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isLegacySendAsyncProvider),\n/* harmony export */   isLegacySendProvider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isLegacySendProvider),\n/* harmony export */   isMetaMaskProvider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isMetaMaskProvider),\n/* harmony export */   isSupportSubscriptions: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isSupportSubscriptions),\n/* harmony export */   isSupportedProvider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isSupportedProvider),\n/* harmony export */   isWeb3Provider: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_6__.isWeb3Provider),\n/* harmony export */   outputBigIntegerFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputBigIntegerFormatter),\n/* harmony export */   outputBlockFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputBlockFormatter),\n/* harmony export */   outputLogFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputLogFormatter),\n/* harmony export */   outputPostFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputPostFormatter),\n/* harmony export */   outputProofFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputProofFormatter),\n/* harmony export */   outputSyncingFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputSyncingFormatter),\n/* harmony export */   outputTransactionFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputTransactionFormatter),\n/* harmony export */   outputTransactionReceiptFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.outputTransactionReceiptFormatter),\n/* harmony export */   txInputOptionsFormatter: () => (/* reexport safe */ _formatters_js__WEBPACK_IMPORTED_MODULE_8__.txInputOptionsFormatter)\n/* harmony export */ });\n/* harmony import */ var _web3_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web3_config.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_config.js\");\n/* harmony import */ var _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./web3_request_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_request_manager.js\");\n/* harmony import */ var _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./web3_subscription_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_subscription_manager.js\");\n/* harmony import */ var _web3_subscriptions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./web3_subscriptions.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_subscriptions.js\");\n/* harmony import */ var _web3_context_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web3_context.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_context.js\");\n/* harmony import */ var _web3_batch_request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./web3_batch_request.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_batch_request.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/web3-core/lib/esm/utils.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/web3-core/lib/esm/types.js\");\n/* harmony import */ var _formatters_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./formatters.js */ \"(ssr)/./node_modules/web3-core/lib/esm/formatters.js\");\n/* harmony import */ var _web3_promi_event_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./web3_promi_event.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_promi_event.js\");\n/* harmony import */ var _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./web3_event_emitter.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ \n\n\n\n\n\n\n\n\n\n\n// For backward usability export as namespace\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxHQUNpQztBQUNTO0FBQ0s7QUFDUDtBQUNOO0FBQ007QUFDYjtBQUNBO0FBQ0s7QUFDTTtBQUNFO0FBQ3hDLDZDQUE2QztBQUNDLENBQzlDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL2luZGV4LmpzPzRkZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5leHBvcnQgKiBmcm9tICcuL3dlYjNfY29uZmlnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViM19yZXF1ZXN0X21hbmFnZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi93ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViM19zdWJzY3JpcHRpb25zLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViM19jb250ZXh0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViM19iYXRjaF9yZXF1ZXN0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2Zvcm1hdHRlcnMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi93ZWIzX3Byb21pX2V2ZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vd2ViM19ldmVudF9lbWl0dGVyLmpzJztcbi8vIEZvciBiYWNrd2FyZCB1c2FiaWxpdHkgZXhwb3J0IGFzIG5hbWVzcGFjZVxuZXhwb3J0ICogYXMgZm9ybWF0dGVycyBmcm9tICcuL2Zvcm1hdHRlcnMuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbImZvcm1hdHRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/types.js":
/*!*************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/types.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/  //# sourceMappingURL=types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vdHlwZXMuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxHQUNVLENBQ1YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vdHlwZXMuanM/MGM2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbmV4cG9ydCB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/utils.js":
/*!*************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/utils.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isEIP1193Provider: () => (/* binding */ isEIP1193Provider),\n/* harmony export */   isLegacyRequestProvider: () => (/* binding */ isLegacyRequestProvider),\n/* harmony export */   isLegacySendAsyncProvider: () => (/* binding */ isLegacySendAsyncProvider),\n/* harmony export */   isLegacySendProvider: () => (/* binding */ isLegacySendProvider),\n/* harmony export */   isMetaMaskProvider: () => (/* binding */ isMetaMaskProvider),\n/* harmony export */   isSupportSubscriptions: () => (/* binding */ isSupportSubscriptions),\n/* harmony export */   isSupportedProvider: () => (/* binding */ isSupportedProvider),\n/* harmony export */   isWeb3Provider: () => (/* binding */ isWeb3Provider)\n/* harmony export */ });\n/* harmony import */ var web3_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-types */ \"(ssr)/./node_modules/web3-types/lib/esm/index.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ \nconst isWeb3Provider = (provider)=>web3_types__WEBPACK_IMPORTED_MODULE_0__.Web3BaseProvider.isWeb3Provider(provider);\nconst isMetaMaskProvider = (provider)=>typeof provider !== \"string\" && \"request\" in provider && provider.request.constructor.name === \"AsyncFunction\" && \"isMetaMask\" in provider && provider.isMetaMask;\nconst isLegacyRequestProvider = (provider)=>typeof provider !== \"string\" && \"request\" in provider && provider.request.constructor.name === \"Function\";\nconst isEIP1193Provider = (provider)=>typeof provider !== \"string\" && \"request\" in provider && provider.request.constructor.name === \"AsyncFunction\";\nconst isLegacySendProvider = (provider)=>typeof provider !== \"string\" && \"send\" in provider;\nconst isLegacySendAsyncProvider = (provider)=>typeof provider !== \"string\" && \"sendAsync\" in provider;\nconst isSupportedProvider = (provider)=>provider && (isWeb3Provider(provider) || isEIP1193Provider(provider) || isLegacyRequestProvider(provider) || isLegacySendAsyncProvider(provider) || isLegacySendProvider(provider));\nconst isSupportSubscriptions = (provider)=>{\n    if (provider && \"supportsSubscriptions\" in provider) {\n        return provider.supportsSubscriptions();\n    }\n    if (provider && typeof provider !== \"string\" && \"on\" in provider) {\n        return true;\n    }\n    return false;\n}; //# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQWVBLEdBQytDO0FBQ3hDLE1BQU1DLGlCQUFpQixDQUFDQyxXQUFhRix3REFBZ0JBLENBQUNDLGNBQWMsQ0FBQ0MsVUFBVTtBQUMvRSxNQUFNQyxxQkFBcUIsQ0FBQ0QsV0FBYSxPQUFPQSxhQUFhLFlBQ2hFLGFBQWFBLFlBQ2JBLFNBQVNFLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDQyxJQUFJLEtBQUssbUJBQW1CLGdCQUFnQkosWUFBWUEsU0FBU0ssVUFBVSxDQUFDO0FBQ3RHLE1BQU1DLDBCQUEwQixDQUFDTixXQUFhLE9BQU9BLGFBQWEsWUFDckUsYUFBYUEsWUFDYkEsU0FBU0UsT0FBTyxDQUFDQyxXQUFXLENBQUNDLElBQUksS0FBSyxXQUFXO0FBQzlDLE1BQU1HLG9CQUFvQixDQUFDUCxXQUFhLE9BQU9BLGFBQWEsWUFDL0QsYUFBYUEsWUFDYkEsU0FBU0UsT0FBTyxDQUFDQyxXQUFXLENBQUNDLElBQUksS0FBSyxnQkFBZ0I7QUFDbkQsTUFBTUksdUJBQXVCLENBQUNSLFdBQWEsT0FBT0EsYUFBYSxZQUFZLFVBQVVBLFNBQVM7QUFDOUYsTUFBTVMsNEJBQTRCLENBQUNULFdBQWEsT0FBT0EsYUFBYSxZQUFZLGVBQWVBLFNBQVM7QUFDeEcsTUFBTVUsc0JBQXNCLENBQUNWLFdBQWFBLFlBQzVDRCxDQUFBQSxlQUFlQyxhQUNaTyxrQkFBa0JQLGFBQ2xCTSx3QkFBd0JOLGFBQ3hCUywwQkFBMEJULGFBQzFCUSxxQkFBcUJSLFNBQVEsRUFBRztBQUNqQyxNQUFNVyx5QkFBeUIsQ0FBQ1g7SUFDbkMsSUFBSUEsWUFBWSwyQkFBMkJBLFVBQVU7UUFDakQsT0FBT0EsU0FBU1kscUJBQXFCO0lBQ3pDO0lBQ0EsSUFBSVosWUFBWSxPQUFPQSxhQUFhLFlBQVksUUFBUUEsVUFBVTtRQUM5RCxPQUFPO0lBQ1g7SUFDQSxPQUFPO0FBQ1gsRUFBRSxDQUNGLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL3V0aWxzLmpzP2FiYzQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5pbXBvcnQgeyBXZWIzQmFzZVByb3ZpZGVyLCB9IGZyb20gJ3dlYjMtdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGlzV2ViM1Byb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiBXZWIzQmFzZVByb3ZpZGVyLmlzV2ViM1Byb3ZpZGVyKHByb3ZpZGVyKTtcbmV4cG9ydCBjb25zdCBpc01ldGFNYXNrUHJvdmlkZXIgPSAocHJvdmlkZXIpID0+IHR5cGVvZiBwcm92aWRlciAhPT0gJ3N0cmluZycgJiZcbiAgICAncmVxdWVzdCcgaW4gcHJvdmlkZXIgJiZcbiAgICBwcm92aWRlci5yZXF1ZXN0LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdBc3luY0Z1bmN0aW9uJyAmJiAnaXNNZXRhTWFzaycgaW4gcHJvdmlkZXIgJiYgcHJvdmlkZXIuaXNNZXRhTWFzaztcbmV4cG9ydCBjb25zdCBpc0xlZ2FjeVJlcXVlc3RQcm92aWRlciA9IChwcm92aWRlcikgPT4gdHlwZW9mIHByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICdyZXF1ZXN0JyBpbiBwcm92aWRlciAmJlxuICAgIHByb3ZpZGVyLnJlcXVlc3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0VJUDExOTNQcm92aWRlciA9IChwcm92aWRlcikgPT4gdHlwZW9mIHByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICdyZXF1ZXN0JyBpbiBwcm92aWRlciAmJlxuICAgIHByb3ZpZGVyLnJlcXVlc3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzTGVnYWN5U2VuZFByb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiB0eXBlb2YgcHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICdzZW5kJyBpbiBwcm92aWRlcjtcbmV4cG9ydCBjb25zdCBpc0xlZ2FjeVNlbmRBc3luY1Byb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiB0eXBlb2YgcHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICdzZW5kQXN5bmMnIGluIHByb3ZpZGVyO1xuZXhwb3J0IGNvbnN0IGlzU3VwcG9ydGVkUHJvdmlkZXIgPSAocHJvdmlkZXIpID0+IHByb3ZpZGVyICYmXG4gICAgKGlzV2ViM1Byb3ZpZGVyKHByb3ZpZGVyKSB8fFxuICAgICAgICBpc0VJUDExOTNQcm92aWRlcihwcm92aWRlcikgfHxcbiAgICAgICAgaXNMZWdhY3lSZXF1ZXN0UHJvdmlkZXIocHJvdmlkZXIpIHx8XG4gICAgICAgIGlzTGVnYWN5U2VuZEFzeW5jUHJvdmlkZXIocHJvdmlkZXIpIHx8XG4gICAgICAgIGlzTGVnYWN5U2VuZFByb3ZpZGVyKHByb3ZpZGVyKSk7XG5leHBvcnQgY29uc3QgaXNTdXBwb3J0U3Vic2NyaXB0aW9ucyA9IChwcm92aWRlcikgPT4ge1xuICAgIGlmIChwcm92aWRlciAmJiAnc3VwcG9ydHNTdWJzY3JpcHRpb25zJyBpbiBwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gcHJvdmlkZXIuc3VwcG9ydHNTdWJzY3JpcHRpb25zKCk7XG4gICAgfVxuICAgIGlmIChwcm92aWRlciAmJiB0eXBlb2YgcHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICdvbicgaW4gcHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOlsiV2ViM0Jhc2VQcm92aWRlciIsImlzV2ViM1Byb3ZpZGVyIiwicHJvdmlkZXIiLCJpc01ldGFNYXNrUHJvdmlkZXIiLCJyZXF1ZXN0IiwiY29uc3RydWN0b3IiLCJuYW1lIiwiaXNNZXRhTWFzayIsImlzTGVnYWN5UmVxdWVzdFByb3ZpZGVyIiwiaXNFSVAxMTkzUHJvdmlkZXIiLCJpc0xlZ2FjeVNlbmRQcm92aWRlciIsImlzTGVnYWN5U2VuZEFzeW5jUHJvdmlkZXIiLCJpc1N1cHBvcnRlZFByb3ZpZGVyIiwiaXNTdXBwb3J0U3Vic2NyaXB0aW9ucyIsInN1cHBvcnRzU3Vic2NyaXB0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_batch_request.js":
/*!**************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_batch_request.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_BATCH_REQUEST_TIMEOUT: () => (/* binding */ DEFAULT_BATCH_REQUEST_TIMEOUT),\n/* harmony export */   Web3BatchRequest: () => (/* binding */ Web3BatchRequest)\n/* harmony export */ });\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ var __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst DEFAULT_BATCH_REQUEST_TIMEOUT = 1000;\nclass Web3BatchRequest {\n    constructor(requestManager){\n        this._requestManager = requestManager;\n        this._requests = new Map();\n    }\n    get requests() {\n        return [\n            ...this._requests.values()\n        ].map((r)=>r.payload);\n    }\n    add(request) {\n        const payload = web3_utils__WEBPACK_IMPORTED_MODULE_0__.jsonRpc.toPayload(request);\n        const promise = new web3_utils__WEBPACK_IMPORTED_MODULE_0__.Web3DeferredPromise();\n        this._requests.set(payload.id, {\n            payload,\n            promise\n        });\n        return promise;\n    }\n    // eslint-disable-next-line class-methods-use-this\n    execute(options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function*() {\n            if (this.requests.length === 0) {\n                return Promise.resolve([]);\n            }\n            const request = new web3_utils__WEBPACK_IMPORTED_MODULE_0__.Web3DeferredPromise({\n                timeout: (_a = options === null || options === void 0 ? void 0 : options.timeout) !== null && _a !== void 0 ? _a : DEFAULT_BATCH_REQUEST_TIMEOUT,\n                eagerStart: true,\n                timeoutMessage: \"Batch request timeout\"\n            });\n            this._processBatchRequest(request).catch((err)=>request.reject(err));\n            request.catch((err)=>{\n                if (err instanceof web3_errors__WEBPACK_IMPORTED_MODULE_1__.OperationTimeoutError) {\n                    this._abortAllRequests(\"Batch request timeout\");\n                }\n                request.reject(err);\n            });\n            return request;\n        });\n    }\n    _processBatchRequest(promise) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function*() {\n            const response = yield this._requestManager.sendBatch([\n                ...this._requests.values()\n            ].map((r)=>r.payload));\n            if (response.length !== this._requests.size) {\n                this._abortAllRequests(\"Invalid batch response\");\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.ResponseError(response, `Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${response.length}`);\n            }\n            const requestIds = this.requests.map((r)=>r.id).map(Number).sort((a, b)=>a - b);\n            const responseIds = response.map((r)=>r.id).map(Number).sort((a, b)=>a - b);\n            if (JSON.stringify(requestIds) !== JSON.stringify(responseIds)) {\n                this._abortAllRequests(\"Invalid batch response\");\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.ResponseError(response, `Batch request mismatch the results. Requests: [${requestIds.join()}], Responses: [${responseIds.join()}]`);\n            }\n            for (const res of response){\n                if (web3_utils__WEBPACK_IMPORTED_MODULE_0__.jsonRpc.isResponseWithResult(res)) {\n                    (_a = this._requests.get(res.id)) === null || _a === void 0 ? void 0 : _a.promise.resolve(res.result);\n                } else if (web3_utils__WEBPACK_IMPORTED_MODULE_0__.jsonRpc.isResponseWithError(res)) {\n                    (_b = this._requests.get(res.id)) === null || _b === void 0 ? void 0 : _b.promise.reject(res.error);\n                }\n            }\n            promise.resolve(response);\n        });\n    }\n    _abortAllRequests(msg) {\n        for (const { promise } of this._requests.values()){\n            promise.reject(new web3_errors__WEBPACK_IMPORTED_MODULE_1__.OperationAbortError(msg));\n        }\n    }\n} //# sourceMappingURL=web3_batch_request.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19iYXRjaF9yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsR0FDQSxJQUFJQSxZQUFZLFNBQUssSUFBSSxTQUFJLENBQUNBLFNBQVMsSUFBSyxTQUFVQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO0lBQ25GLFNBQVNDLE1BQU1DLEtBQUs7UUFBSSxPQUFPQSxpQkFBaUJILElBQUlHLFFBQVEsSUFBSUgsRUFBRSxTQUFVSSxPQUFPO1lBQUlBLFFBQVFEO1FBQVE7SUFBSTtJQUMzRyxPQUFPLElBQUtILENBQUFBLEtBQU1BLENBQUFBLElBQUlLLE9BQU0sQ0FBQyxFQUFHLFNBQVVELE9BQU8sRUFBRUUsTUFBTTtRQUNyRCxTQUFTQyxVQUFVSixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsVUFBVVEsSUFBSSxDQUFDTjtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzFGLFNBQVNDLFNBQVNSLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxTQUFTLENBQUMsUUFBUSxDQUFDRTtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzdGLFNBQVNGLEtBQUtJLE1BQU07WUFBSUEsT0FBT0MsSUFBSSxHQUFHVCxRQUFRUSxPQUFPVCxLQUFLLElBQUlELE1BQU1VLE9BQU9ULEtBQUssRUFBRVcsSUFBSSxDQUFDUCxXQUFXSTtRQUFXO1FBQzdHSCxLQUFLLENBQUNQLFlBQVlBLFVBQVVjLEtBQUssQ0FBQ2pCLFNBQVNDLGNBQWMsRUFBRSxHQUFHVSxJQUFJO0lBQ3RFO0FBQ0o7QUFDMEQ7QUFDOEI7QUFDakYsTUFBTVksZ0NBQWdDLEtBQUs7QUFDM0MsTUFBTUM7SUFDVEMsWUFBWUMsY0FBYyxDQUFFO1FBQ3hCLElBQUksQ0FBQ0MsZUFBZSxHQUFH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QUMsQ0FBQztZQUNoSjtZQUNBLEtBQUssTUFBTUMsT0FBT1osU0FBVTtnQkFDeEIsSUFBSW5DLG9FQUE0QixDQUFDK0MsTUFBTTtvQkFDbEN0QixDQUFBQSxLQUFLLElBQUksQ0FBQ2YsU0FBUyxDQUFDdUMsR0FBRyxDQUFDRixJQUFJekIsRUFBRSxPQUFPLFFBQVFHLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR0wsT0FBTyxDQUFDaEMsT0FBTyxDQUFDMkQsSUFBSW5ELE1BQU07Z0JBQ3hHLE9BQ0ssSUFBSUksbUVBQTJCLENBQUMrQyxNQUFNO29CQUN0Q2IsQ0FBQUEsS0FBSyxJQUFJLENBQUN4QixTQUFTLENBQUN1QyxHQUFHLENBQUNGLElBQUl6QixFQUFFLE9BQU8sUUFBUVksT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHZCxPQUFPLENBQUM5QixNQUFNLENBQUN5RCxJQUFJSSxLQUFLO2dCQUN0RztZQUNKO1lBQ0EvQixRQUFRaEMsT0FBTyxDQUFDK0M7UUFDcEI7SUFDSjtJQUNBRixrQkFBa0JtQixHQUFHLEVBQUU7UUFDbkIsS0FBSyxNQUFNLEVBQUVoQyxPQUFPLEVBQUUsSUFBSSxJQUFJLENBQUNWLFNBQVMsQ0FBQ0csTUFBTSxHQUFJO1lBQy9DTyxRQUFROUIsTUFBTSxDQUFDLElBQUlZLDREQUFtQkEsQ0FBQ2tEO1FBQzNDO0lBQ0o7QUFDSixFQUNBLDhDQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL3dlYjNfYmF0Y2hfcmVxdWVzdC5qcz83OGMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBqc29uUnBjLCBXZWIzRGVmZXJyZWRQcm9taXNlIH0gZnJvbSAnd2ViMy11dGlscyc7XG5pbXBvcnQgeyBPcGVyYXRpb25BYm9ydEVycm9yLCBPcGVyYXRpb25UaW1lb3V0RXJyb3IsIFJlc3BvbnNlRXJyb3IgfSBmcm9tICd3ZWIzLWVycm9ycyc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9CQVRDSF9SRVFVRVNUX1RJTUVPVVQgPSAxMDAwO1xuZXhwb3J0IGNsYXNzIFdlYjNCYXRjaFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gcmVxdWVzdE1hbmFnZXI7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgcmVxdWVzdHMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fcmVxdWVzdHMudmFsdWVzKCldLm1hcChyID0+IHIucGF5bG9hZCk7XG4gICAgfVxuICAgIGFkZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBqc29uUnBjLnRvUGF5bG9hZChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBXZWIzRGVmZXJyZWRQcm9taXNlKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RzLnNldChwYXlsb2FkLmlkLCB7IHBheWxvYWQsIHByb21pc2UgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIGV4ZWN1dGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXF1ZXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgV2ViM0RlZmVycmVkUHJvbWlzZSh7XG4gICAgICAgICAgICAgICAgdGltZW91dDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfQkFUQ0hfUkVRVUVTVF9USU1FT1VULFxuICAgICAgICAgICAgICAgIGVhZ2VyU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZW91dE1lc3NhZ2U6ICdCYXRjaCByZXF1ZXN0IHRpbWVvdXQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzQmF0Y2hSZXF1ZXN0KHJlcXVlc3QpLmNhdGNoKGVyciA9PiByZXF1ZXN0LnJlamVjdChlcnIpKTtcbiAgICAgICAgICAgIHJlcXVlc3QuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBPcGVyYXRpb25UaW1lb3V0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRBbGxSZXF1ZXN0cygnQmF0Y2ggcmVxdWVzdCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NCYXRjaFJlcXVlc3QocHJvbWlzZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLl9yZXF1ZXN0TWFuYWdlci5zZW5kQmF0Y2goWy4uLnRoaXMuX3JlcXVlc3RzLnZhbHVlcygpXS5tYXAociA9PiByLnBheWxvYWQpKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggIT09IHRoaXMuX3JlcXVlc3RzLnNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hYm9ydEFsbFJlcXVlc3RzKCdJbnZhbGlkIGJhdGNoIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIGBCYXRjaCByZXF1ZXN0IHNpemUgbWlzbWF0Y2ggdGhlIHJlc3VsdHMgc2l6ZS4gUmVxdWVzdHM6ICR7dGhpcy5fcmVxdWVzdHMuc2l6ZX0sIFJlc3BvbnNlczogJHtyZXNwb25zZS5sZW5ndGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0SWRzID0gdGhpcy5yZXF1ZXN0c1xuICAgICAgICAgICAgICAgIC5tYXAociA9PiByLmlkKVxuICAgICAgICAgICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUlkcyA9IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLm1hcChyID0+IHIuaWQpXG4gICAgICAgICAgICAgICAgLm1hcChOdW1iZXIpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShyZXF1ZXN0SWRzKSAhPT0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VJZHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRBbGxSZXF1ZXN0cygnSW52YWxpZCBiYXRjaCByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlLCBgQmF0Y2ggcmVxdWVzdCBtaXNtYXRjaCB0aGUgcmVzdWx0cy4gUmVxdWVzdHM6IFske3JlcXVlc3RJZHMuam9pbigpfV0sIFJlc3BvbnNlczogWyR7cmVzcG9uc2VJZHMuam9pbigpfV1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzIG9mIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9yZXF1ZXN0cy5nZXQocmVzLmlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb21pc2UucmVzb2x2ZShyZXMucmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoanNvblJwYy5pc1Jlc3BvbnNlV2l0aEVycm9yKHJlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gdGhpcy5fcmVxdWVzdHMuZ2V0KHJlcy5pZCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wcm9taXNlLnJlamVjdChyZXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWJvcnRBbGxSZXF1ZXN0cyhtc2cpIHtcbiAgICAgICAgZm9yIChjb25zdCB7IHByb21pc2UgfSBvZiB0aGlzLl9yZXF1ZXN0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IE9wZXJhdGlvbkFib3J0RXJyb3IobXNnKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX2JhdGNoX3JlcXVlc3QuanMubWFwIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImpzb25ScGMiLCJXZWIzRGVmZXJyZWRQcm9taXNlIiwiT3BlcmF0aW9uQWJvcnRFcnJvciIsIk9wZXJhdGlvblRpbWVvdXRFcnJvciIsIlJlc3BvbnNlRXJyb3IiLCJERUZBVUxUX0JBVENIX1JFUVVFU1RfVElNRU9VVCIsIldlYjNCYXRjaFJlcXVlc3QiLCJjb25zdHJ1Y3RvciIsInJlcXVlc3RNYW5hZ2VyIiwiX3JlcXVlc3RNYW5hZ2VyIiwiX3JlcXVlc3RzIiwiTWFwIiwicmVxdWVzdHMiLCJ2YWx1ZXMiLCJtYXAiLCJyIiwicGF5bG9hZCIsImFkZCIsInJlcXVlc3QiLCJ0b1BheWxvYWQiLCJwcm9taXNlIiwic2V0IiwiaWQiLCJleGVjdXRlIiwib3B0aW9ucyIsIl9hIiwibGVuZ3RoIiwidGltZW91dCIsImVhZ2VyU3RhcnQiLCJ0aW1lb3V0TWVzc2FnZSIsIl9wcm9jZXNzQmF0Y2hSZXF1ZXN0IiwiY2F0Y2giLCJlcnIiLCJfYWJvcnRBbGxSZXF1ZXN0cyIsIl9iIiwicmVzcG9uc2UiLCJzZW5kQmF0Y2giLCJzaXplIiwicmVxdWVzdElkcyIsIk51bWJlciIsInNvcnQiLCJhIiwiYiIsInJlc3BvbnNlSWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImpvaW4iLCJyZXMiLCJpc1Jlc3BvbnNlV2l0aFJlc3VsdCIsImdldCIsImlzUmVzcG9uc2VXaXRoRXJyb3IiLCJlcnJvciIsIm1zZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_batch_request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_config.js":
/*!*******************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_config.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3Config: () => (/* binding */ Web3Config),\n/* harmony export */   Web3ConfigEvent: () => (/* binding */ Web3ConfigEvent)\n/* harmony export */ });\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./web3_event_emitter.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ \n\n\nvar Web3ConfigEvent;\n(function(Web3ConfigEvent) {\n    Web3ConfigEvent[\"CONFIG_CHANGE\"] = \"CONFIG_CHANGE\";\n})(Web3ConfigEvent || (Web3ConfigEvent = {}));\nclass Web3Config extends _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_2__.Web3EventEmitter {\n    constructor(options){\n        super();\n        this.config = {\n            handleRevert: false,\n            defaultAccount: undefined,\n            defaultBlock: \"latest\",\n            transactionBlockTimeout: 50,\n            transactionConfirmationBlocks: 24,\n            transactionPollingInterval: 1000,\n            transactionPollingTimeout: 750 * 1000,\n            transactionReceiptPollingInterval: undefined,\n            transactionSendTimeout: 750 * 1000,\n            transactionConfirmationPollingInterval: undefined,\n            blockHeaderTimeout: 10,\n            maxListenersWarningThreshold: 100,\n            contractDataInputFill: \"data\",\n            defaultNetworkId: undefined,\n            defaultChain: \"mainnet\",\n            defaultHardfork: \"london\",\n            // TODO - Check if there is a default Common\n            defaultCommon: undefined,\n            defaultTransactionType: \"0x2\",\n            defaultMaxPriorityFeePerGas: (0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.toHex)(2500000000),\n            enableExperimentalFeatures: {\n                useSubscriptionWhenCheckingBlockTimeout: false,\n                useRpcCallSpecification: false\n            },\n            transactionBuilder: undefined,\n            transactionTypeParser: undefined\n        };\n        this.setConfig(options !== null && options !== void 0 ? options : {});\n    }\n    setConfig(options) {\n        // TODO: Improve and add key check\n        const keys = Object.keys(options);\n        for (const key of keys){\n            this._triggerConfigChange(key, options[key]);\n        }\n        Object.assign(this.config, options);\n    }\n    /**\n     * The `handleRevert` options property returns the revert reason string if enabled for the following methods:\n     * - web3.eth.sendTransaction()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     * - myContract.methods.myMethod().send()\n     * Default is `false`.\n     *\n     * `Note`: At the moment `handleRevert` is only supported for `sendTransaction` and not for `sendSignedTransaction`\n     */ get handleRevert() {\n        return this.config.handleRevert;\n    }\n    /**\n     * Will set the handleRevert\n     */ set handleRevert(val) {\n        this._triggerConfigChange(\"handleRevert\", val);\n        this.config.handleRevert = val;\n    }\n    /**\n     * The `contractDataInputFill` options property will allow you to set the hash of the method signature and encoded parameters to the property\n     * either `data`, `input` or both within your contract.\n     * This will affect the contracts send, call and estimateGas methods\n     * Default is `input`.\n     */ get contractDataInputFill() {\n        return this.config.contractDataInputFill;\n    }\n    /**\n     * Will set the contractDataInputFill\n     */ set contractDataInputFill(val) {\n        this._triggerConfigChange(\"contractDataInputFill\", val);\n        this.config.contractDataInputFill = val;\n    }\n    /**\n     * This default address is used as the default `from` property, if no `from` property is specified in for the following methods:\n     * - web3.eth.sendTransaction()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     * - myContract.methods.myMethod().send()\n     */ get defaultAccount() {\n        return this.config.defaultAccount;\n    }\n    /**\n     * Will set the default account.\n     */ set defaultAccount(val) {\n        this._triggerConfigChange(\"defaultAccount\", val);\n        this.config.defaultAccount = val;\n    }\n    /**\n     * The default block is used for certain methods. You can override it by passing in the defaultBlock as last parameter. The default value is `\"latest\"`.\n     * - web3.eth.getBalance()\n     * - web3.eth.getCode()\n     * - web3.eth.getTransactionCount()\n     * - web3.eth.getStorageAt()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     */ get defaultBlock() {\n        return this.config.defaultBlock;\n    }\n    /**\n     * Will set the default block.\n     *\n     * - A block number\n     * - `\"earliest\"` - String: The genesis block\n     * - `\"latest\"` - String: The latest block (current head of the blockchain)\n     * - `\"pending\"` - String: The currently mined block (including pending transactions)\n     * - `\"finalized\"` - String: (For POS networks) The finalized block is one which has been accepted as canonical by greater than 2/3 of validators\n     * - `\"safe\"` - String: (For POS networks) The safe head block is one which under normal network conditions, is expected to be included in the canonical chain. Under normal network conditions the safe head and the actual tip of the chain will be equivalent (with safe head trailing only by a few seconds). Safe heads will be less likely to be reorged than the proof of work network`s latest blocks.\n     */ set defaultBlock(val) {\n        this._triggerConfigChange(\"defaultBlock\", val);\n        this.config.defaultBlock = val;\n    }\n    /**\n     * The time used to wait for Ethereum Node to return the sent transaction result.\n     * Note: If the RPC call stuck at the Node and therefor timed-out, the transaction may still be pending or even mined by the Network. We recommend checking the pending transactions in such a case.\n     * Default is `750` seconds (12.5 minutes).\n     */ get transactionSendTimeout() {\n        return this.config.transactionSendTimeout;\n    }\n    /**\n     * Will set the transactionSendTimeout.\n     */ set transactionSendTimeout(val) {\n        this._triggerConfigChange(\"transactionSendTimeout\", val);\n        this.config.transactionSendTimeout = val;\n    }\n    /**\n     * The `transactionBlockTimeout` is used over socket-based connections. This option defines the amount of new blocks it should wait until the first confirmation happens, otherwise the PromiEvent rejects with a timeout error.\n     * Default is `50`.\n     */ get transactionBlockTimeout() {\n        return this.config.transactionBlockTimeout;\n    }\n    /**\n     * Will set the transactionBlockTimeout.\n     */ set transactionBlockTimeout(val) {\n        this._triggerConfigChange(\"transactionBlockTimeout\", val);\n        this.config.transactionBlockTimeout = val;\n    }\n    /**\n     * This defines the number of blocks it requires until a transaction is considered confirmed.\n     * Default is `24`.\n     */ get transactionConfirmationBlocks() {\n        return this.config.transactionConfirmationBlocks;\n    }\n    /**\n     * Will set the transactionConfirmationBlocks.\n     */ set transactionConfirmationBlocks(val) {\n        this._triggerConfigChange(\"transactionConfirmationBlocks\", val);\n        this.config.transactionConfirmationBlocks = val;\n    }\n    /**\n     * Used over HTTP connections. This option defines the number of seconds between Web3 calls for a receipt which confirms that a transaction was mined by the network.\n     * Default is `1000` ms.\n     */ get transactionPollingInterval() {\n        return this.config.transactionPollingInterval;\n    }\n    /**\n     * Will set the transactionPollingInterval.\n     */ set transactionPollingInterval(val) {\n        this._triggerConfigChange(\"transactionPollingInterval\", val);\n        this.config.transactionPollingInterval = val;\n        this.transactionReceiptPollingInterval = val;\n        this.transactionConfirmationPollingInterval = val;\n    }\n    /**\n     * Used over HTTP connections. This option defines the number of seconds Web3 will wait for a receipt which confirms that a transaction was mined by the network. Note: If this method times out, the transaction may still be pending.\n     * Default is `750` seconds (12.5 minutes).\n     */ get transactionPollingTimeout() {\n        return this.config.transactionPollingTimeout;\n    }\n    /**\n     * Will set the transactionPollingTimeout.\n     */ set transactionPollingTimeout(val) {\n        this._triggerConfigChange(\"transactionPollingTimeout\", val);\n        this.config.transactionPollingTimeout = val;\n    }\n    /**\n     * The `transactionPollingInterval` is used over HTTP connections. This option defines the number of seconds between Web3 calls for a receipt which confirms that a transaction was mined by the network.\n     * Default is `undefined`\n     */ get transactionReceiptPollingInterval() {\n        return this.config.transactionReceiptPollingInterval;\n    }\n    /**\n     * Will set the transactionReceiptPollingInterval\n     */ set transactionReceiptPollingInterval(val) {\n        this._triggerConfigChange(\"transactionReceiptPollingInterval\", val);\n        this.config.transactionReceiptPollingInterval = val;\n    }\n    get transactionConfirmationPollingInterval() {\n        return this.config.transactionConfirmationPollingInterval;\n    }\n    set transactionConfirmationPollingInterval(val) {\n        this._triggerConfigChange(\"transactionConfirmationPollingInterval\", val);\n        this.config.transactionConfirmationPollingInterval = val;\n    }\n    /**\n     * The blockHeaderTimeout is used over socket-based connections. This option defines the amount seconds it should wait for `'newBlockHeaders'` event before falling back to polling to fetch transaction receipt.\n     * Default is `10` seconds.\n     */ get blockHeaderTimeout() {\n        return this.config.blockHeaderTimeout;\n    }\n    /**\n     * Will set the blockHeaderTimeout\n     */ set blockHeaderTimeout(val) {\n        this._triggerConfigChange(\"blockHeaderTimeout\", val);\n        this.config.blockHeaderTimeout = val;\n    }\n    /**\n     * The enableExperimentalFeatures is used to enable trying new experimental features that are still not fully implemented or not fully tested or still have some related issues.\n     * Default is `false` for every feature.\n     */ get enableExperimentalFeatures() {\n        return this.config.enableExperimentalFeatures;\n    }\n    /**\n     * Will set the enableExperimentalFeatures\n     */ set enableExperimentalFeatures(val) {\n        this._triggerConfigChange(\"enableExperimentalFeatures\", val);\n        this.config.enableExperimentalFeatures = val;\n    }\n    get maxListenersWarningThreshold() {\n        return this.config.maxListenersWarningThreshold;\n    }\n    set maxListenersWarningThreshold(val) {\n        this._triggerConfigChange(\"maxListenersWarningThreshold\", val);\n        this.setMaxListenerWarningThreshold(val);\n        this.config.maxListenersWarningThreshold = val;\n    }\n    get defaultNetworkId() {\n        return this.config.defaultNetworkId;\n    }\n    set defaultNetworkId(val) {\n        this._triggerConfigChange(\"defaultNetworkId\", val);\n        this.config.defaultNetworkId = val;\n    }\n    get defaultChain() {\n        return this.config.defaultChain;\n    }\n    set defaultChain(val) {\n        if (!(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultCommon) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultCommon.baseChain) && val !== this.config.defaultCommon.baseChain) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ConfigChainMismatchError(this.config.defaultChain, val);\n        this._triggerConfigChange(\"defaultChain\", val);\n        this.config.defaultChain = val;\n    }\n    /**\n     * Will return the default hardfork. Default is `london`\n     * The default hardfork property can be one of the following:\n     * - `chainstart`\n     * - `homestead`\n     * - `dao`\n     * - `tangerineWhistle`\n     * - `spuriousDragon`\n     * - `byzantium`\n     * - `constantinople`\n     * - `petersburg`\n     * - `istanbul`\n     * - `berlin`\n     * - `london`\n     * - 'arrowGlacier',\n     * - 'tangerineWhistle',\n     * - 'muirGlacier'\n     *\n     */ get defaultHardfork() {\n        return this.config.defaultHardfork;\n    }\n    /**\n     * Will set the default hardfork.\n     *\n     */ set defaultHardfork(val) {\n        if (!(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultCommon) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultCommon.hardfork) && val !== this.config.defaultCommon.hardfork) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ConfigHardforkMismatchError(this.config.defaultCommon.hardfork, val);\n        this._triggerConfigChange(\"defaultHardfork\", val);\n        this.config.defaultHardfork = val;\n    }\n    /**\n     *\n     * Will get the default common property\n     * The default common property does contain the following Common object:\n     * - `customChain` - `Object`: The custom chain properties\n     * \t- `name` - `string`: (optional) The name of the chain\n     * \t- `networkId` - `number`: Network ID of the custom chain\n     * \t- `chainId` - `number`: Chain ID of the custom chain\n     * - `baseChain` - `string`: (optional) mainnet, goerli, kovan, rinkeby, or ropsten\n     * - `hardfork` - `string`: (optional) chainstart, homestead, dao, tangerineWhistle, spuriousDragon, byzantium, constantinople, petersburg, istanbul, berlin, or london\n     * Default is `undefined`.\n     *\n     */ get defaultCommon() {\n        return this.config.defaultCommon;\n    }\n    /**\n     * Will set the default common property\n     *\n     */ set defaultCommon(val) {\n        // validation check if default hardfork is set and matches defaultCommon hardfork\n        if (!(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultHardfork) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(val) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(val.hardfork) && this.config.defaultHardfork !== val.hardfork) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ConfigHardforkMismatchError(this.config.defaultHardfork, val.hardfork);\n        if (!(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(this.config.defaultChain) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(val) && !(0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(val.baseChain) && this.config.defaultChain !== val.baseChain) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ConfigChainMismatchError(this.config.defaultChain, val.baseChain);\n        this._triggerConfigChange(\"defaultCommon\", val);\n        this.config.defaultCommon = val;\n    }\n    get defaultTransactionType() {\n        return this.config.defaultTransactionType;\n    }\n    set defaultTransactionType(val) {\n        this._triggerConfigChange(\"defaultTransactionType\", val);\n        this.config.defaultTransactionType = val;\n    }\n    get defaultMaxPriorityFeePerGas() {\n        return this.config.defaultMaxPriorityFeePerGas;\n    }\n    set defaultMaxPriorityFeePerGas(val) {\n        this._triggerConfigChange(\"defaultMaxPriorityFeePerGas\", val);\n        this.config.defaultMaxPriorityFeePerGas = val;\n    }\n    get transactionBuilder() {\n        return this.config.transactionBuilder;\n    }\n    set transactionBuilder(val) {\n        this._triggerConfigChange(\"transactionBuilder\", val);\n        this.config.transactionBuilder = val;\n    }\n    get transactionTypeParser() {\n        return this.config.transactionTypeParser;\n    }\n    set transactionTypeParser(val) {\n        this._triggerConfigChange(\"transactionTypeParser\", val);\n        this.config.transactionTypeParser = val;\n    }\n    _triggerConfigChange(config, newValue) {\n        this.emit(Web3ConfigEvent.CONFIG_CHANGE, {\n            name: config,\n            oldValue: this.config[config],\n            newValue\n        });\n    }\n} //# sourceMappingURL=web3_config.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsR0FDb0Y7QUFDdEM7QUFDYTtBQUNwRCxJQUFJSyxnQkFBZ0I7QUFDMUIsVUFBVUEsZUFBZTtJQUN0QkEsZUFBZSxDQUFDLGdCQUFnQixHQUFHO0FBQ3ZDLEdBQUdBLG1CQUFvQkEsQ0FBQUEsa0JBQWtCLENBQUM7QUFDbkMsTUFBTUMsbUJBQW1CRixvRUFBZ0JBO0lBQzVDRyxZQUFZQyxPQUFPLENBQUU7UUFDakIsS0FBSztRQUNMLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1lBQ1ZDLGNBQWM7WUFDZEMsZ0JBQWdCQztZQUNoQkMsY0FBYztZQUNkQyx5QkFBeUI7WUFDekJDLCtCQUErQjtZQUMvQkMsNEJBQTRCO1lBQzVCQywyQkFBMkIsTUFBTTtZQUNqQ0MsbUNBQW1DTjtZQUNuQ08sd0JBQXdCLE1BQU07WUFDOUJDLHdDQUF3Q1I7WUFDeENTLG9CQUFvQjtZQUNwQkMsOEJBQThCO1lBQzlCQyx1QkFBdUI7WUFDdkJDLGtCQUFrQlo7WUFDbEJhLGNBQWM7WUFDZEMsaUJBQWlCO1lBQ2pCLDRDQUE0QztZQUM1Q0MsZUFBZWY7WUFDZmdCLHdCQUF3QjtZQUN4QkMsNkJBQTZCMUIsaURBQUtBLENBQUM7WUFDbkMyQiw0QkFBNEI7Z0JBQ3hCQyx5Q0FBeUM7Z0JBQ3pDQyx5QkFBeUI7WUFDN0I7WUFDQUMsb0JBQW9CckI7WUFDcEJzQix1QkFBdUJ0QjtRQUMzQjtRQUNBLElBQUksQ0FBQ3VCLFNBQVMsQ0FBQzNCLFlBQVksUUFBUUEsWUFBWSxLQUFLLElBQUlBLFVBQVUsQ0FBQztJQUN2RTtJQUNBMkIsVUFBVTNCLE9BQU8sRUFBRTtRQUNmLGtDQUFrQztRQUNsQyxNQUFNNEIsT0FBT0MsT0FBT0QsSUFBSSxDQUFDNUI7UUFDekIsS0FBSyxNQUFNOEIsT0FBT0YsS0FBTTtZQUNwQixJQUFJLENB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O0lBQ0EsSUFBSUEsc0JBQXNCTyxHQUFHLEVBQUU7UUFDM0IsSUFBSSxDQUFDRixvQkFBb0IsQ0FBQyx5QkFBeUJFO1FBQ25ELElBQUksQ0FBQ2hDLE1BQU0sQ0FBQ3lCLHFCQUFxQixHQUFHTztJQUN4QztJQUNBRixxQkFBcUI5QixNQUFNLEVBQUVvQyxRQUFRLEVBQUU7UUFDbkMsSUFBSSxDQUFDQyxJQUFJLENBQUN6QyxnQkFBZ0IwQyxhQUFhLEVBQUU7WUFDckNDLE1BQU12QztZQUNOd0MsVUFBVSxJQUFJLENBQUN4QyxNQUFNLENBQUNBLE9BQU87WUFDN0JvQztRQUNKO0lBQ0o7QUFDSixFQUNBLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL3dlYjNfY29uZmlnLmpzPzcwNTMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5pbXBvcnQgeyBDb25maWdIYXJkZm9ya01pc21hdGNoRXJyb3IsIENvbmZpZ0NoYWluTWlzbWF0Y2hFcnJvciB9IGZyb20gJ3dlYjMtZXJyb3JzJztcbmltcG9ydCB7IGlzTnVsbGlzaCwgdG9IZXggfSBmcm9tICd3ZWIzLXV0aWxzJztcbmltcG9ydCB7IFdlYjNFdmVudEVtaXR0ZXIgfSBmcm9tICcuL3dlYjNfZXZlbnRfZW1pdHRlci5qcyc7XG5leHBvcnQgdmFyIFdlYjNDb25maWdFdmVudDtcbihmdW5jdGlvbiAoV2ViM0NvbmZpZ0V2ZW50KSB7XG4gICAgV2ViM0NvbmZpZ0V2ZW50W1wiQ09ORklHX0NIQU5HRVwiXSA9IFwiQ09ORklHX0NIQU5HRVwiO1xufSkoV2ViM0NvbmZpZ0V2ZW50IHx8IChXZWIzQ29uZmlnRXZlbnQgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIFdlYjNDb25maWcgZXh0ZW5kcyBXZWIzRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgaGFuZGxlUmV2ZXJ0OiBmYWxzZSxcbiAgICAgICAgICAgIGRlZmF1bHRBY2NvdW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZWZhdWx0QmxvY2s6ICdsYXRlc3QnLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQ6IDUwLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3M6IDI0LFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWw6IDEwMDAsXG4gICAgICAgICAgICB0cmFuc2FjdGlvblBvbGxpbmdUaW1lb3V0OiA3NTAgKiAxMDAwLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0cmFuc2FjdGlvblNlbmRUaW1lb3V0OiA3NTAgKiAxMDAwLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25Db25maXJtYXRpb25Qb2xsaW5nSW50ZXJ2YWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJsb2NrSGVhZGVyVGltZW91dDogMTAsXG4gICAgICAgICAgICBtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkOiAxMDAsXG4gICAgICAgICAgICBjb250cmFjdERhdGFJbnB1dEZpbGw6ICdkYXRhJyxcbiAgICAgICAgICAgIGRlZmF1bHROZXR3b3JrSWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGFpbjogJ21haW5uZXQnLFxuICAgICAgICAgICAgZGVmYXVsdEhhcmRmb3JrOiAnbG9uZG9uJyxcbiAgICAgICAgICAgIC8vIFRPRE8gLSBDaGVjayBpZiB0aGVyZSBpcyBhIGRlZmF1bHQgQ29tbW9uXG4gICAgICAgICAgICBkZWZhdWx0Q29tbW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZWZhdWx0VHJhbnNhY3Rpb25UeXBlOiAnMHgyJyxcbiAgICAgICAgICAgIGRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhczogdG9IZXgoMjUwMDAwMDAwMCksXG4gICAgICAgICAgICBlbmFibGVFeHBlcmltZW50YWxGZWF0dXJlczoge1xuICAgICAgICAgICAgICAgIHVzZVN1YnNjcmlwdGlvbldoZW5DaGVja2luZ0Jsb2NrVGltZW91dDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlUnBjQ2FsbFNwZWNpZmljYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQnVpbGRlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlUGFyc2VyOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgc2V0Q29uZmlnKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogSW1wcm92ZSBhbmQgYWRkIGtleSBjaGVja1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2Uoa2V5LCBvcHRpb25zW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYGhhbmRsZVJldmVydGAgb3B0aW9ucyBwcm9wZXJ0eSByZXR1cm5zIHRoZSByZXZlcnQgcmVhc29uIHN0cmluZyBpZiBlbmFibGVkIGZvciB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gICAgICogLSB3ZWIzLmV0aC5zZW5kVHJhbnNhY3Rpb24oKVxuICAgICAqIC0gd2ViMy5ldGguY2FsbCgpXG4gICAgICogLSBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoKS5jYWxsKClcbiAgICAgKiAtIG15Q29udHJhY3QubWV0aG9kcy5teU1ldGhvZCgpLnNlbmQoKVxuICAgICAqIERlZmF1bHQgaXMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIGBOb3RlYDogQXQgdGhlIG1vbWVudCBgaGFuZGxlUmV2ZXJ0YCBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgYHNlbmRUcmFuc2FjdGlvbmAgYW5kIG5vdCBmb3IgYHNlbmRTaWduZWRUcmFuc2FjdGlvbmBcbiAgICAgKi9cbiAgICBnZXQgaGFuZGxlUmV2ZXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaGFuZGxlUmV2ZXJ0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgaGFuZGxlUmV2ZXJ0XG4gICAgICovXG4gICAgc2V0IGhhbmRsZVJldmVydCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnaGFuZGxlUmV2ZXJ0JywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuaGFuZGxlUmV2ZXJ0ID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYGNvbnRyYWN0RGF0YUlucHV0RmlsbGAgb3B0aW9ucyBwcm9wZXJ0eSB3aWxsIGFsbG93IHlvdSB0byBzZXQgdGhlIGhhc2ggb2YgdGhlIG1ldGhvZCBzaWduYXR1cmUgYW5kIGVuY29kZWQgcGFyYW1ldGVycyB0byB0aGUgcHJvcGVydHlcbiAgICAgKiBlaXRoZXIgYGRhdGFgLCBgaW5wdXRgIG9yIGJvdGggd2l0aGluIHlvdXIgY29udHJhY3QuXG4gICAgICogVGhpcyB3aWxsIGFmZmVjdCB0aGUgY29udHJhY3RzIHNlbmQsIGNhbGwgYW5kIGVzdGltYXRlR2FzIG1ldGhvZHNcbiAgICAgKiBEZWZhdWx0IGlzIGBpbnB1dGAuXG4gICAgICovXG4gICAgZ2V0IGNvbnRyYWN0RGF0YUlucHV0RmlsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNvbnRyYWN0RGF0YUlucHV0RmlsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGNvbnRyYWN0RGF0YUlucHV0RmlsbFxuICAgICAqL1xuICAgIHNldCBjb250cmFjdERhdGFJbnB1dEZpbGwodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2NvbnRyYWN0RGF0YUlucHV0RmlsbCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbnRyYWN0RGF0YUlucHV0RmlsbCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZhdWx0IGFkZHJlc3MgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBgZnJvbWAgcHJvcGVydHksIGlmIG5vIGBmcm9tYCBwcm9wZXJ0eSBpcyBzcGVjaWZpZWQgaW4gZm9yIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcbiAgICAgKiAtIHdlYjMuZXRoLnNlbmRUcmFuc2FjdGlvbigpXG4gICAgICogLSB3ZWIzLmV0aC5jYWxsKClcbiAgICAgKiAtIG15Q29udHJhY3QubWV0aG9kcy5teU1ldGhvZCgpLmNhbGwoKVxuICAgICAqIC0gbXlDb250cmFjdC5tZXRob2RzLm15TWV0aG9kKCkuc2VuZCgpXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRBY2NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGVmYXVsdEFjY291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBkZWZhdWx0IGFjY291bnQuXG4gICAgICovXG4gICAgc2V0IGRlZmF1bHRBY2NvdW50KHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0QWNjb3VudCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHRBY2NvdW50ID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBibG9jayBpcyB1c2VkIGZvciBjZXJ0YWluIG1ldGhvZHMuIFlvdSBjYW4gb3ZlcnJpZGUgaXQgYnkgcGFzc2luZyBpbiB0aGUgZGVmYXVsdEJsb2NrIGFzIGxhc3QgcGFyYW1ldGVyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgXCJsYXRlc3RcImAuXG4gICAgICogLSB3ZWIzLmV0aC5nZXRCYWxhbmNlKClcbiAgICAgKiAtIHdlYjMuZXRoLmdldENvZGUoKVxuICAgICAqIC0gd2ViMy5ldGguZ2V0VHJhbnNhY3Rpb25Db3VudCgpXG4gICAgICogLSB3ZWIzLmV0aC5nZXRTdG9yYWdlQXQoKVxuICAgICAqIC0gd2ViMy5ldGguY2FsbCgpXG4gICAgICogLSBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoKS5jYWxsKClcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdEJsb2NrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgZGVmYXVsdCBibG9jay5cbiAgICAgKlxuICAgICAqIC0gQSBibG9jayBudW1iZXJcbiAgICAgKiAtIGBcImVhcmxpZXN0XCJgIC0gU3RyaW5nOiBUaGUgZ2VuZXNpcyBibG9ja1xuICAgICAqIC0gYFwibGF0ZXN0XCJgIC0gU3RyaW5nOiBUaGUgbGF0ZXN0IGJsb2NrIChjdXJyZW50IGhlYWQgb2YgdGhlIGJsb2NrY2hhaW4pXG4gICAgICogLSBgXCJwZW5kaW5nXCJgIC0gU3RyaW5nOiBUaGUgY3VycmVudGx5IG1pbmVkIGJsb2NrIChpbmNsdWRpbmcgcGVuZGluZyB0cmFuc2FjdGlvbnMpXG4gICAgICogLSBgXCJmaW5hbGl6ZWRcImAgLSBTdHJpbmc6IChGb3IgUE9TIG5ldHdvcmtzKSBUaGUgZmluYWxpemVkIGJsb2NrIGlzIG9uZSB3aGljaCBoYXMgYmVlbiBhY2NlcHRlZCBhcyBjYW5vbmljYWwgYnkgZ3JlYXRlciB0aGFuIDIvMyBvZiB2YWxpZGF0b3JzXG4gICAgICogLSBgXCJzYWZlXCJgIC0gU3RyaW5nOiAoRm9yIFBPUyBuZXR3b3JrcykgVGhlIHNhZmUgaGVhZCBibG9jayBpcyBvbmUgd2hpY2ggdW5kZXIgbm9ybWFsIG5ldHdvcmsgY29uZGl0aW9ucywgaXMgZXhwZWN0ZWQgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGNhbm9uaWNhbCBjaGFpbi4gVW5kZXIgbm9ybWFsIG5ldHdvcmsgY29uZGl0aW9ucyB0aGUgc2FmZSBoZWFkIGFuZCB0aGUgYWN0dWFsIHRpcCBvZiB0aGUgY2hhaW4gd2lsbCBiZSBlcXVpdmFsZW50ICh3aXRoIHNhZmUgaGVhZCB0cmFpbGluZyBvbmx5IGJ5IGEgZmV3IHNlY29uZHMpLiBTYWZlIGhlYWRzIHdpbGwgYmUgbGVzcyBsaWtlbHkgdG8gYmUgcmVvcmdlZCB0aGFuIHRoZSBwcm9vZiBvZiB3b3JrIG5ldHdvcmtgcyBsYXRlc3QgYmxvY2tzLlxuICAgICAqL1xuICAgIHNldCBkZWZhdWx0QmxvY2sodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRCbG9jaycsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRpbWUgdXNlZCB0byB3YWl0IGZvciBFdGhlcmV1bSBOb2RlIHRvIHJldHVybiB0aGUgc2VudCB0cmFuc2FjdGlvbiByZXN1bHQuXG4gICAgICogTm90ZTogSWYgdGhlIFJQQyBjYWxsIHN0dWNrIGF0IHRoZSBOb2RlIGFuZCB0aGVyZWZvciB0aW1lZC1vdXQsIHRoZSB0cmFuc2FjdGlvbiBtYXkgc3RpbGwgYmUgcGVuZGluZyBvciBldmVuIG1pbmVkIGJ5IHRoZSBOZXR3b3JrLiBXZSByZWNvbW1lbmQgY2hlY2tpbmcgdGhlIHBlbmRpbmcgdHJhbnNhY3Rpb25zIGluIHN1Y2ggYSBjYXNlLlxuICAgICAqIERlZmF1bHQgaXMgYDc1MGAgc2Vjb25kcyAoMTIuNSBtaW51dGVzKS5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNhY3Rpb25TZW5kVGltZW91dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uU2VuZFRpbWVvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSB0cmFuc2FjdGlvblNlbmRUaW1lb3V0LlxuICAgICAqL1xuICAgIHNldCB0cmFuc2FjdGlvblNlbmRUaW1lb3V0KHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvblNlbmRUaW1lb3V0JywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcudHJhbnNhY3Rpb25TZW5kVGltZW91dCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGB0cmFuc2FjdGlvbkJsb2NrVGltZW91dGAgaXMgdXNlZCBvdmVyIHNvY2tldC1iYXNlZCBjb25uZWN0aW9ucy4gVGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgYW1vdW50IG9mIG5ldyBibG9ja3MgaXQgc2hvdWxkIHdhaXQgdW50aWwgdGhlIGZpcnN0IGNvbmZpcm1hdGlvbiBoYXBwZW5zLCBvdGhlcndpc2UgdGhlIFByb21pRXZlbnQgcmVqZWN0cyB3aXRoIGEgdGltZW91dCBlcnJvci5cbiAgICAgKiBEZWZhdWx0IGlzIGA1MGAuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSB0cmFuc2FjdGlvbkJsb2NrVGltZW91dC5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uQmxvY2tUaW1lb3V0JywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcudHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyB0aGUgbnVtYmVyIG9mIGJsb2NrcyBpdCByZXF1aXJlcyB1bnRpbCBhIHRyYW5zYWN0aW9uIGlzIGNvbnNpZGVyZWQgY29uZmlybWVkLlxuICAgICAqIERlZmF1bHQgaXMgYDI0YC5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2NrcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzLlxuICAgICAqL1xuICAgIHNldCB0cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2Nrcyh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgndHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3MnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2NrcyA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBvdmVyIEhUVFAgY29ubmVjdGlvbnMuIFRoaXMgb3B0aW9uIGRlZmluZXMgdGhlIG51bWJlciBvZiBzZWNvbmRzIGJldHdlZW4gV2ViMyBjYWxscyBmb3IgYSByZWNlaXB0IHdoaWNoIGNvbmZpcm1zIHRoYXQgYSB0cmFuc2FjdGlvbiB3YXMgbWluZWQgYnkgdGhlIG5ldHdvcmsuXG4gICAgICogRGVmYXVsdCBpcyBgMTAwMGAgbXMuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSB0cmFuc2FjdGlvblBvbGxpbmdJbnRlcnZhbC5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWwodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcudHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWwgPSB2YWw7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsID0gdmFsO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIG92ZXIgSFRUUCBjb25uZWN0aW9ucy4gVGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgV2ViMyB3aWxsIHdhaXQgZm9yIGEgcmVjZWlwdCB3aGljaCBjb25maXJtcyB0aGF0IGEgdHJhbnNhY3Rpb24gd2FzIG1pbmVkIGJ5IHRoZSBuZXR3b3JrLiBOb3RlOiBJZiB0aGlzIG1ldGhvZCB0aW1lcyBvdXQsIHRoZSB0cmFuc2FjdGlvbiBtYXkgc3RpbGwgYmUgcGVuZGluZy5cbiAgICAgKiBEZWZhdWx0IGlzIGA3NTBgIHNlY29uZHMgKDEyLjUgbWludXRlcykuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvblBvbGxpbmdUaW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgdHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dC5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgndHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgdHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWxgIGlzIHVzZWQgb3ZlciBIVFRQIGNvbm5lY3Rpb25zLiBUaGlzIG9wdGlvbiBkZWZpbmVzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIFdlYjMgY2FsbHMgZm9yIGEgcmVjZWlwdCB3aGljaCBjb25maXJtcyB0aGF0IGEgdHJhbnNhY3Rpb24gd2FzIG1pbmVkIGJ5IHRoZSBuZXR3b3JrLlxuICAgICAqIERlZmF1bHQgaXMgYHVuZGVmaW5lZGBcbiAgICAgKi9cbiAgICBnZXQgdHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgdHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsXG4gICAgICovXG4gICAgc2V0IHRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgndHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcudHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsID0gdmFsO1xuICAgIH1cbiAgICBnZXQgdHJhbnNhY3Rpb25Db25maXJtYXRpb25Qb2xsaW5nSW50ZXJ2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvblBvbGxpbmdJbnRlcnZhbDtcbiAgICB9XG4gICAgc2V0IHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvbkNvbmZpcm1hdGlvblBvbGxpbmdJbnRlcnZhbCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYmxvY2tIZWFkZXJUaW1lb3V0IGlzIHVzZWQgb3ZlciBzb2NrZXQtYmFzZWQgY29ubmVjdGlvbnMuIFRoaXMgb3B0aW9uIGRlZmluZXMgdGhlIGFtb3VudCBzZWNvbmRzIGl0IHNob3VsZCB3YWl0IGZvciBgJ25ld0Jsb2NrSGVhZGVycydgIGV2ZW50IGJlZm9yZSBmYWxsaW5nIGJhY2sgdG8gcG9sbGluZyB0byBmZXRjaCB0cmFuc2FjdGlvbiByZWNlaXB0LlxuICAgICAqIERlZmF1bHQgaXMgYDEwYCBzZWNvbmRzLlxuICAgICAqL1xuICAgIGdldCBibG9ja0hlYWRlclRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5ibG9ja0hlYWRlclRpbWVvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBibG9ja0hlYWRlclRpbWVvdXRcbiAgICAgKi9cbiAgICBzZXQgYmxvY2tIZWFkZXJUaW1lb3V0KHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdibG9ja0hlYWRlclRpbWVvdXQnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5ibG9ja0hlYWRlclRpbWVvdXQgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcyBpcyB1c2VkIHRvIGVuYWJsZSB0cnlpbmcgbmV3IGV4cGVyaW1lbnRhbCBmZWF0dXJlcyB0aGF0IGFyZSBzdGlsbCBub3QgZnVsbHkgaW1wbGVtZW50ZWQgb3Igbm90IGZ1bGx5IHRlc3RlZCBvciBzdGlsbCBoYXZlIHNvbWUgcmVsYXRlZCBpc3N1ZXMuXG4gICAgICogRGVmYXVsdCBpcyBgZmFsc2VgIGZvciBldmVyeSBmZWF0dXJlLlxuICAgICAqL1xuICAgIGdldCBlbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXNcbiAgICAgKi9cbiAgICBzZXQgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXModmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2VuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMgPSB2YWw7XG4gICAgfVxuICAgIGdldCBtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcubWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZDtcbiAgICB9XG4gICAgc2V0IG1heExpc3RlbmVyc1dhcm5pbmdUaHJlc2hvbGQodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ21heExpc3RlbmVyc1dhcm5pbmdUaHJlc2hvbGQnLCB2YWwpO1xuICAgICAgICB0aGlzLnNldE1heExpc3RlbmVyV2FybmluZ1RocmVzaG9sZCh2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5tYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkID0gdmFsO1xuICAgIH1cbiAgICBnZXQgZGVmYXVsdE5ldHdvcmtJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHROZXR3b3JrSWQ7XG4gICAgfVxuICAgIHNldCBkZWZhdWx0TmV0d29ya0lkKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0TmV0d29ya0lkJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdE5ldHdvcmtJZCA9IHZhbDtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRDaGFpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbjtcbiAgICB9XG4gICAgc2V0IGRlZmF1bHRDaGFpbih2YWwpIHtcbiAgICAgICAgaWYgKCFpc051bGxpc2godGhpcy5jb25maWcuZGVmYXVsdENvbW1vbikgJiZcbiAgICAgICAgICAgICFpc051bGxpc2godGhpcy5jb25maWcuZGVmYXVsdENvbW1vbi5iYXNlQ2hhaW4pICYmXG4gICAgICAgICAgICB2YWwgIT09IHRoaXMuY29uZmlnLmRlZmF1bHRDb21tb24uYmFzZUNoYWluKVxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZpZ0NoYWluTWlzbWF0Y2hFcnJvcih0aGlzLmNvbmZpZy5kZWZhdWx0Q2hhaW4sIHZhbCk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRDaGFpbicsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbiA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gdGhlIGRlZmF1bHQgaGFyZGZvcmsuIERlZmF1bHQgaXMgYGxvbmRvbmBcbiAgICAgKiBUaGUgZGVmYXVsdCBoYXJkZm9yayBwcm9wZXJ0eSBjYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gICAgICogLSBgY2hhaW5zdGFydGBcbiAgICAgKiAtIGBob21lc3RlYWRgXG4gICAgICogLSBgZGFvYFxuICAgICAqIC0gYHRhbmdlcmluZVdoaXN0bGVgXG4gICAgICogLSBgc3B1cmlvdXNEcmFnb25gXG4gICAgICogLSBgYnl6YW50aXVtYFxuICAgICAqIC0gYGNvbnN0YW50aW5vcGxlYFxuICAgICAqIC0gYHBldGVyc2J1cmdgXG4gICAgICogLSBgaXN0YW5idWxgXG4gICAgICogLSBgYmVybGluYFxuICAgICAqIC0gYGxvbmRvbmBcbiAgICAgKiAtICdhcnJvd0dsYWNpZXInLFxuICAgICAqIC0gJ3RhbmdlcmluZVdoaXN0bGUnLFxuICAgICAqIC0gJ211aXJHbGFjaWVyJ1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRIYXJkZm9yaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRIYXJkZm9yaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgaGFyZGZvcmsuXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgZGVmYXVsdEhhcmRmb3JrKHZhbCkge1xuICAgICAgICBpZiAoIWlzTnVsbGlzaCh0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uKSAmJlxuICAgICAgICAgICAgIWlzTnVsbGlzaCh0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmhhcmRmb3JrKSAmJlxuICAgICAgICAgICAgdmFsICE9PSB0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmhhcmRmb3JrKVxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZpZ0hhcmRmb3JrTWlzbWF0Y2hFcnJvcih0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmhhcmRmb3JrLCB2YWwpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0SGFyZGZvcmsnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0SGFyZGZvcmsgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2lsbCBnZXQgdGhlIGRlZmF1bHQgY29tbW9uIHByb3BlcnR5XG4gICAgICogVGhlIGRlZmF1bHQgY29tbW9uIHByb3BlcnR5IGRvZXMgY29udGFpbiB0aGUgZm9sbG93aW5nIENvbW1vbiBvYmplY3Q6XG4gICAgICogLSBgY3VzdG9tQ2hhaW5gIC0gYE9iamVjdGA6IFRoZSBjdXN0b20gY2hhaW4gcHJvcGVydGllc1xuICAgICAqIFx0LSBgbmFtZWAgLSBgc3RyaW5nYDogKG9wdGlvbmFsKSBUaGUgbmFtZSBvZiB0aGUgY2hhaW5cbiAgICAgKiBcdC0gYG5ldHdvcmtJZGAgLSBgbnVtYmVyYDogTmV0d29yayBJRCBvZiB0aGUgY3VzdG9tIGNoYWluXG4gICAgICogXHQtIGBjaGFpbklkYCAtIGBudW1iZXJgOiBDaGFpbiBJRCBvZiB0aGUgY3VzdG9tIGNoYWluXG4gICAgICogLSBgYmFzZUNoYWluYCAtIGBzdHJpbmdgOiAob3B0aW9uYWwpIG1haW5uZXQsIGdvZXJsaSwga292YW4sIHJpbmtlYnksIG9yIHJvcHN0ZW5cbiAgICAgKiAtIGBoYXJkZm9ya2AgLSBgc3RyaW5nYDogKG9wdGlvbmFsKSBjaGFpbnN0YXJ0LCBob21lc3RlYWQsIGRhbywgdGFuZ2VyaW5lV2hpc3RsZSwgc3B1cmlvdXNEcmFnb24sIGJ5emFudGl1bSwgY29uc3RhbnRpbm9wbGUsIHBldGVyc2J1cmcsIGlzdGFuYnVsLCBiZXJsaW4sIG9yIGxvbmRvblxuICAgICAqIERlZmF1bHQgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdENvbW1vbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRDb21tb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBkZWZhdWx0IGNvbW1vbiBwcm9wZXJ0eVxuICAgICAqXG4gICAgICovXG4gICAgc2V0IGRlZmF1bHRDb21tb24odmFsKSB7XG4gICAgICAgIC8vIHZhbGlkYXRpb24gY2hlY2sgaWYgZGVmYXVsdCBoYXJkZm9yayBpcyBzZXQgYW5kIG1hdGNoZXMgZGVmYXVsdENvbW1vbiBoYXJkZm9ya1xuICAgICAgICBpZiAoIWlzTnVsbGlzaCh0aGlzLmNvbmZpZy5kZWZhdWx0SGFyZGZvcmspICYmXG4gICAgICAgICAgICAhaXNOdWxsaXNoKHZhbCkgJiZcbiAgICAgICAgICAgICFpc051bGxpc2godmFsLmhhcmRmb3JrKSAmJlxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdEhhcmRmb3JrICE9PSB2YWwuaGFyZGZvcmspXG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29uZmlnSGFyZGZvcmtNaXNtYXRjaEVycm9yKHRoaXMuY29uZmlnLmRlZmF1bHRIYXJkZm9yaywgdmFsLmhhcmRmb3JrKTtcbiAgICAgICAgaWYgKCFpc051bGxpc2godGhpcy5jb25maWcuZGVmYXVsdENoYWluKSAmJlxuICAgICAgICAgICAgIWlzTnVsbGlzaCh2YWwpICYmXG4gICAgICAgICAgICAhaXNOdWxsaXNoKHZhbC5iYXNlQ2hhaW4pICYmXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0Q2hhaW4gIT09IHZhbC5iYXNlQ2hhaW4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29uZmlnQ2hhaW5NaXNtYXRjaEVycm9yKHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbiwgdmFsLmJhc2VDaGFpbik7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRDb21tb24nLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uID0gdmFsO1xuICAgIH1cbiAgICBnZXQgZGVmYXVsdFRyYW5zYWN0aW9uVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRUcmFuc2FjdGlvblR5cGU7XG4gICAgfVxuICAgIHNldCBkZWZhdWx0VHJhbnNhY3Rpb25UeXBlKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0VHJhbnNhY3Rpb25UeXBlJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdFRyYW5zYWN0aW9uVHlwZSA9IHZhbDtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcztcbiAgICB9XG4gICAgc2V0IGRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcyh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnZGVmYXVsdE1heFByaW9yaXR5RmVlUGVyR2FzJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdE1heFByaW9yaXR5RmVlUGVyR2FzID0gdmFsO1xuICAgIH1cbiAgICBnZXQgdHJhbnNhY3Rpb25CdWlsZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25CdWlsZGVyO1xuICAgIH1cbiAgICBzZXQgdHJhbnNhY3Rpb25CdWlsZGVyKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvbkJ1aWxkZXInLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkJ1aWxkZXIgPSB2YWw7XG4gICAgfVxuICAgIGdldCB0cmFuc2FjdGlvblR5cGVQYXJzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvblR5cGVQYXJzZXI7XG4gICAgfVxuICAgIHNldCB0cmFuc2FjdGlvblR5cGVQYXJzZXIodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uVHlwZVBhcnNlcicsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uVHlwZVBhcnNlciA9IHZhbDtcbiAgICB9XG4gICAgX3RyaWdnZXJDb25maWdDaGFuZ2UoY29uZmlnLCBuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLmVtaXQoV2ViM0NvbmZpZ0V2ZW50LkNPTkZJR19DSEFOR0UsIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZyxcbiAgICAgICAgICAgIG9sZFZhbHVlOiB0aGlzLmNvbmZpZ1tjb25maWddLFxuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYjNfY29uZmlnLmpzLm1hcCJdLCJuYW1lcyI6WyJDb25maWdIYXJkZm9ya01pc21hdGNoRXJyb3IiLCJDb25maWdDaGFpbk1pc21hdGNoRXJyb3IiLCJpc051bGxpc2giLCJ0b0hleCIsIldlYjNFdmVudEVtaXR0ZXIiLCJXZWIzQ29uZmlnRXZlbnQiLCJXZWIzQ29uZmlnIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiY29uZmlnIiwiaGFuZGxlUmV2ZXJ0IiwiZGVmYXVsdEFjY291bnQiLCJ1bmRlZmluZWQiLCJkZWZhdWx0QmxvY2siLCJ0cmFuc2FjdGlvbkJsb2NrVGltZW91dCIsInRyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzIiwidHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWwiLCJ0cmFuc2FjdGlvblBvbGxpbmdUaW1lb3V0IiwidHJhbnNhY3Rpb25SZWNlaXB0UG9sbGluZ0ludGVydmFsIiwidHJhbnNhY3Rpb25TZW5kVGltZW91dCIsInRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsIiwiYmxvY2tIZWFkZXJUaW1lb3V0IiwibWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZCIsImNvbnRyYWN0RGF0YUlucHV0RmlsbCIsImRlZmF1bHROZXR3b3JrSWQiLCJkZWZhdWx0Q2hhaW4iLCJkZWZhdWx0SGFyZGZvcmsiLCJkZWZhdWx0Q29tbW9uIiwiZGVmYXVsdFRyYW5zYWN0aW9uVHlwZSIsImRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcyIsImVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzIiwidXNlU3Vic2NyaXB0aW9uV2hlbkNoZWNraW5nQmxvY2tUaW1lb3V0IiwidXNlUnBjQ2FsbFNwZWNpZmljYXRpb24iLCJ0cmFuc2FjdGlvbkJ1aWxkZXIiLCJ0cmFuc2FjdGlvblR5cGVQYXJzZXIiLCJzZXRDb25maWciLCJrZXlzIiwiT2JqZWN0Iiwia2V5IiwiX3RyaWdnZXJDb25maWdDaGFuZ2UiLCJhc3NpZ24iLCJ2YWwiLCJzZXRNYXhMaXN0ZW5lcldhcm5pbmdUaHJlc2hvbGQiLCJiYXNlQ2hhaW4iLCJoYXJkZm9yayIsIm5ld1ZhbHVlIiwiZW1pdCIsIkNPTkZJR19DSEFOR0UiLCJuYW1lIiwib2xkVmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_context.js":
/*!********************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_context.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3Context: () => (/* binding */ Web3Context),\n/* harmony export */   Web3EthPluginBase: () => (/* binding */ Web3EthPluginBase),\n/* harmony export */   Web3PluginBase: () => (/* binding */ Web3PluginBase)\n/* harmony export */ });\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var web3_eth_accounts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3-eth-accounts */ \"(ssr)/./node_modules/web3-eth-accounts/lib/esm/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/web3-core/lib/esm/utils.js\");\n/* harmony import */ var _web3_batch_request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web3_batch_request.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_batch_request.js\");\n/* harmony import */ var _web3_config_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./web3_config.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_config.js\");\n/* harmony import */ var _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./web3_request_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_request_manager.js\");\n/* harmony import */ var _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./web3_subscription_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_subscription_manager.js\");\nvar __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ // eslint-disable-next-line max-classes-per-file\n\n\n\n\n\n// eslint-disable-next-line import/no-cycle\n\n\n\nclass Web3Context extends _web3_config_js__WEBPACK_IMPORTED_MODULE_5__.Web3Config {\n    constructor(providerOrContext){\n        var _a;\n        super();\n        this.providers = _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_6__.Web3RequestManager.providers;\n        // If \"providerOrContext\" is provided as \"string\" or an objects matching \"SupportedProviders\" interface\n        if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_1__.isNullish)(providerOrContext) || typeof providerOrContext === \"string\" && providerOrContext.trim() !== \"\" || (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isSupportedProvider)(providerOrContext)) {\n            this._requestManager = new _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_6__.Web3RequestManager(providerOrContext);\n            this._subscriptionManager = new _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_7__.Web3SubscriptionManager(this._requestManager, {});\n            return;\n        }\n        const { config, provider, requestManager, subscriptionManager, registeredSubscriptions, accountProvider, wallet } = providerOrContext;\n        this.setConfig(config !== null && config !== void 0 ? config : {});\n        this._requestManager = requestManager !== null && requestManager !== void 0 ? requestManager : new _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_6__.Web3RequestManager(provider, (_a = config === null || config === void 0 ? void 0 : config.enableExperimentalFeatures) === null || _a === void 0 ? void 0 : _a.useSubscriptionWhenCheckingBlockTimeout);\n        if (subscriptionManager) {\n            this._subscriptionManager = subscriptionManager;\n        } else {\n            this._subscriptionManager = new _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_7__.Web3SubscriptionManager(this.requestManager, registeredSubscriptions !== null && registeredSubscriptions !== void 0 ? registeredSubscriptions : {});\n        }\n        if (accountProvider) {\n            this._accountProvider = accountProvider;\n        }\n        if (wallet) {\n            this._wallet = wallet;\n        }\n    }\n    get requestManager() {\n        return this._requestManager;\n    }\n    /**\n     * Will return the current subscriptionManager ({@link Web3SubscriptionManager})\n     */ get subscriptionManager() {\n        return this._subscriptionManager;\n    }\n    get wallet() {\n        return this._wallet;\n    }\n    get accountProvider() {\n        return this._accountProvider;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static fromContextObject(...args) {\n        return new this(...args.reverse());\n    }\n    getContextObject() {\n        var _a;\n        return {\n            config: this.config,\n            provider: this.provider,\n            requestManager: this.requestManager,\n            subscriptionManager: this.subscriptionManager,\n            registeredSubscriptions: (_a = this.subscriptionManager) === null || _a === void 0 ? void 0 : _a.registeredSubscriptions,\n            providers: this.providers,\n            wallet: this.wallet,\n            accountProvider: this.accountProvider\n        };\n    }\n    /**\n     * Use to create new object of any type extended by `Web3Context`\n     * and link it to current context. This can be used to initiate a global context object\n     * and then use it to create new objects of any type extended by `Web3Context`.\n     */ use(ContextRef, ...args) {\n        const newContextChild = new ContextRef(...[\n            ...args,\n            this.getContextObject()\n        ]);\n        this.on(_web3_config_js__WEBPACK_IMPORTED_MODULE_5__.Web3ConfigEvent.CONFIG_CHANGE, (event)=>{\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            newContextChild.setConfig({\n                [event.name]: event.newValue\n            });\n        });\n        return newContextChild;\n    }\n    /**\n     * Link current context to another context.\n     */ link(parentContext) {\n        this.setConfig(parentContext.config);\n        this._requestManager = parentContext.requestManager;\n        this.provider = parentContext.provider;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        this._subscriptionManager = parentContext.subscriptionManager;\n        this._wallet = parentContext.wallet;\n        this._accountProvider = parentContext._accountProvider;\n        parentContext.on(_web3_config_js__WEBPACK_IMPORTED_MODULE_5__.Web3ConfigEvent.CONFIG_CHANGE, (event)=>{\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            this.setConfig({\n                [event.name]: event.newValue\n            });\n        });\n    }\n    // eslint-disable-next-line no-use-before-define\n    registerPlugin(plugin) {\n        // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n        if (this[plugin.pluginNamespace] !== undefined) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ExistingPluginNamespaceError(plugin.pluginNamespace);\n        const _pluginObject = {\n            [plugin.pluginNamespace]: plugin\n        };\n        _pluginObject[plugin.pluginNamespace].link(this);\n        Object.assign(this, _pluginObject);\n    }\n    /**\n     * Will return the current provider.\n     *\n     * @returns Returns the current provider\n     * @example\n     * ```ts\n     * const web3 = new Web3Context(\"http://localhost:8545\");\n     * console.log(web3.provider);\n     * > HttpProvider {\n     * \tclientUrl: 'http://localhost:8545',\n     * \thttpProviderOptions: undefined\n     *  }\n     * ```\n     */ get provider() {\n        return this.currentProvider;\n    }\n    /**\n     * Will set the current provider.\n     *\n     * @param provider - The provider to set\n     *\n     * Accepted providers are of type {@link SupportedProviders}\n     * @example\n     * ```ts\n     *  const web3Context = new web3ContextContext(\"http://localhost:8545\");\n     * web3Context.provider = \"ws://localhost:8545\";\n     * console.log(web3Context.provider);\n     * > WebSocketProvider {\n     * _eventEmitter: EventEmitter {\n     * _events: [Object: null prototype] {},\n     * _eventsCount: 0,\n     * ...\n     * }\n     * ```\n     */ set provider(provider) {\n        this.requestManager.setProvider(provider);\n    }\n    /**\n     * Will return the current provider. (The same as `provider`)\n     *\n     * @returns Returns the current provider\n     * @example\n     * ```ts\n     * const web3Context = new Web3Context(\"http://localhost:8545\");\n     * console.log(web3Context.provider);\n     * > HttpProvider {\n     * \tclientUrl: 'http://localhost:8545',\n     * \thttpProviderOptions: undefined\n     *  }\n     * ```\n     */ get currentProvider() {\n        return this.requestManager.provider;\n    }\n    /**\n     * Will set the current provider. (The same as `provider`)\n     *\n     * @param provider - {@link SupportedProviders} The provider to set\n     *\n     * @example\n     * ```ts\n     *  const web3Context = new Web3Context(\"http://localhost:8545\");\n     * web3Context.currentProvider = \"ws://localhost:8545\";\n     * console.log(web3Context.provider);\n     * > WebSocketProvider {\n     * _eventEmitter: EventEmitter {\n     * _events: [Object: null prototype] {},\n     * _eventsCount: 0,\n     * ...\n     * }\n     * ```\n     */ set currentProvider(provider) {\n        this.requestManager.setProvider(provider);\n    }\n    /**\n     * Will return the givenProvider if available.\n     *\n     * When using web3.js in an Ethereum compatible browser, it will set with the current native provider by that browser. Will return the given provider by the (browser) environment, otherwise `undefined`.\n     */ // eslint-disable-next-line class-methods-use-this\n    get givenProvider() {\n        return Web3Context.givenProvider;\n    }\n    /**\n     * Will set the provider.\n     *\n     * @param provider - {@link SupportedProviders} The provider to set\n     * @returns Returns true if the provider was set\n     */ setProvider(provider) {\n        this.provider = provider;\n        return true;\n    }\n    /**\n     * Will return the {@link Web3BatchRequest} constructor.\n     */ get BatchRequest() {\n        return _web3_batch_request_js__WEBPACK_IMPORTED_MODULE_4__.Web3BatchRequest.bind(undefined, this._requestManager);\n    }\n    /**\n     * This method allows extending the web3 modules.\n     * Note: This method is only for backward compatibility, and It is recommended to use Web3 v4 Plugin feature for extending web3.js functionality if you are developing some thing new.\n     */ extend(extendObj) {\n        var _a;\n        // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n        if (extendObj.property && !this[extendObj.property]) // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n        this[extendObj.property] = {};\n        (_a = extendObj.methods) === null || _a === void 0 ? void 0 : _a.forEach((element)=>{\n            const method = (...givenParams)=>__awaiter(this, void 0, void 0, function*() {\n                    return this.requestManager.send({\n                        method: element.call,\n                        params: givenParams\n                    });\n                });\n            if (extendObj.property) // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            this[extendObj.property][element.name] = method;\n            else this[element.name] = method;\n        });\n        return this;\n    }\n}\nWeb3Context.providers = _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_6__.Web3RequestManager.providers;\n/**\n * Extend this class when creating a plugin that either doesn't require {@link EthExecutionAPI},\n * or interacts with a RPC node that doesn't fully implement {@link EthExecutionAPI}.\n *\n * To add type support for RPC methods to the {@link Web3RequestManager},\n * define a {@link Web3APISpec} and pass it as a generic to Web3PluginBase like so:\n *\n * @example\n * ```ts\n * type CustomRpcApi = {\n *\tcustom_rpc_method: () => string;\n *\tcustom_rpc_method_with_parameters: (parameter1: string, parameter2: number) => string;\n * };\n *\n * class CustomPlugin extends Web3PluginBase<CustomRpcApi> {...}\n * ```\n */ class Web3PluginBase extends Web3Context {\n    // eslint-disable-next-line class-methods-use-this\n    registerNewTransactionType(type, txClass) {\n        web3_eth_accounts__WEBPACK_IMPORTED_MODULE_2__.TransactionFactory.registerTransactionType(type, txClass);\n    }\n}\n/**\n* Extend this class when creating a plugin that makes use of {@link EthExecutionAPI},\n* or depends on other Web3 packages (such as `web3-eth-contract`) that depend on {@link EthExecutionAPI}.\n*\n* To add type support for RPC methods to the {@link Web3RequestManager} (in addition to {@link EthExecutionAPI}),\n* define a {@link Web3APISpec} and pass it as a generic to Web3PluginBase like so:\n*\n* @example\n* ```ts\n* type CustomRpcApi = {\n*\tcustom_rpc_method: () => string;\n*\tcustom_rpc_method_with_parameters: (parameter1: string, parameter2: number) => string;\n* };\n*\n* class CustomPlugin extends Web3PluginBase<CustomRpcApi> {...}\n* ```\n*/ class Web3EthPluginBase extends Web3PluginBase {\n} //# sourceMappingURL=web3_context.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19jb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsWUFBWSxTQUFLLElBQUksU0FBSSxDQUFDQSxTQUFTLElBQUssU0FBVUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLENBQUMsRUFBRUMsU0FBUztJQUNuRixTQUFTQyxNQUFNQyxLQUFLO1FBQUksT0FBT0EsaUJBQWlCSCxJQUFJRyxRQUFRLElBQUlILEVBQUUsU0FBVUksT0FBTztZQUFJQSxRQUFRRDtRQUFRO0lBQUk7SUFDM0csT0FBTyxJQUFLSCxDQUFBQSxLQUFNQSxDQUFBQSxJQUFJSyxPQUFNLENBQUMsRUFBRyxTQUFVRCxPQUFPLEVBQUVFLE1BQU07UUFDckQsU0FBU0MsVUFBVUosS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFVBQVVRLElBQUksQ0FBQ047WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUMxRixTQUFTQyxTQUFTUixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsU0FBUyxDQUFDLFFBQVEsQ0FBQ0U7WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUM3RixTQUFTRixLQUFLSSxNQUFNO1lBQUlBLE9BQU9DLElBQUksR0FBR1QsUUFBUVEsT0FBT1QsS0FBSyxJQUFJRCxNQUFNVSxPQUFPVCxLQUFLLEVBQUVXLElBQUksQ0FBQ1AsV0FBV0k7UUFBVztRQUM3R0gsS0FBSyxDQUFDUCxZQUFZQSxVQUFVYyxLQUFLLENBQUNqQixTQUFTQyxjQUFjLEVBQUUsR0FBR1UsSUFBSTtJQUN0RTtBQUNKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQWVBLEdBQ0EsZ0RBQWdEO0FBQ1c7QUFDcEI7QUFDZ0I7QUFDTjtBQUNVO0FBQzNELDJDQUEyQztBQUNvQjtBQUNBO0FBQ1U7QUFDbEUsTUFBTWdCLG9CQUFvQkosdURBQVVB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QUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO29CQUMvRCxPQUFPLElBQUksQ0FBQ3NDLGNBQWMsQ0FBQzRDLElBQUksQ0FBQzt3QkFDNUJGLFFBQVFELFFBQVFJLElBQUk7d0JBQ3BCQyxRQUFRSDtvQkFDWjtnQkFDSjtZQUNBLElBQUlOLFVBQVVDLFFBQVEsRUFDbEIsNkhBQTZIO1lBQzdILHNFQUFzRTtZQUN0RSxJQUFJLENBQUNELFVBQVVDLFFBQVEsQ0FBQyxDQUFDRyxRQUFRckIsSUFBSSxDQUFDLEdBQUdzQjtpQkFHekMsSUFBSSxDQUFDRCxRQUFRckIsSUFBSSxDQUFDLEdBQUdzQjtRQUM3QjtRQUNBLE9BQU8sSUFBSTtJQUNmO0FBQ0o7QUFDQXBELFlBQVlJLFNBQVMsR0FBR04sd0VBQWtCQSxDQUFDTSxTQUFTO0FBQ3BEOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JDLEdBQ00sTUFBTXFELHVCQUF1QnpEO0lBQ2hDLGtEQUFrRDtJQUNsRDBELDJCQUEyQkMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDdENuRSxpRUFBa0JBLENBQUNvRSx1QkFBdUIsQ0FBQ0YsTUFBTUM7SUFDckQ7QUFDSjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBLEdBQ08sTUFBTUUsMEJBQTBCTDtBQUN2QyxFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL3dlYjNfY29udGV4dC5qcz9iNWU0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWNsYXNzZXMtcGVyLWZpbGVcbmltcG9ydCB7IEV4aXN0aW5nUGx1Z2luTmFtZXNwYWNlRXJyb3IgfSBmcm9tICd3ZWIzLWVycm9ycyc7XG5pbXBvcnQgeyBpc051bGxpc2ggfSBmcm9tICd3ZWIzLXV0aWxzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uRmFjdG9yeSB9IGZyb20gJ3dlYjMtZXRoLWFjY291bnRzJztcbmltcG9ydCB7IGlzU3VwcG9ydGVkUHJvdmlkZXIgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IFdlYjNCYXRjaFJlcXVlc3QgfSBmcm9tICcuL3dlYjNfYmF0Y2hfcmVxdWVzdC5qcyc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWN5Y2xlXG5pbXBvcnQgeyBXZWIzQ29uZmlnLCBXZWIzQ29uZmlnRXZlbnQgfSBmcm9tICcuL3dlYjNfY29uZmlnLmpzJztcbmltcG9ydCB7IFdlYjNSZXF1ZXN0TWFuYWdlciB9IGZyb20gJy4vd2ViM19yZXF1ZXN0X21hbmFnZXIuanMnO1xuaW1wb3J0IHsgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuL3dlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXIuanMnO1xuZXhwb3J0IGNsYXNzIFdlYjNDb250ZXh0IGV4dGVuZHMgV2ViM0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IocHJvdmlkZXJPckNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IFdlYjNSZXF1ZXN0TWFuYWdlci5wcm92aWRlcnM7XG4gICAgICAgIC8vIElmIFwicHJvdmlkZXJPckNvbnRleHRcIiBpcyBwcm92aWRlZCBhcyBcInN0cmluZ1wiIG9yIGFuIG9iamVjdHMgbWF0Y2hpbmcgXCJTdXBwb3J0ZWRQcm92aWRlcnNcIiBpbnRlcmZhY2VcbiAgICAgICAgaWYgKGlzTnVsbGlzaChwcm92aWRlck9yQ29udGV4dCkgfHxcbiAgICAgICAgICAgICh0eXBlb2YgcHJvdmlkZXJPckNvbnRleHQgPT09ICdzdHJpbmcnICYmIHByb3ZpZGVyT3JDb250ZXh0LnRyaW0oKSAhPT0gJycpIHx8XG4gICAgICAgICAgICBpc1N1cHBvcnRlZFByb3ZpZGVyKHByb3ZpZGVyT3JDb250ZXh0KSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgV2ViM1JlcXVlc3RNYW5hZ2VyKHByb3ZpZGVyT3JDb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBuZXcgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIodGhpcy5fcmVxdWVzdE1hbmFnZXIsIHt9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNvbmZpZywgcHJvdmlkZXIsIHJlcXVlc3RNYW5hZ2VyLCBzdWJzY3JpcHRpb25NYW5hZ2VyLCByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucywgYWNjb3VudFByb3ZpZGVyLCB3YWxsZXQsIH0gPSBwcm92aWRlck9yQ29udGV4dDtcbiAgICAgICAgdGhpcy5zZXRDb25maWcoY29uZmlnICE9PSBudWxsICYmIGNvbmZpZyAhPT0gdm9pZCAwID8gY29uZmlnIDoge30pO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9XG4gICAgICAgICAgICByZXF1ZXN0TWFuYWdlciAhPT0gbnVsbCAmJiByZXF1ZXN0TWFuYWdlciAhPT0gdm9pZCAwID8gcmVxdWVzdE1hbmFnZXIgOiBuZXcgV2ViM1JlcXVlc3RNYW5hZ2VyKHByb3ZpZGVyLCAoX2EgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51c2VTdWJzY3JpcHRpb25XaGVuQ2hlY2tpbmdCbG9ja1RpbWVvdXQpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlciA9IHN1YnNjcmlwdGlvbk1hbmFnZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyID0gbmV3IFdlYjNTdWJzY3JpcHRpb25NYW5hZ2VyKHRoaXMucmVxdWVzdE1hbmFnZXIsIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zICE9PSBudWxsICYmIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zICE9PSB2b2lkIDAgPyByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyA6IHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWNjb3VudFByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY2NvdW50UHJvdmlkZXIgPSBhY2NvdW50UHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbGxldCkge1xuICAgICAgICAgICAgdGhpcy5fd2FsbGV0ID0gd2FsbGV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCByZXF1ZXN0TWFuYWdlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNYW5hZ2VyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgY3VycmVudCBzdWJzY3JpcHRpb25NYW5hZ2VyICh7QGxpbmsgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXJ9KVxuICAgICAqL1xuICAgIGdldCBzdWJzY3JpcHRpb25NYW5hZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgICB9XG4gICAgZ2V0IHdhbGxldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhbGxldDtcbiAgICB9XG4gICAgZ2V0IGFjY291bnRQcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjY291bnRQcm92aWRlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgZnJvbUNvbnRleHRPYmplY3QoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoLi4uYXJncy5yZXZlcnNlKCkpO1xuICAgIH1cbiAgICBnZXRDb250ZXh0T2JqZWN0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgICAgICByZXF1ZXN0TWFuYWdlcjogdGhpcy5yZXF1ZXN0TWFuYWdlcixcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk1hbmFnZXI6IHRoaXMuc3Vic2NyaXB0aW9uTWFuYWdlcixcbiAgICAgICAgICAgIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zOiAoX2EgPSB0aGlzLnN1YnNjcmlwdGlvbk1hbmFnZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgICAgIHByb3ZpZGVyczogdGhpcy5wcm92aWRlcnMsXG4gICAgICAgICAgICB3YWxsZXQ6IHRoaXMud2FsbGV0LFxuICAgICAgICAgICAgYWNjb3VudFByb3ZpZGVyOiB0aGlzLmFjY291bnRQcm92aWRlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlIHRvIGNyZWF0ZSBuZXcgb2JqZWN0IG9mIGFueSB0eXBlIGV4dGVuZGVkIGJ5IGBXZWIzQ29udGV4dGBcbiAgICAgKiBhbmQgbGluayBpdCB0byBjdXJyZW50IGNvbnRleHQuIFRoaXMgY2FuIGJlIHVzZWQgdG8gaW5pdGlhdGUgYSBnbG9iYWwgY29udGV4dCBvYmplY3RcbiAgICAgKiBhbmQgdGhlbiB1c2UgaXQgdG8gY3JlYXRlIG5ldyBvYmplY3RzIG9mIGFueSB0eXBlIGV4dGVuZGVkIGJ5IGBXZWIzQ29udGV4dGAuXG4gICAgICovXG4gICAgdXNlKENvbnRleHRSZWYsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbmV3Q29udGV4dENoaWxkID0gbmV3IENvbnRleHRSZWYoLi4uWy4uLmFyZ3MsIHRoaXMuZ2V0Q29udGV4dE9iamVjdCgpXSk7XG4gICAgICAgIHRoaXMub24oV2ViM0NvbmZpZ0V2ZW50LkNPTkZJR19DSEFOR0UsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgIG5ld0NvbnRleHRDaGlsZC5zZXRDb25maWcoeyBbZXZlbnQubmFtZV06IGV2ZW50Lm5ld1ZhbHVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRleHRDaGlsZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGluayBjdXJyZW50IGNvbnRleHQgdG8gYW5vdGhlciBjb250ZXh0LlxuICAgICAqL1xuICAgIGxpbmsocGFyZW50Q29udGV4dCkge1xuICAgICAgICB0aGlzLnNldENvbmZpZyhwYXJlbnRDb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gcGFyZW50Q29udGV4dC5yZXF1ZXN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5wcm92aWRlciA9IHBhcmVudENvbnRleHQucHJvdmlkZXI7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlciA9IHBhcmVudENvbnRleHQuc3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgICAgICAgdGhpcy5fd2FsbGV0ID0gcGFyZW50Q29udGV4dC53YWxsZXQ7XG4gICAgICAgIHRoaXMuX2FjY291bnRQcm92aWRlciA9IHBhcmVudENvbnRleHQuX2FjY291bnRQcm92aWRlcjtcbiAgICAgICAgcGFyZW50Q29udGV4dC5vbihXZWIzQ29uZmlnRXZlbnQuQ09ORklHX0NIQU5HRSwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgdGhpcy5zZXRDb25maWcoeyBbZXZlbnQubmFtZV06IGV2ZW50Lm5ld1ZhbHVlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgTm8gaW5kZXggc2lnbmF0dXJlIHdpdGggYSBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJyB3YXMgZm91bmQgb24gdHlwZSAnV2ViM0NvbnRleHQ8QVBJLCBSZWdpc3RlcmVkU3Vicz4nXG4gICAgICAgIGlmICh0aGlzW3BsdWdpbi5wbHVnaW5OYW1lc3BhY2VdICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhpc3RpbmdQbHVnaW5OYW1lc3BhY2VFcnJvcihwbHVnaW4ucGx1Z2luTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgX3BsdWdpbk9iamVjdCA9IHtcbiAgICAgICAgICAgIFtwbHVnaW4ucGx1Z2luTmFtZXNwYWNlXTogcGx1Z2luLFxuICAgICAgICB9O1xuICAgICAgICBfcGx1Z2luT2JqZWN0W3BsdWdpbi5wbHVnaW5OYW1lc3BhY2VdLmxpbmsodGhpcyk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgX3BsdWdpbk9iamVjdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIHRoZSBjdXJyZW50IHByb3ZpZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmV0dXJucyB0aGUgY3VycmVudCBwcm92aWRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCB3ZWIzID0gbmV3IFdlYjNDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKHdlYjMucHJvdmlkZXIpO1xuICAgICAqID4gSHR0cFByb3ZpZGVyIHtcbiAgICAgKiBcdGNsaWVudFVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODU0NScsXG4gICAgICogXHRodHRwUHJvdmlkZXJPcHRpb25zOiB1bmRlZmluZWRcbiAgICAgKiAgfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldCBwcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFByb3ZpZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgY3VycmVudCBwcm92aWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKlxuICAgICAqIEFjY2VwdGVkIHByb3ZpZGVycyBhcmUgb2YgdHlwZSB7QGxpbmsgU3VwcG9ydGVkUHJvdmlkZXJzfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiAgY29uc3Qgd2ViM0NvbnRleHQgPSBuZXcgd2ViM0NvbnRleHRDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIHdlYjNDb250ZXh0LnByb3ZpZGVyID0gXCJ3czovL2xvY2FsaG9zdDo4NTQ1XCI7XG4gICAgICogY29uc29sZS5sb2cod2ViM0NvbnRleHQucHJvdmlkZXIpO1xuICAgICAqID4gV2ViU29ja2V0UHJvdmlkZXIge1xuICAgICAqIF9ldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlciB7XG4gICAgICogX2V2ZW50czogW09iamVjdDogbnVsbCBwcm90b3R5cGVdIHt9LFxuICAgICAqIF9ldmVudHNDb3VudDogMCxcbiAgICAgKiAuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2V0IHByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgY3VycmVudCBwcm92aWRlci4gKFRoZSBzYW1lIGFzIGBwcm92aWRlcmApXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBjdXJyZW50IHByb3ZpZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHdlYjNDb250ZXh0ID0gbmV3IFdlYjNDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKHdlYjNDb250ZXh0LnByb3ZpZGVyKTtcbiAgICAgKiA+IEh0dHBQcm92aWRlciB7XG4gICAgICogXHRjbGllbnRVcmw6ICdodHRwOi8vbG9jYWxob3N0Ojg1NDUnLFxuICAgICAqIFx0aHR0cFByb3ZpZGVyT3B0aW9uczogdW5kZWZpbmVkXG4gICAgICogIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgY3VycmVudFByb3ZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGN1cnJlbnQgcHJvdmlkZXIuIChUaGUgc2FtZSBhcyBgcHJvdmlkZXJgKVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIC0ge0BsaW5rIFN1cHBvcnRlZFByb3ZpZGVyc30gVGhlIHByb3ZpZGVyIHRvIHNldFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqICBjb25zdCB3ZWIzQ29udGV4dCA9IG5ldyBXZWIzQ29udGV4dChcImh0dHA6Ly9sb2NhbGhvc3Q6ODU0NVwiKTtcbiAgICAgKiB3ZWIzQ29udGV4dC5jdXJyZW50UHJvdmlkZXIgPSBcIndzOi8vbG9jYWxob3N0Ojg1NDVcIjtcbiAgICAgKiBjb25zb2xlLmxvZyh3ZWIzQ29udGV4dC5wcm92aWRlcik7XG4gICAgICogPiBXZWJTb2NrZXRQcm92aWRlciB7XG4gICAgICogX2V2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyIHtcbiAgICAgKiBfZXZlbnRzOiBbT2JqZWN0OiBudWxsIHByb3RvdHlwZV0ge30sXG4gICAgICogX2V2ZW50c0NvdW50OiAwLFxuICAgICAqIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzZXQgY3VycmVudFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgZ2l2ZW5Qcm92aWRlciBpZiBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBXaGVuIHVzaW5nIHdlYjMuanMgaW4gYW4gRXRoZXJldW0gY29tcGF0aWJsZSBicm93c2VyLCBpdCB3aWxsIHNldCB3aXRoIHRoZSBjdXJyZW50IG5hdGl2ZSBwcm92aWRlciBieSB0aGF0IGJyb3dzZXIuIFdpbGwgcmV0dXJuIHRoZSBnaXZlbiBwcm92aWRlciBieSB0aGUgKGJyb3dzZXIpIGVudmlyb25tZW50LCBvdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBnZXQgZ2l2ZW5Qcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIFdlYjNDb250ZXh0LmdpdmVuUHJvdmlkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBwcm92aWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIHtAbGluayBTdXBwb3J0ZWRQcm92aWRlcnN9IFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVyIHdhcyBzZXRcbiAgICAgKi9cbiAgICBzZXRQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUge0BsaW5rIFdlYjNCYXRjaFJlcXVlc3R9IGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGdldCBCYXRjaFJlcXVlc3QoKSB7XG4gICAgICAgIHJldHVybiBXZWIzQmF0Y2hSZXF1ZXN0LmJpbmQodW5kZWZpbmVkLCB0aGlzLl9yZXF1ZXN0TWFuYWdlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyBleHRlbmRpbmcgdGhlIHdlYjMgbW9kdWxlcy5cbiAgICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBvbmx5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBhbmQgSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIFdlYjMgdjQgUGx1Z2luIGZlYXR1cmUgZm9yIGV4dGVuZGluZyB3ZWIzLmpzIGZ1bmN0aW9uYWxpdHkgaWYgeW91IGFyZSBkZXZlbG9waW5nIHNvbWUgdGhpbmcgbmV3LlxuICAgICAqL1xuICAgIGV4dGVuZChleHRlbmRPYmopIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICBpZiAoZXh0ZW5kT2JqLnByb3BlcnR5ICYmICF0aGlzW2V4dGVuZE9iai5wcm9wZXJ0eV0pXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICAgICAgdGhpc1tleHRlbmRPYmoucHJvcGVydHldID0ge307XG4gICAgICAgIChfYSA9IGV4dGVuZE9iai5tZXRob2RzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9ICguLi5naXZlblBhcmFtcykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGVsZW1lbnQuY2FsbCxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBnaXZlblBhcmFtcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGV4dGVuZE9iai5wcm9wZXJ0eSlcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICB0aGlzW2V4dGVuZE9iai5wcm9wZXJ0eV1bZWxlbWVudC5uYW1lXSA9IG1ldGhvZDtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgTm8gaW5kZXggc2lnbmF0dXJlIHdpdGggYSBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJyB3YXMgZm91bmQgb24gdHlwZSAnV2ViM0NvbnRleHQ8QVBJLCBSZWdpc3RlcmVkU3Vicz4nXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpc1tlbGVtZW50Lm5hbWVdID0gbWV0aG9kO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuV2ViM0NvbnRleHQucHJvdmlkZXJzID0gV2ViM1JlcXVlc3RNYW5hZ2VyLnByb3ZpZGVycztcbi8qKlxuICogRXh0ZW5kIHRoaXMgY2xhc3Mgd2hlbiBjcmVhdGluZyBhIHBsdWdpbiB0aGF0IGVpdGhlciBkb2Vzbid0IHJlcXVpcmUge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0sXG4gKiBvciBpbnRlcmFjdHMgd2l0aCBhIFJQQyBub2RlIHRoYXQgZG9lc24ndCBmdWxseSBpbXBsZW1lbnQge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0uXG4gKlxuICogVG8gYWRkIHR5cGUgc3VwcG9ydCBmb3IgUlBDIG1ldGhvZHMgdG8gdGhlIHtAbGluayBXZWIzUmVxdWVzdE1hbmFnZXJ9LFxuICogZGVmaW5lIGEge0BsaW5rIFdlYjNBUElTcGVjfSBhbmQgcGFzcyBpdCBhcyBhIGdlbmVyaWMgdG8gV2ViM1BsdWdpbkJhc2UgbGlrZSBzbzpcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIHR5cGUgQ3VzdG9tUnBjQXBpID0ge1xuICpcdGN1c3RvbV9ycGNfbWV0aG9kOiAoKSA9PiBzdHJpbmc7XG4gKlx0Y3VzdG9tX3JwY19tZXRob2Rfd2l0aF9wYXJhbWV0ZXJzOiAocGFyYW1ldGVyMTogc3RyaW5nLCBwYXJhbWV0ZXIyOiBudW1iZXIpID0+IHN0cmluZztcbiAqIH07XG4gKlxuICogY2xhc3MgQ3VzdG9tUGx1Z2luIGV4dGVuZHMgV2ViM1BsdWdpbkJhc2U8Q3VzdG9tUnBjQXBpPiB7Li4ufVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWIzUGx1Z2luQmFzZSBleHRlbmRzIFdlYjNDb250ZXh0IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIHJlZ2lzdGVyTmV3VHJhbnNhY3Rpb25UeXBlKHR5cGUsIHR4Q2xhc3MpIHtcbiAgICAgICAgVHJhbnNhY3Rpb25GYWN0b3J5LnJlZ2lzdGVyVHJhbnNhY3Rpb25UeXBlKHR5cGUsIHR4Q2xhc3MpO1xuICAgIH1cbn1cbi8qKlxuKiBFeHRlbmQgdGhpcyBjbGFzcyB3aGVuIGNyZWF0aW5nIGEgcGx1Z2luIHRoYXQgbWFrZXMgdXNlIG9mIHtAbGluayBFdGhFeGVjdXRpb25BUEl9LFxuKiBvciBkZXBlbmRzIG9uIG90aGVyIFdlYjMgcGFja2FnZXMgKHN1Y2ggYXMgYHdlYjMtZXRoLWNvbnRyYWN0YCkgdGhhdCBkZXBlbmQgb24ge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0uXG4qXG4qIFRvIGFkZCB0eXBlIHN1cHBvcnQgZm9yIFJQQyBtZXRob2RzIHRvIHRoZSB7QGxpbmsgV2ViM1JlcXVlc3RNYW5hZ2VyfSAoaW4gYWRkaXRpb24gdG8ge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0pLFxuKiBkZWZpbmUgYSB7QGxpbmsgV2ViM0FQSVNwZWN9IGFuZCBwYXNzIGl0IGFzIGEgZ2VuZXJpYyB0byBXZWIzUGx1Z2luQmFzZSBsaWtlIHNvOlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiB0eXBlIEN1c3RvbVJwY0FwaSA9IHtcbipcdGN1c3RvbV9ycGNfbWV0aG9kOiAoKSA9PiBzdHJpbmc7XG4qXHRjdXN0b21fcnBjX21ldGhvZF93aXRoX3BhcmFtZXRlcnM6IChwYXJhbWV0ZXIxOiBzdHJpbmcsIHBhcmFtZXRlcjI6IG51bWJlcikgPT4gc3RyaW5nO1xuKiB9O1xuKlxuKiBjbGFzcyBDdXN0b21QbHVnaW4gZXh0ZW5kcyBXZWIzUGx1Z2luQmFzZTxDdXN0b21ScGNBcGk+IHsuLi59XG4qIGBgYFxuKi9cbmV4cG9ydCBjbGFzcyBXZWIzRXRoUGx1Z2luQmFzZSBleHRlbmRzIFdlYjNQbHVnaW5CYXNlIHtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYjNfY29udGV4dC5qcy5tYXAiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiRXhpc3RpbmdQbHVnaW5OYW1lc3BhY2VFcnJvciIsImlzTnVsbGlzaCIsIlRyYW5zYWN0aW9uRmFjdG9yeSIsImlzU3VwcG9ydGVkUHJvdmlkZXIiLCJXZWIzQmF0Y2hSZXF1ZXN0IiwiV2ViM0NvbmZpZyIsIldlYjNDb25maWdFdmVudCIsIldlYjNSZXF1ZXN0TWFuYWdlciIsIldlYjNTdWJzY3JpcHRpb25NYW5hZ2VyIiwiV2ViM0NvbnRleHQiLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVyT3JDb250ZXh0IiwiX2EiLCJwcm92aWRlcnMiLCJ0cmltIiwiX3JlcXVlc3RNYW5hZ2VyIiwiX3N1YnNjcmlwdGlvbk1hbmFnZXIiLCJjb25maWciLCJwcm92aWRlciIsInJlcXVlc3RNYW5hZ2VyIiwic3Vic2NyaXB0aW9uTWFuYWdlciIsInJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zIiwiYWNjb3VudFByb3ZpZGVyIiwid2FsbGV0Iiwic2V0Q29uZmlnIiwiZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMiLCJ1c2VTdWJzY3JpcHRpb25XaGVuQ2hlY2tpbmdCbG9ja1RpbWVvdXQiLCJfYWNjb3VudFByb3ZpZGVyIiwiX3dhbGxldCIsImZyb21Db250ZXh0T2JqZWN0IiwiYXJncyIsInJldmVyc2UiLCJnZXRDb250ZXh0T2JqZWN0IiwidXNlIiwiQ29udGV4dFJlZiIsIm5ld0NvbnRleHRDaGlsZCIsIm9uIiwiQ09ORklHX0NIQU5HRSIsImV2ZW50IiwibmFtZSIsIm5ld1ZhbHVlIiwibGluayIsInBhcmVudENvbnRleHQiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbiIsInBsdWdpbk5hbWVzcGFjZSIsInVuZGVmaW5lZCIsIl9wbHVnaW5PYmplY3QiLCJPYmplY3QiLCJhc3NpZ24iLCJjdXJyZW50UHJvdmlkZXIiLCJzZXRQcm92aWRlciIsImdpdmVuUHJvdmlkZXIiLCJCYXRjaFJlcXVlc3QiLCJiaW5kIiwiZXh0ZW5kIiwiZXh0ZW5kT2JqIiwicHJvcGVydHkiLCJtZXRob2RzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJtZXRob2QiLCJnaXZlblBhcmFtcyIsInNlbmQiLCJjYWxsIiwicGFyYW1zIiwiV2ViM1BsdWdpbkJhc2UiLCJyZWdpc3Rlck5ld1RyYW5zYWN0aW9uVHlwZSIsInR5cGUiLCJ0eENsYXNzIiwicmVnaXN0ZXJUcmFuc2FjdGlvblR5cGUiLCJXZWIzRXRoUGx1Z2luQmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_context.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js":
/*!**************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_event_emitter.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3EventEmitter: () => (/* binding */ Web3EventEmitter)\n/* harmony export */ });\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ \nclass Web3EventEmitter {\n    constructor(){\n        this._emitter = new web3_utils__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    }\n    on(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.on(eventName, fn);\n    }\n    once(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.once(eventName, fn);\n    }\n    off(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.off(eventName, fn);\n    }\n    emit(eventName, params) {\n        this._emitter.emit(eventName, params);\n    }\n    listenerCount(eventName) {\n        return this._emitter.listenerCount(eventName);\n    }\n    listeners(eventName) {\n        return this._emitter.listeners(eventName);\n    }\n    eventNames() {\n        return this._emitter.eventNames();\n    }\n    removeAllListeners() {\n        return this._emitter.removeAllListeners();\n    }\n    setMaxListenerWarningThreshold(maxListenersWarningThreshold) {\n        this._emitter.setMaxListeners(maxListenersWarningThreshold);\n    }\n    getMaxListeners() {\n        return this._emitter.getMaxListeners();\n    }\n} //# sourceMappingURL=web3_event_emitter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19ldmVudF9lbWl0dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQWVBLEdBQzBDO0FBQ25DLE1BQU1DO0lBQ1RDLGFBQWM7UUFDVixJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJSCxvREFBWUE7SUFDcEM7SUFDQUksR0FBR0MsU0FBUyxFQUFFQyxFQUFFLEVBQUU7UUFDZCxrRUFBa0U7UUFDbEUsSUFBSSxDQUFDSCxRQUFRLENBQUNDLEVBQUUsQ0FBQ0MsV0FBV0M7SUFDaEM7SUFDQUMsS0FBS0YsU0FBUyxFQUFFQyxFQUFFLEVBQUU7UUFDaEIsa0VBQWtFO1FBQ2xFLElBQUksQ0FBQ0gsUUFBUSxDQUFDSSxJQUFJLENBQUNGLFdBQVdDO0lBQ2xDO0lBQ0FFLElBQUlILFNBQVMsRUFBRUMsRUFBRSxFQUFFO1FBQ2Ysa0VBQWtFO1FBQ2xFLElBQUksQ0FBQ0gsUUFBUSxDQUFDSyxHQUFHLENBQUNILFdBQVdDO0lBQ2pDO0lBQ0FHLEtBQUtKLFNBQVMsRUFBRUssTUFBTSxFQUFFO1FBQ3BCLElBQUksQ0FBQ1AsUUFBUSxDQUFDTSxJQUFJLENBQUNKLFdBQVdLO0lBQ2xDO0lBQ0FDLGNBQWNOLFNBQVMsRUFBRTtRQUNyQixPQUFPLElBQUksQ0FBQ0YsUUFBUSxDQUFDUSxhQUFhLENBQUNOO0lBQ3ZDO0lBQ0FPLFVBQVVQLFNBQVMsRUFBRTtRQUNqQixPQUFPLElBQUksQ0FBQ0YsUUFBUSxDQUFDUyxTQUFTLENBQUNQO0lBQ25DO0lBQ0FRLGFBQWE7UUFDVCxPQUFPLElBQUksQ0FBQ1YsUUFBUSxDQUFDVSxVQUFVO0lBQ25DO0lBQ0FDLHFCQUFxQjtRQUNqQixPQUFPLElBQUksQ0FBQ1gsUUFBUSxDQUFDVyxrQkFBa0I7SUFDM0M7SUFDQUMsK0JBQStCQyw0QkFBNEIsRUFBRTtRQUN6RCxJQUFJLENBQUNiLFFBQVEsQ0FBQ2MsZUFBZSxDQUFDRDtJQUNsQztJQUNBRSxrQkFBa0I7UUFDZCxPQUFPLElBQUksQ0FBQ2YsUUFBUSxDQUFDZSxlQUFlO0lBQ3hDO0FBQ0osRUFDQSw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2VzbS93ZWIzX2V2ZW50X2VtaXR0ZXIuanM/Y2QwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ3dlYjMtdXRpbHMnO1xuZXhwb3J0IGNsYXNzIFdlYjNFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBvbihldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbWlzdXNlZC1wcm9taXNlc1xuICAgICAgICB0aGlzLl9lbWl0dGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cbiAgICBvbmNlKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1taXN1c2VkLXByb21pc2VzXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIub25jZShldmVudE5hbWUsIGZuKTtcbiAgICB9XG4gICAgb2ZmKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1taXN1c2VkLXByb21pc2VzXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cbiAgICBlbWl0KGV2ZW50TmFtZSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChldmVudE5hbWUsIHBhcmFtcyk7XG4gICAgfVxuICAgIGxpc3RlbmVyQ291bnQoZXZlbnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmxpc3RlbmVyQ291bnQoZXZlbnROYW1lKTtcbiAgICB9XG4gICAgbGlzdGVuZXJzKGV2ZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5saXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICB9XG4gICAgZXZlbnROYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuZXZlbnROYW1lcygpO1xuICAgIH1cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgICBzZXRNYXhMaXN0ZW5lcldhcm5pbmdUaHJlc2hvbGQobWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnNldE1heExpc3RlbmVycyhtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgZ2V0TWF4TGlzdGVuZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5nZXRNYXhMaXN0ZW5lcnMoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX2V2ZW50X2VtaXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIldlYjNFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsIl9lbWl0dGVyIiwib24iLCJldmVudE5hbWUiLCJmbiIsIm9uY2UiLCJvZmYiLCJlbWl0IiwicGFyYW1zIiwibGlzdGVuZXJDb3VudCIsImxpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJzZXRNYXhMaXN0ZW5lcldhcm5pbmdUaHJlc2hvbGQiLCJtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_promi_event.js":
/*!************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_promi_event.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3PromiEvent: () => (/* binding */ Web3PromiEvent)\n/* harmony export */ });\n/* harmony import */ var _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web3_event_emitter.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ var __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a;\n\nclass Web3PromiEvent extends _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_0__.Web3EventEmitter {\n    constructor(executor){\n        super();\n        // public tag to treat object as promise by different libs\n        // eslint-disable-next-line @typescript-eslint/prefer-as-const\n        this[_a] = \"Promise\";\n        this._promise = new Promise(executor);\n    }\n    then(onfulfilled, onrejected) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return this._promise.then(onfulfilled, onrejected);\n        });\n    }\n    catch(onrejected) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return this._promise.catch(onrejected);\n        });\n    }\n    finally(onfinally) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return this._promise.finally(onfinally);\n        });\n    }\n    on(eventName, fn) {\n        super.on(eventName, fn);\n        return this;\n    }\n    once(eventName, fn) {\n        super.once(eventName, fn);\n        return this;\n    }\n}\n_a = Symbol.toStringTag; //# sourceMappingURL=web3_promi_event.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19wcm9taV9ldmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxHQUNBLElBQUlBLFlBQVksU0FBSyxJQUFJLFNBQUksQ0FBQ0EsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNBLElBQUlPO0FBQ3dEO0FBQ3JELE1BQU1FLHVCQUF1QkQsb0VBQWdCQTtJQUNoREUsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLEtBQUs7UUFDTCwwREFBMEQ7UUFDMUQsOERBQThEO1FBQzlELElBQUksQ0FBQ0osR0FBRyxHQUFHO1FBQ1gsSUFBSSxDQUFDSyxRQUFRLEdBQUcsSUFBSWhCLFFBQVFlO0lBQ2hDO0lBQ0FOLEtBQUtRLFdBQVcsRUFBRUMsVUFBVSxFQUFFO1FBQzFCLE9BQU8xQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DLE9BQU8sSUFBSSxDQUFDd0IsUUFBUSxDQUFDUCxJQUFJLENBQUNRLGFBQWFDO1FBQzNDO0lBQ0o7SUFDQUMsTUFBTUQsVUFBVSxFQUFFO1FBQ2QsT0FBTzFCLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsT0FBTyxJQUFJLENBQUN3QixRQUFRLENBQUNHLEtBQUssQ0FBQ0Q7UUFDL0I7SUFDSjtJQUNBRSxRQUFRQyxTQUFTLEVBQUU7UUFDZixPQUFPN0IsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxPQUFPLElBQUksQ0FBQ3dCLFFBQVEsQ0FBQ0ksT0FBTyxDQUFDQztRQUNqQztJQUNKO0lBQ0FDLEdBQUdDLFNBQVMsRUFBRUMsRUFBRSxFQUFFO1FBQ2QsS0FBSyxDQUFDRixHQUFHQyxXQUFXQztRQUNwQixPQUFPLElBQUk7SUFDZjtJQUNBQyxLQUFLRixTQUFTLEVBQUVDLEVBQUUsRUFBRTtRQUNoQixLQUFLLENBQUNDLEtBQUtGLFdBQVdDO1FBQ3RCLE9BQU8sSUFBSTtJQUNmO0FBQ0o7QUFDQWIsS0FBS2UsT0FBT0MsV0FBVyxFQUN2Qiw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2VzbS93ZWIzX3Byb21pX2V2ZW50LmpzPzQ1MGYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfYTtcbmltcG9ydCB7IFdlYjNFdmVudEVtaXR0ZXIsIH0gZnJvbSAnLi93ZWIzX2V2ZW50X2VtaXR0ZXIuanMnO1xuZXhwb3J0IGNsYXNzIFdlYjNQcm9taUV2ZW50IGV4dGVuZHMgV2ViM0V2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8gcHVibGljIHRhZyB0byB0cmVhdCBvYmplY3QgYXMgcHJvbWlzZSBieSBkaWZmZXJlbnQgbGlic1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1hcy1jb25zdFxuICAgICAgICB0aGlzW19hXSA9ICdQcm9taXNlJztcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGV4ZWN1dG9yKTtcbiAgICB9XG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5jYXRjaChvbnJlamVjdGVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbmFsbHkob25maW5hbGx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5maW5hbGx5KG9uZmluYWxseSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbihldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb25jZShldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIHN1cGVyLm9uY2UoZXZlbnROYW1lLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbl9hID0gU3ltYm9sLnRvU3RyaW5nVGFnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19wcm9taV9ldmVudC5qcy5tYXAiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX2EiLCJXZWIzRXZlbnRFbWl0dGVyIiwiV2ViM1Byb21pRXZlbnQiLCJjb25zdHJ1Y3RvciIsImV4ZWN1dG9yIiwiX3Byb21pc2UiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJjYXRjaCIsImZpbmFsbHkiLCJvbmZpbmFsbHkiLCJvbiIsImV2ZW50TmFtZSIsImZuIiwib25jZSIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_promi_event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_request_manager.js":
/*!****************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_request_manager.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3RequestManager: () => (/* binding */ Web3RequestManager),\n/* harmony export */   Web3RequestManagerEvent: () => (/* binding */ Web3RequestManagerEvent)\n/* harmony export */ });\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var web3_providers_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-providers-http */ \"(ssr)/./node_modules/web3-providers-http/lib/esm/index.js\");\n/* harmony import */ var web3_providers_ws__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3-providers-ws */ \"(ssr)/./node_modules/web3-providers-ws/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/web3-core/lib/esm/utils.js\");\n/* harmony import */ var _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./web3_event_emitter.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ var __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nvar Web3RequestManagerEvent;\n(function(Web3RequestManagerEvent) {\n    Web3RequestManagerEvent[\"PROVIDER_CHANGED\"] = \"PROVIDER_CHANGED\";\n    Web3RequestManagerEvent[\"BEFORE_PROVIDER_CHANGE\"] = \"BEFORE_PROVIDER_CHANGE\";\n})(Web3RequestManagerEvent || (Web3RequestManagerEvent = {}));\nconst availableProviders = {\n    HttpProvider: web3_providers_http__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    WebsocketProvider: web3_providers_ws__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n};\nclass Web3RequestManager extends _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_5__.Web3EventEmitter {\n    constructor(provider, useRpcCallSpecification){\n        super();\n        if (!(0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isNullish)(provider)) {\n            this.setProvider(provider);\n        }\n        this.useRpcCallSpecification = useRpcCallSpecification;\n    }\n    /**\n     * Will return all available providers\n     */ static get providers() {\n        return availableProviders;\n    }\n    /**\n     * Will return the current provider.\n     *\n     * @returns Returns the current provider\n     */ get provider() {\n        return this._provider;\n    }\n    /**\n     * Will return all available providers\n     */ // eslint-disable-next-line class-methods-use-this\n    get providers() {\n        return availableProviders;\n    }\n    /**\n     * Use to set provider. Provider can be a provider instance or a string.\n     *\n     * @param provider - The provider to set\n     */ setProvider(provider) {\n        let newProvider;\n        // autodetect provider\n        if (provider && typeof provider === \"string\" && this.providers) {\n            // HTTP\n            if (/^http(s)?:\\/\\//i.test(provider)) {\n                newProvider = new this.providers.HttpProvider(provider);\n            // WS\n            } else if (/^ws(s)?:\\/\\//i.test(provider)) {\n                newProvider = new this.providers.WebsocketProvider(provider);\n            } else {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ProviderError(`Can't autodetect provider for \"${provider}\"`);\n            }\n        } else if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isNullish)(provider)) {\n            // In case want to unset the provider\n            newProvider = undefined;\n        } else {\n            newProvider = provider;\n        }\n        this.emit(Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE, this._provider);\n        this._provider = newProvider;\n        this.emit(Web3RequestManagerEvent.PROVIDER_CHANGED, this._provider);\n        return true;\n    }\n    /**\n     *\n     * Will execute a request\n     *\n     * @param request - {@link Web3APIRequest} The request to send\n     *\n     * @returns The response of the request {@link ResponseType}. If there is error\n     * in the response, will throw an error\n     */ send(request) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const response = yield this._sendRequest(request);\n            if (web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithResult(response)) {\n                return response.result;\n            }\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ResponseError(response);\n        });\n    }\n    /**\n     * Same as send, but, will execute a batch of requests\n     *\n     * @param request {@link JsonRpcBatchRequest} The batch request to send\n     */ sendBatch(request) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const response = yield this._sendRequest(request);\n            return response;\n        });\n    }\n    _sendRequest(request) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const { provider } = this;\n            if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isNullish)(provider)) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ProviderError(\"Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.\");\n            }\n            const payload = web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(request) ? web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.toBatchPayload(request) : web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.toPayload(request);\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isWeb3Provider)(provider)) {\n                let response;\n                try {\n                    response = yield provider.request(payload);\n                } catch (error) {\n                    // Check if the provider throw an error instead of reject with error\n                    response = error;\n                }\n                return this._processJsonRpcResponse(payload, response, {\n                    legacy: false,\n                    error: false\n                });\n            }\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isEIP1193Provider)(provider)) {\n                return provider.request(payload).then((res)=>this._processJsonRpcResponse(payload, res, {\n                        legacy: true,\n                        error: false\n                    })).catch((error)=>this._processJsonRpcResponse(payload, error, {\n                        legacy: true,\n                        error: true\n                    }));\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isLegacyRequestProvider)(provider)) {\n                return new Promise((resolve, reject)=>{\n                    const rejectWithError = (err)=>reject(this._processJsonRpcResponse(payload, err, {\n                            legacy: true,\n                            error: true\n                        }));\n                    const resolveWithResponse = (response)=>resolve(this._processJsonRpcResponse(payload, response, {\n                            legacy: true,\n                            error: false\n                        }));\n                    const result = provider.request(payload, // a callback that is expected to be called after getting the response:\n                    (err, response)=>{\n                        if (err) {\n                            return rejectWithError(err);\n                        }\n                        return resolveWithResponse(response);\n                    });\n                    // Some providers, that follow a previous drafted version of EIP1193, has a `request` function\n                    //\tthat is not defined as `async`, but it returns a promise.\n                    // Such providers would not be picked with if(isEIP1193Provider(provider)) above\n                    //\tbecause the `request` function was not defined with `async` and so the function definition is not `AsyncFunction`.\n                    // Like this provider: https://github.dev/NomicFoundation/hardhat/blob/62bea2600785595ba36f2105564076cf5cdf0fd8/packages/hardhat-core/src/internal/core/providers/backwards-compatibility.ts#L19\n                    // So check if the returned result is a Promise, and resolve with it accordingly.\n                    // Note: in this case we expect the callback provided above to never be called.\n                    if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(result)) {\n                        const responsePromise = result;\n                        responsePromise.then(resolveWithResponse).catch(rejectWithError);\n                    }\n                });\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isLegacySendProvider)(provider)) {\n                return new Promise((resolve, reject)=>{\n                    provider.send(payload, (err, response)=>{\n                        if (err) {\n                            return reject(this._processJsonRpcResponse(payload, err, {\n                                legacy: true,\n                                error: true\n                            }));\n                        }\n                        if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isNullish)(response)) {\n                            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ResponseError(\"\", 'Got a \"nullish\" response from provider.');\n                        }\n                        return resolve(this._processJsonRpcResponse(payload, response, {\n                            legacy: true,\n                            error: false\n                        }));\n                    });\n                });\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isLegacySendAsyncProvider)(provider)) {\n                return provider.sendAsync(payload).then((response)=>this._processJsonRpcResponse(payload, response, {\n                        legacy: true,\n                        error: false\n                    })).catch((error)=>this._processJsonRpcResponse(payload, error, {\n                        legacy: true,\n                        error: true\n                    }));\n            }\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ProviderError(\"Provider does not have a request or send method to use.\");\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _processJsonRpcResponse(payload, response, { legacy, error }) {\n        if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isNullish)(response)) {\n            return this._buildResponse(payload, // Some providers uses \"null\" as valid empty response\n            // eslint-disable-next-line no-null/no-null\n            null, error);\n        }\n        // This is the majority of the cases so check these first\n        // A valid JSON-RPC response with error object\n        if (web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithError(response)) {\n            // check if its an rpc error\n            if (this.useRpcCallSpecification && (0,web3_utils__WEBPACK_IMPORTED_MODULE_3__.isResponseRpcError)(response)) {\n                const rpcErrorResponse = response;\n                // check if rpc error flag is on and response error code match an EIP-1474 or a standard rpc error code\n                if (web3_errors__WEBPACK_IMPORTED_MODULE_0__.rpcErrorsMap.get(rpcErrorResponse.error.code)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    const Err = web3_errors__WEBPACK_IMPORTED_MODULE_0__.rpcErrorsMap.get(rpcErrorResponse.error.code).error;\n                    throw new Err(rpcErrorResponse);\n                } else {\n                    throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.RpcError(rpcErrorResponse);\n                }\n            } else if (!Web3RequestManager._isReverted(response)) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.InvalidResponseError(response, payload);\n            }\n        }\n        // This is the majority of the cases so check these first\n        // A valid JSON-RPC response with result object\n        if (web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithResult(response)) {\n            return response;\n        }\n        if (response instanceof Error) {\n            Web3RequestManager._isReverted(response);\n            throw response;\n        }\n        if (!legacy && web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload) && web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchResponse(response)) {\n            return response;\n        }\n        if (legacy && !error && web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload)) {\n            return response;\n        }\n        if (legacy && error && web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload)) {\n            // In case of error batch response we don't want to throw Invalid response\n            throw response;\n        }\n        if (legacy && !web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithError(response) && !web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithResult(response)) {\n            return this._buildResponse(payload, response, error);\n        }\n        if (web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload) && !Array.isArray(response)) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ResponseError(response, \"Got normal response for a batch request.\");\n        }\n        if (!web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload) && Array.isArray(response)) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ResponseError(response, \"Got batch response for a normal request.\");\n        }\n        if ((web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithError(response) || web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithResult(response)) && !web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload)) {\n            if (response.id && payload.id !== response.id) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.InvalidResponseError(response);\n            }\n        }\n        throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ResponseError(response, \"Invalid response\");\n    }\n    static _isReverted(response) {\n        let error;\n        if (web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isResponseWithError(response)) {\n            error = response.error;\n        } else if (response instanceof Error) {\n            error = response;\n        }\n        // This message means that there was an error while executing the code of the smart contract\n        // However, more processing will happen at a higher level to decode the error data,\n        //\taccording to the Error ABI, if it was available as of EIP-838.\n        if (error === null || error === void 0 ? void 0 : error.message.includes(\"revert\")) throw new web3_errors__WEBPACK_IMPORTED_MODULE_0__.ContractExecutionError(error);\n        return false;\n    }\n    // Need to use same types as _processJsonRpcResponse so have to declare as instance method\n    // eslint-disable-next-line class-methods-use-this\n    _buildResponse(payload, response, error) {\n        const res = {\n            jsonrpc: \"2.0\",\n            // eslint-disable-next-line no-nested-ternary\n            id: web3_utils__WEBPACK_IMPORTED_MODULE_3__.jsonRpc.isBatchRequest(payload) ? payload[0].id : \"id\" in payload ? payload.id : // eslint-disable-next-line no-null/no-null\n            null\n        };\n        if (error) {\n            return Object.assign(Object.assign({}, res), {\n                error: response\n            });\n        }\n        return Object.assign(Object.assign({}, res), {\n            result: response\n        });\n    }\n} //# sourceMappingURL=web3_request_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19yZXF1ZXN0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsR0FDQSxJQUFJQSxZQUFZLFNBQUssSUFBSSxTQUFJLENBQUNBLFNBQVMsSUFBSyxTQUFVQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO0lBQ25GLFNBQVNDLE1BQU1DLEtBQUs7UUFBSSxPQUFPQSxpQkFBaUJILElBQUlHLFFBQVEsSUFBSUgsRUFBRSxTQUFVSSxPQUFPO1lBQUlBLFFBQVFEO1FBQVE7SUFBSTtJQUMzRyxPQUFPLElBQUtILENBQUFBLEtBQU1BLENBQUFBLElBQUlLLE9BQU0sQ0FBQyxFQUFHLFNBQVVELE9BQU8sRUFBRUUsTUFBTTtRQUNyRCxTQUFTQyxVQUFVSixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsVUFBVVEsSUFBSSxDQUFDTjtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzFGLFNBQVNDLFNBQVNSLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxTQUFTLENBQUMsUUFBUSxDQUFDRTtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzdGLFNBQVNGLEtBQUtJLE1BQU07WUFBSUEsT0FBT0MsSUFBSSxHQUFHVCxRQUFRUSxPQUFPVCxLQUFLLElBQUlELE1BQU1VLE9BQU9ULEtBQUssRUFBRVcsSUFBSSxDQUFDUCxXQUFXSTtRQUFXO1FBQzdHSCxLQUFLLENBQUNQLFlBQVlBLFVBQVVjLEtBQUssQ0FBQ2pCLFNBQVNDLGNBQWMsRUFBRSxHQUFHVSxJQUFJO0lBQ3RFO0FBQ0o7QUFDa0k7QUFDbkY7QUFDSjtBQUNvQztBQUMyRDtBQUMvRTtBQUNwRCxJQUFJeUIsd0JBQXdCO0FBQ2xDLFVBQVVBLHVCQUF1QjtJQUM5QkEsdUJBQXVCLENB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WjtRQUNBLDRGQUE0RjtRQUM1RixtRkFBbUY7UUFDbkYsaUVBQWlFO1FBQ2pFLElBQUlRLFVBQVUsUUFBUUEsVUFBVSxLQUFLLElBQUksS0FBSyxJQUFJQSxNQUFNc0IsT0FBTyxDQUFDQyxRQUFRLENBQUMsV0FDckUsTUFBTSxJQUFJbkUsK0RBQXNCQSxDQUFDNEM7UUFDckMsT0FBTztJQUNYO0lBQ0EsMEZBQTBGO0lBQzFGLGtEQUFrRDtJQUNsRFUsZUFBZWQsT0FBTyxFQUFFSixRQUFRLEVBQUVRLEtBQUssRUFBRTtRQUNyQyxNQUFNRyxNQUFNO1lBQ1JxQixTQUFTO1lBQ1QsNkNBQTZDO1lBQzdDSCxJQUFJdkQsOERBQXNCLENBQUM4QixXQUNyQkEsT0FBTyxDQUFDLEVBQUUsQ0FBQ3lCLEVBQUUsR0FDYixRQUFRekIsVUFDSkEsUUFBUXlCLEVBQUUsR0FFUiwyQ0FBMkM7WUFDM0M7UUFDaEI7UUFDQSxJQUFJckIsT0FBTztZQUNQLE9BQU95QixPQUFPQyxNQUFNLENBQUNELE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUd2QixNQUFNO2dCQUFFSCxPQUFPUjtZQUFTO1FBQ25FO1FBQ0EsT0FBT2lDLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR3ZCLE1BQU07WUFBRW5ELFFBQVF3QztRQUFTO0lBQ3BFO0FBQ0osRUFDQSxnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2VzbS93ZWIzX3JlcXVlc3RfbWFuYWdlci5qcz8xNDU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBDb250cmFjdEV4ZWN1dGlvbkVycm9yLCBJbnZhbGlkUmVzcG9uc2VFcnJvciwgUHJvdmlkZXJFcnJvciwgUmVzcG9uc2VFcnJvciwgcnBjRXJyb3JzTWFwLCBScGNFcnJvciwgfSBmcm9tICd3ZWIzLWVycm9ycyc7XG5pbXBvcnQgSHR0cFByb3ZpZGVyIGZyb20gJ3dlYjMtcHJvdmlkZXJzLWh0dHAnO1xuaW1wb3J0IFdTUHJvdmlkZXIgZnJvbSAnd2ViMy1wcm92aWRlcnMtd3MnO1xuaW1wb3J0IHsgaXNOdWxsaXNoLCBpc1Byb21pc2UsIGpzb25ScGMsIGlzUmVzcG9uc2VScGNFcnJvciB9IGZyb20gJ3dlYjMtdXRpbHMnO1xuaW1wb3J0IHsgaXNFSVAxMTkzUHJvdmlkZXIsIGlzTGVnYWN5UmVxdWVzdFByb3ZpZGVyLCBpc0xlZ2FjeVNlbmRBc3luY1Byb3ZpZGVyLCBpc0xlZ2FjeVNlbmRQcm92aWRlciwgaXNXZWIzUHJvdmlkZXIsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBXZWIzRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi93ZWIzX2V2ZW50X2VtaXR0ZXIuanMnO1xuZXhwb3J0IHZhciBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudDtcbihmdW5jdGlvbiAoV2ViM1JlcXVlc3RNYW5hZ2VyRXZlbnQpIHtcbiAgICBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudFtcIlBST1ZJREVSX0NIQU5HRURcIl0gPSBcIlBST1ZJREVSX0NIQU5HRURcIjtcbiAgICBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudFtcIkJFRk9SRV9QUk9WSURFUl9DSEFOR0VcIl0gPSBcIkJFRk9SRV9QUk9WSURFUl9DSEFOR0VcIjtcbn0pKFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50IHx8IChXZWIzUmVxdWVzdE1hbmFnZXJFdmVudCA9IHt9KSk7XG5jb25zdCBhdmFpbGFibGVQcm92aWRlcnMgPSB7XG4gICAgSHR0cFByb3ZpZGVyOiBIdHRwUHJvdmlkZXIsXG4gICAgV2Vic29ja2V0UHJvdmlkZXI6IFdTUHJvdmlkZXIsXG59O1xuZXhwb3J0IGNsYXNzIFdlYjNSZXF1ZXN0TWFuYWdlciBleHRlbmRzIFdlYjNFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb3ZpZGVyLCB1c2VScGNDYWxsU3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAoIWlzTnVsbGlzaChwcm92aWRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlUnBjQ2FsbFNwZWNpZmljYXRpb24gPSB1c2VScGNDYWxsU3BlY2lmaWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYWxsIGF2YWlsYWJsZSBwcm92aWRlcnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHByb3ZpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIGF2YWlsYWJsZVByb3ZpZGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgcHJvdmlkZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBjdXJyZW50IHByb3ZpZGVyXG4gICAgICovXG4gICAgZ2V0IHByb3ZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGFsbCBhdmFpbGFibGUgcHJvdmlkZXJzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBnZXQgcHJvdmlkZXJzKCkge1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlUHJvdmlkZXJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2UgdG8gc2V0IHByb3ZpZGVyLiBQcm92aWRlciBjYW4gYmUgYSBwcm92aWRlciBpbnN0YW5jZSBvciBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKi9cbiAgICBzZXRQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICBsZXQgbmV3UHJvdmlkZXI7XG4gICAgICAgIC8vIGF1dG9kZXRlY3QgcHJvdmlkZXJcbiAgICAgICAgaWYgKHByb3ZpZGVyICYmIHR5cGVvZiBwcm92aWRlciA9PT0gJ3N0cmluZycgJiYgdGhpcy5wcm92aWRlcnMpIHtcbiAgICAgICAgICAgIC8vIEhUVFBcbiAgICAgICAgICAgIGlmICgvXmh0dHAocyk/OlxcL1xcLy9pLnRlc3QocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvdmlkZXIgPSBuZXcgdGhpcy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAvLyBXU1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL153cyhzKT86XFwvXFwvL2kudGVzdChwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBuZXdQcm92aWRlciA9IG5ldyB0aGlzLnByb3ZpZGVycy5XZWJzb2NrZXRQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdmlkZXJFcnJvcihgQ2FuJ3QgYXV0b2RldGVjdCBwcm92aWRlciBmb3IgXCIke3Byb3ZpZGVyfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdWxsaXNoKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSB3YW50IHRvIHVuc2V0IHRoZSBwcm92aWRlclxuICAgICAgICAgICAgbmV3UHJvdmlkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdChXZWIzUmVxdWVzdE1hbmFnZXJFdmVudC5CRUZPUkVfUFJPVklERVJfQ0hBTkdFLCB0aGlzLl9wcm92aWRlcik7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVyID0gbmV3UHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZW1pdChXZWIzUmVxdWVzdE1hbmFnZXJFdmVudC5QUk9WSURFUl9DSEFOR0VELCB0aGlzLl9wcm92aWRlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdpbGwgZXhlY3V0ZSBhIHJlcXVlc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIFdlYjNBUElSZXF1ZXN0fSBUaGUgcmVxdWVzdCB0byBzZW5kXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2Ugb2YgdGhlIHJlcXVlc3Qge0BsaW5rIFJlc3BvbnNlVHlwZX0uIElmIHRoZXJlIGlzIGVycm9yXG4gICAgICogaW4gdGhlIHJlc3BvbnNlLCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICovXG4gICAgc2VuZChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICAgICAgaWYgKGpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgc2VuZCwgYnV0LCB3aWxsIGV4ZWN1dGUgYSBiYXRjaCBvZiByZXF1ZXN0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3Qge0BsaW5rIEpzb25ScGNCYXRjaFJlcXVlc3R9IFRoZSBiYXRjaCByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKi9cbiAgICBzZW5kQmF0Y2gocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLl9zZW5kUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zZW5kUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGlzTnVsbGlzaChwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdmlkZXJFcnJvcignUHJvdmlkZXIgbm90IGF2YWlsYWJsZS4gVXNlIGAuc2V0UHJvdmlkZXJgIG9yIGAucHJvdmlkZXI9YCB0byBpbml0aWFsaXplIHRoZSBwcm92aWRlci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBqc29uUnBjLmlzQmF0Y2hSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgPyBqc29uUnBjLnRvQmF0Y2hQYXlsb2FkKHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgOiBqc29uUnBjLnRvUGF5bG9hZChyZXF1ZXN0KTtcbiAgICAgICAgICAgIGlmIChpc1dlYjNQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB5aWVsZCBwcm92aWRlci5yZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHByb3ZpZGVyIHRocm93IGFuIGVycm9yIGluc3RlYWQgb2YgcmVqZWN0IHdpdGggZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NKc29uUnBjUmVzcG9uc2UocGF5bG9hZCwgcmVzcG9uc2UsIHsgbGVnYWN5OiBmYWxzZSwgZXJyb3I6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRUlQMTE5M1Byb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAucmVxdWVzdChwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCByZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIGVycm9yLCB7IGxlZ2FjeTogdHJ1ZSwgZXJyb3I6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgaWYgKGlzTGVnYWN5UmVxdWVzdFByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlamVjdFdpdGhFcnJvciA9IChlcnIpID0+IHJlamVjdCh0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZVdpdGhSZXNwb25zZSA9IChyZXNwb25zZSkgPT4gcmVzb2x2ZSh0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIHJlc3BvbnNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdhY3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvdmlkZXIucmVxdWVzdChwYXlsb2FkLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBjYWxsYmFjayB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGNhbGxlZCBhZnRlciBnZXR0aW5nIHRoZSByZXNwb25zZTpcbiAgICAgICAgICAgICAgICAgICAgKGVyciwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0V2l0aEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVdpdGhSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIHByb3ZpZGVycywgdGhhdCBmb2xsb3cgYSBwcmV2aW91cyBkcmFmdGVkIHZlcnNpb24gb2YgRUlQMTE5MywgaGFzIGEgYHJlcXVlc3RgIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vXHR0aGF0IGlzIG5vdCBkZWZpbmVkIGFzIGBhc3luY2AsIGJ1dCBpdCByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VjaCBwcm92aWRlcnMgd291bGQgbm90IGJlIHBpY2tlZCB3aXRoIGlmKGlzRUlQMTE5M1Byb3ZpZGVyKHByb3ZpZGVyKSkgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgLy9cdGJlY2F1c2UgdGhlIGByZXF1ZXN0YCBmdW5jdGlvbiB3YXMgbm90IGRlZmluZWQgd2l0aCBgYXN5bmNgIGFuZCBzbyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyBub3QgYEFzeW5jRnVuY3Rpb25gLlxuICAgICAgICAgICAgICAgICAgICAvLyBMaWtlIHRoaXMgcHJvdmlkZXI6IGh0dHBzOi8vZ2l0aHViLmRldi9Ob21pY0ZvdW5kYXRpb24vaGFyZGhhdC9ibG9iLzYyYmVhMjYwMDc4NTU5NWJhMzZmMjEwNTU2NDA3NmNmNWNkZjBmZDgvcGFja2FnZXMvaGFyZGhhdC1jb3JlL3NyYy9pbnRlcm5hbC9jb3JlL3Byb3ZpZGVycy9iYWNrd2FyZHMtY29tcGF0aWJpbGl0eS50cyNMMTlcbiAgICAgICAgICAgICAgICAgICAgLy8gU28gY2hlY2sgaWYgdGhlIHJldHVybmVkIHJlc3VsdCBpcyBhIFByb21pc2UsIGFuZCByZXNvbHZlIHdpdGggaXQgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IGluIHRoaXMgY2FzZSB3ZSBleHBlY3QgdGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFib3ZlIHRvIG5ldmVyIGJlIGNhbGxlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVByb21pc2UgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UudGhlbihyZXNvbHZlV2l0aFJlc3BvbnNlKS5jYXRjaChyZWplY3RXaXRoRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBpZiAoaXNMZWdhY3lTZW5kUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuc2VuZChwYXlsb2FkLCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QodGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdWxsaXNoKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKCcnLCAnR290IGEgXCJudWxsaXNoXCIgcmVzcG9uc2UgZnJvbSBwcm92aWRlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRoaXMuX3Byb2Nlc3NKc29uUnBjUmVzcG9uc2UocGF5bG9hZCwgcmVzcG9uc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdhY3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZC5cbiAgICAgICAgICAgIGlmIChpc0xlZ2FjeVNlbmRBc3luY1Byb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAuc2VuZEFzeW5jKHBheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHRoaXMuX3Byb2Nlc3NKc29uUnBjUmVzcG9uc2UocGF5bG9hZCwgcmVzcG9uc2UsIHsgbGVnYWN5OiB0cnVlLCBlcnJvcjogZmFsc2UgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIGVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2FjeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3ZpZGVyRXJyb3IoJ1Byb3ZpZGVyIGRvZXMgbm90IGhhdmUgYSByZXF1ZXN0IG9yIHNlbmQgbWV0aG9kIHRvIHVzZS4nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgX3Byb2Nlc3NKc29uUnBjUmVzcG9uc2UocGF5bG9hZCwgcmVzcG9uc2UsIHsgbGVnYWN5LCBlcnJvciB9KSB7XG4gICAgICAgIGlmIChpc051bGxpc2gocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRSZXNwb25zZShwYXlsb2FkLCBcbiAgICAgICAgICAgIC8vIFNvbWUgcHJvdmlkZXJzIHVzZXMgXCJudWxsXCIgYXMgdmFsaWQgZW1wdHkgcmVzcG9uc2VcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1udWxsL25vLW51bGxcbiAgICAgICAgICAgIG51bGwsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBtYWpvcml0eSBvZiB0aGUgY2FzZXMgc28gY2hlY2sgdGhlc2UgZmlyc3RcbiAgICAgICAgLy8gQSB2YWxpZCBKU09OLVJQQyByZXNwb25zZSB3aXRoIGVycm9yIG9iamVjdFxuICAgICAgICBpZiAoanNvblJwYy5pc1Jlc3BvbnNlV2l0aEVycm9yKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIGFuIHJwYyBlcnJvclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlUnBjQ2FsbFNwZWNpZmljYXRpb24gJiZcbiAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlUnBjRXJyb3IocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnBjRXJyb3JSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHJwYyBlcnJvciBmbGFnIGlzIG9uIGFuZCByZXNwb25zZSBlcnJvciBjb2RlIG1hdGNoIGFuIEVJUC0xNDc0IG9yIGEgc3RhbmRhcmQgcnBjIGVycm9yIGNvZGVcbiAgICAgICAgICAgICAgICBpZiAocnBjRXJyb3JzTWFwLmdldChycGNFcnJvclJlc3BvbnNlLmVycm9yLmNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IEVyciA9IHJwY0Vycm9yc01hcC5nZXQocnBjRXJyb3JSZXNwb25zZS5lcnJvci5jb2RlKS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycihycGNFcnJvclJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBScGNFcnJvcihycGNFcnJvclJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghV2ViM1JlcXVlc3RNYW5hZ2VyLl9pc1JldmVydGVkKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgcGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgbWFqb3JpdHkgb2YgdGhlIGNhc2VzIHNvIGNoZWNrIHRoZXNlIGZpcnN0XG4gICAgICAgIC8vIEEgdmFsaWQgSlNPTi1SUEMgcmVzcG9uc2Ugd2l0aCByZXN1bHQgb2JqZWN0XG4gICAgICAgIGlmIChqc29uUnBjLmlzUmVzcG9uc2VXaXRoUmVzdWx0KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBXZWIzUmVxdWVzdE1hbmFnZXIuX2lzUmV2ZXJ0ZWQocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsZWdhY3kgJiYganNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiBqc29uUnBjLmlzQmF0Y2hSZXNwb25zZShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVnYWN5ICYmICFlcnJvciAmJiBqc29uUnBjLmlzQmF0Y2hSZXF1ZXN0KHBheWxvYWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZ2FjeSAmJiBlcnJvciAmJiBqc29uUnBjLmlzQmF0Y2hSZXF1ZXN0KHBheWxvYWQpKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVycm9yIGJhdGNoIHJlc3BvbnNlIHdlIGRvbid0IHdhbnQgdG8gdGhyb3cgSW52YWxpZCByZXNwb25zZVxuICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZ2FjeSAmJlxuICAgICAgICAgICAgIWpzb25ScGMuaXNSZXNwb25zZVdpdGhFcnJvcihyZXNwb25zZSkgJiZcbiAgICAgICAgICAgICFqc29uUnBjLmlzUmVzcG9uc2VXaXRoUmVzdWx0KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkUmVzcG9uc2UocGF5bG9hZCwgcmVzcG9uc2UsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiAhQXJyYXkuaXNBcnJheShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlLCAnR290IG5vcm1hbCByZXNwb25zZSBmb3IgYSBiYXRjaCByZXF1ZXN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICdHb3QgYmF0Y2ggcmVzcG9uc2UgZm9yIGEgbm9ybWFsIHJlcXVlc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChqc29uUnBjLmlzUmVzcG9uc2VXaXRoRXJyb3IocmVzcG9uc2UpIHx8IGpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzcG9uc2UpKSAmJlxuICAgICAgICAgICAgIWpzb25ScGMuaXNCYXRjaFJlcXVlc3QocGF5bG9hZCkpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5pZCAmJiBwYXlsb2FkLmlkICE9PSByZXNwb25zZS5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICdJbnZhbGlkIHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIHN0YXRpYyBfaXNSZXZlcnRlZChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIGlmIChqc29uUnBjLmlzUmVzcG9uc2VXaXRoRXJyb3IocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBtZXNzYWdlIG1lYW5zIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGV4ZWN1dGluZyB0aGUgY29kZSBvZiB0aGUgc21hcnQgY29udHJhY3RcbiAgICAgICAgLy8gSG93ZXZlciwgbW9yZSBwcm9jZXNzaW5nIHdpbGwgaGFwcGVuIGF0IGEgaGlnaGVyIGxldmVsIHRvIGRlY29kZSB0aGUgZXJyb3IgZGF0YSxcbiAgICAgICAgLy9cdGFjY29yZGluZyB0byB0aGUgRXJyb3IgQUJJLCBpZiBpdCB3YXMgYXZhaWxhYmxlIGFzIG9mIEVJUC04MzguXG4gICAgICAgIGlmIChlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncmV2ZXJ0JykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29udHJhY3RFeGVjdXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gTmVlZCB0byB1c2Ugc2FtZSB0eXBlcyBhcyBfcHJvY2Vzc0pzb25ScGNSZXNwb25zZSBzbyBoYXZlIHRvIGRlY2xhcmUgYXMgaW5zdGFuY2UgbWV0aG9kXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBfYnVpbGRSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGlkOiBqc29uUnBjLmlzQmF0Y2hSZXF1ZXN0KHBheWxvYWQpXG4gICAgICAgICAgICAgICAgPyBwYXlsb2FkWzBdLmlkXG4gICAgICAgICAgICAgICAgOiAnaWQnIGluIHBheWxvYWRcbiAgICAgICAgICAgICAgICAgICAgPyBwYXlsb2FkLmlkXG4gICAgICAgICAgICAgICAgICAgIDogLy8gSGF2ZSB0byB1c2UgdGhlIG51bGwgaGVyZSBleHBsaWNpdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcyksIHsgZXJyb3I6IHJlc3BvbnNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcyksIHsgcmVzdWx0OiByZXNwb25zZSB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX3JlcXVlc3RfbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiQ29udHJhY3RFeGVjdXRpb25FcnJvciIsIkludmFsaWRSZXNwb25zZUVycm9yIiwiUHJvdmlkZXJFcnJvciIsIlJlc3BvbnNlRXJyb3IiLCJycGNFcnJvcnNNYXAiLCJScGNFcnJvciIsIkh0dHBQcm92aWRlciIsIldTUHJvdmlkZXIiLCJpc051bGxpc2giLCJpc1Byb21pc2UiLCJqc29uUnBjIiwiaXNSZXNwb25zZVJwY0Vycm9yIiwiaXNFSVAxMTkzUHJvdmlkZXIiLCJpc0xlZ2FjeVJlcXVlc3RQcm92aWRlciIsImlzTGVnYWN5U2VuZEFzeW5jUHJvdmlkZXIiLCJpc0xlZ2FjeVNlbmRQcm92aWRlciIsImlzV2ViM1Byb3ZpZGVyIiwiV2ViM0V2ZW50RW1pdHRlciIsIldlYjNSZXF1ZXN0TWFuYWdlckV2ZW50IiwiYXZhaWxhYmxlUHJvdmlkZXJzIiwiV2Vic29ja2V0UHJvdmlkZXIiLCJXZWIzUmVxdWVzdE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVyIiwidXNlUnBjQ2FsbFNwZWNpZmljYXRpb24iLCJzZXRQcm92aWRlciIsInByb3ZpZGVycyIsIl9wcm92aWRlciIsIm5ld1Byb3ZpZGVyIiwidGVzdCIsInVuZGVmaW5lZCIsImVtaXQiLCJCRUZPUkVfUFJPVklERVJfQ0hBTkdFIiwiUFJPVklERVJfQ0hBTkdFRCIsInNlbmQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJfc2VuZFJlcXVlc3QiLCJpc1Jlc3BvbnNlV2l0aFJlc3VsdCIsInNlbmRCYXRjaCIsInBheWxvYWQiLCJpc0JhdGNoUmVxdWVzdCIsInRvQmF0Y2hQYXlsb2FkIiwidG9QYXlsb2FkIiwiZXJyb3IiLCJfcHJvY2Vzc0pzb25ScGNSZXNwb25zZSIsImxlZ2FjeSIsInJlcyIsImNhdGNoIiwicmVqZWN0V2l0aEVycm9yIiwiZXJyIiwicmVzb2x2ZVdpdGhSZXNwb25zZSIsInJlc3BvbnNlUHJvbWlzZSIsInNlbmRBc3luYyIsIl9idWlsZFJlc3BvbnNlIiwiaXNSZXNwb25zZVdpdGhFcnJvciIsInJwY0Vycm9yUmVzcG9uc2UiLCJnZXQiLCJjb2RlIiwiRXJyIiwiX2lzUmV2ZXJ0ZWQiLCJFcnJvciIsImlzQmF0Y2hSZXNwb25zZSIsIkFycmF5IiwiaXNBcnJheSIsImlkIiwibWVzc2FnZSIsImluY2x1ZGVzIiwianNvbnJwYyIsIk9iamVjdCIsImFzc2lnbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_request_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_subscription_manager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_subscription_manager.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3SubscriptionManager: () => (/* binding */ Web3SubscriptionManager)\n/* harmony export */ });\n/* harmony import */ var web3_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-types */ \"(ssr)/./node_modules/web3-types/lib/esm/index.js\");\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/web3-core/lib/esm/utils.js\");\n/* harmony import */ var _web3_request_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web3_request_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_request_manager.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ var __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nclass Web3SubscriptionManager {\n    constructor(requestManager, registeredSubscriptions, tolerateUnlinkedSubscription = false){\n        this.requestManager = requestManager;\n        this.registeredSubscriptions = registeredSubscriptions;\n        this.tolerateUnlinkedSubscription = tolerateUnlinkedSubscription;\n        this._subscriptions = new Map();\n        this.requestManager.on(_web3_request_manager_js__WEBPACK_IMPORTED_MODULE_4__.Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE, ()=>__awaiter(this, void 0, void 0, function*() {\n                yield this.unsubscribe();\n            }));\n        this.requestManager.on(_web3_request_manager_js__WEBPACK_IMPORTED_MODULE_4__.Web3RequestManagerEvent.PROVIDER_CHANGED, ()=>{\n            this.clear();\n            this.listenToProviderEvents();\n        });\n        this.listenToProviderEvents();\n    }\n    listenToProviderEvents() {\n        const providerAsWebProvider = this.requestManager.provider;\n        if (!this.requestManager.provider || typeof (providerAsWebProvider === null || providerAsWebProvider === void 0 ? void 0 : providerAsWebProvider.supportsSubscriptions) === \"function\" && !(providerAsWebProvider === null || providerAsWebProvider === void 0 ? void 0 : providerAsWebProvider.supportsSubscriptions())) {\n            return;\n        }\n        if (typeof this.requestManager.provider.on === \"function\") {\n            if (typeof this.requestManager.provider.request === \"function\") {\n                // Listen to provider messages and data\n                this.requestManager.provider.on(\"message\", // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-argument\n                (message)=>this.messageListener(message));\n            } else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-argument\n                providerAsWebProvider.on(\"data\", (data)=>this.messageListener(data));\n            }\n        }\n    }\n    messageListener(data) {\n        var _a, _b, _c;\n        if (!data) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(\"Should not call messageListener with no data. Type was\");\n        }\n        const subscriptionId = ((_a = data.params) === null || _a === void 0 ? void 0 : _a.subscription) || ((_b = data.data) === null || _b === void 0 ? void 0 : _b.subscription) || ((_c = data.id) === null || _c === void 0 ? void 0 : _c.toString(16));\n        // Process if the received data is related to a subscription\n        if (subscriptionId) {\n            const sub = this._subscriptions.get(subscriptionId);\n            sub === null || sub === void 0 ? void 0 : sub.processSubscriptionData(data);\n        }\n    }\n    /**\n     * Will create a new subscription\n     *\n     * @param name - The subscription you want to subscribe to\n     * @param args - Optional additional parameters, depending on the subscription type\n     * @param returnFormat- ({@link DataFormat} defaults to {@link DEFAULT_RETURN_FORMAT}) - Specifies how the return data from the call should be formatted.\n     *\n     * Will subscribe to a specific topic (note: name)\n     * @returns The subscription object\n     */ subscribe(name, args, returnFormat = web3_types__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RETURN_FORMAT) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const Klass = this.registeredSubscriptions[name];\n            if (!Klass) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(\"Invalid subscription type\");\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            const subscription = new Klass(args !== null && args !== void 0 ? args : undefined, {\n                subscriptionManager: this,\n                returnFormat\n            });\n            yield this.addSubscription(subscription);\n            return subscription;\n        });\n    }\n    /**\n     * Will returns all subscriptions.\n     */ get subscriptions() {\n        return this._subscriptions;\n    }\n    /**\n     *\n     * Adds an instance of {@link Web3Subscription} and subscribes to it\n     *\n     * @param sub - A {@link Web3Subscription} object\n     */ addSubscription(sub) {\n        return __awaiter(this, void 0, void 0, function*() {\n            if (!this.requestManager.provider) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.ProviderError(\"Provider not available\");\n            }\n            if (!this.supportsSubscriptions()) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(\"The current provider does not support subscriptions\");\n            }\n            if (sub.id && this._subscriptions.has(sub.id)) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(`Subscription with id \"${sub.id}\" already exists`);\n            }\n            yield sub.sendSubscriptionRequest();\n            if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_2__.isNullish)(sub.id)) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(\"Subscription is not subscribed yet.\");\n            }\n            this._subscriptions.set(sub.id, sub);\n            return sub.id;\n        });\n    }\n    /**\n     * Will clear a subscription\n     *\n     * @param id - The subscription of type {@link Web3Subscription}  to remove\n     */ removeSubscription(sub) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const { id } = sub;\n            if ((0,web3_utils__WEBPACK_IMPORTED_MODULE_2__.isNullish)(id)) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(\"Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.\");\n            }\n            if (!this._subscriptions.has(id) && !this.tolerateUnlinkedSubscription) {\n                throw new web3_errors__WEBPACK_IMPORTED_MODULE_1__.SubscriptionError(`Subscription with id \"${id.toString()}\" does not exists`);\n            }\n            yield sub.sendUnsubscribeRequest();\n            this._subscriptions.delete(id);\n            return id;\n        });\n    }\n    /**\n     * Will unsubscribe all subscriptions that fulfill the condition\n     *\n     * @param condition - A function that access and `id` and a `subscription` and return `true` or `false`\n     * @returns An array of all the un-subscribed subscriptions\n     */ unsubscribe(condition) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const result = [];\n            for (const [id, sub] of this.subscriptions.entries()){\n                if (!condition || typeof condition === \"function\" && condition({\n                    id,\n                    sub\n                })) {\n                    result.push(this.removeSubscription(sub));\n                }\n            }\n            return Promise.all(result);\n        });\n    }\n    /**\n     * Clears all subscriptions\n     */ clear() {\n        this._subscriptions.clear();\n    }\n    /**\n     * Check whether the current provider supports subscriptions.\n     *\n     * @returns `true` or `false` depending on if the current provider supports subscriptions\n     */ supportsSubscriptions() {\n        return (0,web3_utils__WEBPACK_IMPORTED_MODULE_2__.isNullish)(this.requestManager.provider) ? false : (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isSupportSubscriptions)(this.requestManager.provider);\n    }\n} //# sourceMappingURL=web3_subscription_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19zdWJzY3JpcHRpb25fbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsR0FDQSxJQUFJQSxZQUFZLFNBQUssSUFBSSxTQUFJLENBQUNBLFNBQVMsSUFBSyxTQUFVQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO0lBQ25GLFNBQVNDLE1BQU1DLEtBQUs7UUFBSSxPQUFPQSxpQkFBaUJILElBQUlHLFFBQVEsSUFBSUgsRUFBRSxTQUFVSSxPQUFPO1lBQUlBLFFBQVFEO1FBQVE7SUFBSTtJQUMzRyxPQUFPLElBQUtILENBQUFBLEtBQU1BLENBQUFBLElBQUlLLE9BQU0sQ0FBQyxFQUFHLFNBQVVELE9BQU8sRUFBRUUsTUFBTTtRQUNyRCxTQUFTQyxVQUFVSixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsVUFBVVEsSUFBSSxDQUFDTjtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzFGLFNBQVNDLFNBQVNSLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxTQUFTLENBQUMsUUFBUSxDQUFDRTtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzdGLFNBQVNGLEtBQUtJLE1BQU07WUFBSUEsT0FBT0MsSUFBSSxHQUFHVCxRQUFRUSxPQUFPVCxLQUFLLElBQUlELE1BQU1VLE9BQU9ULEtBQUssRUFBRVcsSUFBSSxDQUFDUCxXQUFXSTtRQUFXO1FBQzdHSCxLQUFLLENBQUNQLFlBQVlBLFVBQVVjLEtBQUssQ0FBQ2pCLFNBQVNDLGNBQWMsRUFBRSxHQUFHVSxJQUFJO0lBQ3RFO0FBQ0o7QUFDb0Q7QUFDVztBQUN4QjtBQUNhO0FBQ2dCO0FBQzdELE1BQU1hO0lBQ1RDLFlBQVlDLGNBQWMsRUFBRUMsdUJBQXVCLEVBQUVDLCtCQUErQixLQUFL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QUFjLENBQUNZLFFBQVE7SUFDN0Q7QUFDSixFQUNBLHFEQUFxRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvZXNtL3dlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXIuanM/ODBjMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgREVGQVVMVF9SRVRVUk5fRk9STUFULCB9IGZyb20gJ3dlYjMtdHlwZXMnO1xuaW1wb3J0IHsgUHJvdmlkZXJFcnJvciwgU3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICd3ZWIzLWVycm9ycyc7XG5pbXBvcnQgeyBpc051bGxpc2ggfSBmcm9tICd3ZWIzLXV0aWxzJztcbmltcG9ydCB7IGlzU3VwcG9ydFN1YnNjcmlwdGlvbnMgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50IH0gZnJvbSAnLi93ZWIzX3JlcXVlc3RfbWFuYWdlci5qcyc7XG5leHBvcnQgY2xhc3MgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RNYW5hZ2VyLCByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucywgdG9sZXJhdGVVbmxpbmtlZFN1YnNjcmlwdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyA9IHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLnRvbGVyYXRlVW5saW5rZWRTdWJzY3JpcHRpb24gPSB0b2xlcmF0ZVVubGlua2VkU3Vic2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uKFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50LkJFRk9SRV9QUk9WSURFUl9DSEFOR0UsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uKFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50LlBST1ZJREVSX0NIQU5HRUQsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG9Qcm92aWRlckV2ZW50cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0ZW5Ub1Byb3ZpZGVyRXZlbnRzKCk7XG4gICAgfVxuICAgIGxpc3RlblRvUHJvdmlkZXJFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyQXNXZWJQcm92aWRlciA9IHRoaXMucmVxdWVzdE1hbmFnZXIucHJvdmlkZXI7XG4gICAgICAgIGlmICghdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlciB8fFxuICAgICAgICAgICAgKHR5cGVvZiAocHJvdmlkZXJBc1dlYlByb3ZpZGVyID09PSBudWxsIHx8IHByb3ZpZGVyQXNXZWJQcm92aWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvdmlkZXJBc1dlYlByb3ZpZGVyLnN1cHBvcnRzU3Vic2NyaXB0aW9ucykgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAhKHByb3ZpZGVyQXNXZWJQcm92aWRlciA9PT0gbnVsbCB8fCBwcm92aWRlckFzV2ViUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3ZpZGVyQXNXZWJQcm92aWRlci5zdXBwb3J0c1N1YnNjcmlwdGlvbnMoKSkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucmVxdWVzdE1hbmFnZXIucHJvdmlkZXIucmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbiB0byBwcm92aWRlciBtZXNzYWdlcyBhbmQgZGF0YVxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIucHJvdmlkZXIub24oJ21lc3NhZ2UnLCBcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICAgICAgICAgIChtZXNzYWdlKSA9PiB0aGlzLm1lc3NhZ2VMaXN0ZW5lcihtZXNzYWdlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyQXNXZWJQcm92aWRlci5vbignZGF0YScsIChkYXRhKSA9PiB0aGlzLm1lc3NhZ2VMaXN0ZW5lcihkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVzc2FnZUxpc3RlbmVyKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnNjcmlwdGlvbkVycm9yKCdTaG91bGQgbm90IGNhbGwgbWVzc2FnZUxpc3RlbmVyIHdpdGggbm8gZGF0YS4gVHlwZSB3YXMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25JZCA9ICgoX2EgPSBkYXRhLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmlwdGlvbikgfHxcbiAgICAgICAgICAgICgoX2IgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdWJzY3JpcHRpb24pIHx8XG4gICAgICAgICAgICAoKF9jID0gZGF0YS5pZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIC8vIFByb2Nlc3MgaWYgdGhlIHJlY2VpdmVkIGRhdGEgaXMgcmVsYXRlZCB0byBhIHN1YnNjcmlwdGlvblxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YiA9IHRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHN1YnNjcmlwdGlvbklkKTtcbiAgICAgICAgICAgIHN1YiA9PT0gbnVsbCB8fCBzdWIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1Yi5wcm9jZXNzU3Vic2NyaXB0aW9uRGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIGNyZWF0ZSBhIG5ldyBzdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN1YnNjcmlwdGlvbiB5b3Ugd2FudCB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0gYXJncyAtIE9wdGlvbmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycywgZGVwZW5kaW5nIG9uIHRoZSBzdWJzY3JpcHRpb24gdHlwZVxuICAgICAqIEBwYXJhbSByZXR1cm5Gb3JtYXQtICh7QGxpbmsgRGF0YUZvcm1hdH0gZGVmYXVsdHMgdG8ge0BsaW5rIERFRkFVTFRfUkVUVVJOX0ZPUk1BVH0pIC0gU3BlY2lmaWVzIGhvdyB0aGUgcmV0dXJuIGRhdGEgZnJvbSB0aGUgY2FsbCBzaG91bGQgYmUgZm9ybWF0dGVkLlxuICAgICAqXG4gICAgICogV2lsbCBzdWJzY3JpYmUgdG8gYSBzcGVjaWZpYyB0b3BpYyAobm90ZTogbmFtZSlcbiAgICAgKiBAcmV0dXJucyBUaGUgc3Vic2NyaXB0aW9uIG9iamVjdFxuICAgICAqL1xuICAgIHN1YnNjcmliZShuYW1lLCBhcmdzLCByZXR1cm5Gb3JtYXQgPSBERUZBVUxUX1JFVFVSTl9GT1JNQVQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IEtsYXNzID0gdGhpcy5yZWdpc3RlcmVkU3Vic2NyaXB0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICghS2xhc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3Vic2NyaXB0aW9uRXJyb3IoJ0ludmFsaWQgc3Vic2NyaXB0aW9uIHR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZXcgS2xhc3MoYXJncyAhPT0gbnVsbCAmJiBhcmdzICE9PSB2b2lkIDAgPyBhcmdzIDogdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uTWFuYWdlcjogdGhpcyxcbiAgICAgICAgICAgICAgICByZXR1cm5Gb3JtYXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm5zIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIGdldCBzdWJzY3JpcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBZGRzIGFuIGluc3RhbmNlIG9mIHtAbGluayBXZWIzU3Vic2NyaXB0aW9ufSBhbmQgc3Vic2NyaWJlcyB0byBpdFxuICAgICAqXG4gICAgICogQHBhcmFtIHN1YiAtIEEge0BsaW5rIFdlYjNTdWJzY3JpcHRpb259IG9iamVjdFxuICAgICAqL1xuICAgIGFkZFN1YnNjcmlwdGlvbihzdWIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQcm92aWRlckVycm9yKCdQcm92aWRlciBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNTdWJzY3JpcHRpb25zKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3Vic2NyaXB0aW9uRXJyb3IoJ1RoZSBjdXJyZW50IHByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgc3Vic2NyaXB0aW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1Yi5pZCAmJiB0aGlzLl9zdWJzY3JpcHRpb25zLmhhcyhzdWIuaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnNjcmlwdGlvbkVycm9yKGBTdWJzY3JpcHRpb24gd2l0aCBpZCBcIiR7c3ViLmlkfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBzdWIuc2VuZFN1YnNjcmlwdGlvblJlcXVlc3QoKTtcbiAgICAgICAgICAgIGlmIChpc051bGxpc2goc3ViLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdWJzY3JpcHRpb25FcnJvcignU3Vic2NyaXB0aW9uIGlzIG5vdCBzdWJzY3JpYmVkIHlldC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KHN1Yi5pZCwgc3ViKTtcbiAgICAgICAgICAgIHJldHVybiBzdWIuaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIGNsZWFyIGEgc3Vic2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgc3Vic2NyaXB0aW9uIG9mIHR5cGUge0BsaW5rIFdlYjNTdWJzY3JpcHRpb259ICB0byByZW1vdmVcbiAgICAgKi9cbiAgICByZW1vdmVTdWJzY3JpcHRpb24oc3ViKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSBzdWI7XG4gICAgICAgICAgICBpZiAoaXNOdWxsaXNoKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdWJzY3JpcHRpb25FcnJvcignU3Vic2NyaXB0aW9uIGlzIG5vdCBzdWJzY3JpYmVkIHlldC4gT3IsIGhhZCBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkIGJ1dCBub3QgdGhyb3VnaCB0aGUgU3Vic2NyaXB0aW9uIE1hbmFnZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N1YnNjcmlwdGlvbnMuaGFzKGlkKSAmJiAhdGhpcy50b2xlcmF0ZVVubGlua2VkU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnNjcmlwdGlvbkVycm9yKGBTdWJzY3JpcHRpb24gd2l0aCBpZCBcIiR7aWQudG9TdHJpbmcoKX1cIiBkb2VzIG5vdCBleGlzdHNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHN1Yi5zZW5kVW5zdWJzY3JpYmVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHVuc3Vic2NyaWJlIGFsbCBzdWJzY3JpcHRpb25zIHRoYXQgZnVsZmlsbCB0aGUgY29uZGl0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uIC0gQSBmdW5jdGlvbiB0aGF0IGFjY2VzcyBhbmQgYGlkYCBhbmQgYSBgc3Vic2NyaXB0aW9uYCBhbmQgcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYWxsIHRoZSB1bi1zdWJzY3JpYmVkIHN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShjb25kaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIHN1Yl0gb2YgdGhpcy5zdWJzY3JpcHRpb25zLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uIHx8ICh0eXBlb2YgY29uZGl0aW9uID09PSAnZnVuY3Rpb24nICYmIGNvbmRpdGlvbih7IGlkLCBzdWIgfSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKHN1YikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgY3VycmVudCBwcm92aWRlciBzdXBwb3J0cyBzdWJzY3JpcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYHRydWVgIG9yIGBmYWxzZWAgZGVwZW5kaW5nIG9uIGlmIHRoZSBjdXJyZW50IHByb3ZpZGVyIHN1cHBvcnRzIHN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBzdXBwb3J0c1N1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBpc051bGxpc2godGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcilcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogaXNTdXBwb3J0U3Vic2NyaXB0aW9ucyh0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJhZG9wdCIsInZhbHVlIiwicmVzb2x2ZSIsIlByb21pc2UiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJERUZBVUxUX1JFVFVSTl9GT1JNQVQiLCJQcm92aWRlckVycm9yIiwiU3Vic2NyaXB0aW9uRXJyb3IiLCJpc051bGxpc2giLCJpc1N1cHBvcnRTdWJzY3JpcHRpb25zIiwiV2ViM1JlcXVlc3RNYW5hZ2VyRXZlbnQiLCJXZWIzU3Vic2NyaXB0aW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwicmVxdWVzdE1hbmFnZXIiLCJyZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyIsInRvbGVyYXRlVW5saW5rZWRTdWJzY3JpcHRpb24iLCJfc3Vic2NyaXB0aW9ucyIsIk1hcCIsIm9uIiwiQkVGT1JFX1BST1ZJREVSX0NIQU5HRSIsInVuc3Vic2NyaWJlIiwiUFJPVklERVJfQ0hBTkdFRCIsImNsZWFyIiwibGlzdGVuVG9Qcm92aWRlckV2ZW50cyIsInByb3ZpZGVyQXNXZWJQcm92aWRlciIsInByb3ZpZGVyIiwic3VwcG9ydHNTdWJzY3JpcHRpb25zIiwicmVxdWVzdCIsIm1lc3NhZ2UiLCJtZXNzYWdlTGlzdGVuZXIiLCJkYXRhIiwiX2EiLCJfYiIsIl9jIiwic3Vic2NyaXB0aW9uSWQiLCJwYXJhbXMiLCJzdWJzY3JpcHRpb24iLCJpZCIsInRvU3RyaW5nIiwic3ViIiwiZ2V0IiwicHJvY2Vzc1N1YnNjcmlwdGlvbkRhdGEiLCJzdWJzY3JpYmUiLCJuYW1lIiwiYXJncyIsInJldHVybkZvcm1hdCIsIktsYXNzIiwidW5kZWZpbmVkIiwic3Vic2NyaXB0aW9uTWFuYWdlciIsImFkZFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbnMiLCJoYXMiLCJzZW5kU3Vic2NyaXB0aW9uUmVxdWVzdCIsInNldCIsInJlbW92ZVN1YnNjcmlwdGlvbiIsInNlbmRVbnN1YnNjcmliZVJlcXVlc3QiLCJkZWxldGUiLCJjb25kaXRpb24iLCJlbnRyaWVzIiwicHVzaCIsImFsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_subscription_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/web3-core/lib/esm/web3_subscriptions.js":
/*!**************************************************************!*\
  !*** ./node_modules/web3-core/lib/esm/web3_subscriptions.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Web3Subscription: () => (/* binding */ Web3Subscription)\n/* harmony export */ });\n/* harmony import */ var web3_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3-types */ \"(ssr)/./node_modules/web3-types/lib/esm/index.js\");\n/* harmony import */ var web3_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web3-utils */ \"(ssr)/./node_modules/web3-utils/lib/esm/index.js\");\n/* harmony import */ var web3_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3-errors */ \"(ssr)/./node_modules/web3-errors/lib/esm/index.js\");\n/* harmony import */ var _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./web3_subscription_manager.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_subscription_manager.js\");\n/* harmony import */ var _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web3_event_emitter.js */ \"(ssr)/./node_modules/web3-core/lib/esm/web3_event_emitter.js\");\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/ var __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// eslint-disable-next-line max-classes-per-file\n\n\n\n// eslint-disable-next-line import/no-cycle\n\n\nclass Web3Subscription extends _web3_event_emitter_js__WEBPACK_IMPORTED_MODULE_4__.Web3EventEmitter {\n    constructor(args, options){\n        var _a;\n        super();\n        this.args = args;\n        const { requestManager } = options;\n        const { subscriptionManager } = options;\n        if (requestManager && subscriptionManager) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_2__.SubscriptionError(\"Only requestManager or subscriptionManager should be provided at Subscription constructor\");\n        }\n        if (!requestManager && !subscriptionManager) {\n            throw new web3_errors__WEBPACK_IMPORTED_MODULE_2__.SubscriptionError(\"Either requestManager or subscriptionManager should be provided at Subscription constructor\");\n        }\n        if (requestManager) {\n            // eslint-disable-next-line deprecation/deprecation\n            this._subscriptionManager = new _web3_subscription_manager_js__WEBPACK_IMPORTED_MODULE_3__.Web3SubscriptionManager(requestManager, {}, true);\n        } else {\n            this._subscriptionManager = subscriptionManager;\n        }\n        this._returnFormat = (_a = options === null || options === void 0 ? void 0 : options.returnFormat) !== null && _a !== void 0 ? _a : web3_types__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RETURN_FORMAT;\n    }\n    get id() {\n        return this._id;\n    }\n    get lastBlock() {\n        return this._lastBlock;\n    }\n    subscribe() {\n        return __awaiter(this, void 0, void 0, function*() {\n            return this._subscriptionManager.addSubscription(this);\n        });\n    }\n    processSubscriptionData(data) {\n        var _a, _b;\n        if (data === null || data === void 0 ? void 0 : data.data) {\n            // for EIP-1193 provider\n            this._processSubscriptionResult((_b = (_a = data === null || data === void 0 ? void 0 : data.data) === null || _a === void 0 ? void 0 : _a.result) !== null && _b !== void 0 ? _b : data === null || data === void 0 ? void 0 : data.data);\n        } else if (data && web3_utils__WEBPACK_IMPORTED_MODULE_1__.jsonRpc.isResponseWithNotification(data)) {\n            this._processSubscriptionResult(data === null || data === void 0 ? void 0 : data.params.result);\n        }\n    }\n    sendSubscriptionRequest() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this._id = yield this._subscriptionManager.requestManager.send({\n                method: \"eth_subscribe\",\n                params: this._buildSubscriptionParams()\n            });\n            this.emit(\"connected\", this._id);\n            return this._id;\n        });\n    }\n    get returnFormat() {\n        return this._returnFormat;\n    }\n    get subscriptionManager() {\n        return this._subscriptionManager;\n    }\n    resubscribe() {\n        return __awaiter(this, void 0, void 0, function*() {\n            yield this.unsubscribe();\n            yield this.subscribe();\n        });\n    }\n    unsubscribe() {\n        return __awaiter(this, void 0, void 0, function*() {\n            if (!this.id) {\n                return;\n            }\n            yield this._subscriptionManager.removeSubscription(this);\n        });\n    }\n    sendUnsubscribeRequest() {\n        return __awaiter(this, void 0, void 0, function*() {\n            yield this._subscriptionManager.requestManager.send({\n                method: \"eth_unsubscribe\",\n                params: [\n                    this.id\n                ]\n            });\n            this._id = undefined;\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    formatSubscriptionResult(data) {\n        return data;\n    }\n    _processSubscriptionResult(data) {\n        this.emit(\"data\", this.formatSubscriptionResult(data));\n    }\n    _processSubscriptionError(error) {\n        this.emit(\"error\", error);\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _buildSubscriptionParams() {\n        // This should be overridden in the subclass\n        throw new Error(\"Implement in the child class\");\n    }\n} //# sourceMappingURL=web3_subscriptions.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9lc20vd2ViM19zdWJzY3JpcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxHQUNBLElBQUlBLFlBQVksU0FBSyxJQUFJLFNBQUksQ0FBQ0EsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNBLGdEQUFnRDtBQUNJO0FBQ2Y7QUFDVztBQUNoRCwyQ0FBMkM7QUFDOEI7QUFDZDtBQUNwRCxNQUFNWSx5QkFBeUJELG9FQUFnQkE7SUFDbERFLFlBQVlDLElB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QUFHLEtBQUssR0FBRztZQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDa0MsRUFBRSxFQUFFO2dCQUNWO1lBQ0o7WUFDQSxNQUFNLElBQUksQ0FBQ0gsb0JBQW9CLENBQUNzQixrQkFBa0IsQ0FBQyxJQUFJO1FBQzNEO0lBQ0o7SUFDQUMseUJBQXlCO1FBQ3JCLE9BQU90RCxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DLE1BQU0sSUFBSSxDQUFDK0Isb0JBQW9CLENBQUNGLGNBQWMsQ0FBQ2tCLElBQUksQ0FBQztnQkFDaERDLFFBQVE7Z0JBQ1JILFFBQVE7b0JBQUMsSUFBSSxDQUFDWCxFQUFFO2lCQUFDO1lBQ3JCO1lBQ0EsSUFBSSxDQUFDQyxHQUFHLEdBQUdvQjtRQUNmO0lBQ0o7SUFDQSxrREFBa0Q7SUFDbERDLHlCQUF5QmYsSUFBSSxFQUFFO1FBQzNCLE9BQU9BO0lBQ1g7SUFDQUUsMkJBQTJCRixJQUFJLEVBQUU7UUFDN0IsSUFBSSxDQUFDUyxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUNNLHdCQUF3QixDQUFDZjtJQUNwRDtJQUNBZ0IsMEJBQTBCQyxLQUFLLEVBQUU7UUFDN0IsSUFBSSxDQUFDUixJQUFJLENBQUMsU0FBU1E7SUFDdkI7SUFDQSxrREFBa0Q7SUFDbERULDJCQUEyQjtRQUN2Qiw0Q0FBNEM7UUFDNUMsTUFBTSxJQUFJVSxNQUFNO0lBQ3BCO0FBQ0osRUFDQSw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2VzbS93ZWIzX3N1YnNjcmlwdGlvbnMuanM/ZDhkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1jbGFzc2VzLXBlci1maWxlXG5pbXBvcnQgeyBERUZBVUxUX1JFVFVSTl9GT1JNQVQsIH0gZnJvbSAnd2ViMy10eXBlcyc7XG5pbXBvcnQgeyBqc29uUnBjIH0gZnJvbSAnd2ViMy11dGlscyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJ3dlYjMtZXJyb3JzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmltcG9ydCB7IFdlYjNTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi93ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyLmpzJztcbmltcG9ydCB7IFdlYjNFdmVudEVtaXR0ZXIgfSBmcm9tICcuL3dlYjNfZXZlbnRfZW1pdHRlci5qcyc7XG5leHBvcnQgY2xhc3MgV2ViM1N1YnNjcmlwdGlvbiBleHRlbmRzIFdlYjNFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RNYW5hZ2VyIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IHN1YnNjcmlwdGlvbk1hbmFnZXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChyZXF1ZXN0TWFuYWdlciAmJiBzdWJzY3JpcHRpb25NYW5hZ2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3Vic2NyaXB0aW9uRXJyb3IoJ09ubHkgcmVxdWVzdE1hbmFnZXIgb3Igc3Vic2NyaXB0aW9uTWFuYWdlciBzaG91bGQgYmUgcHJvdmlkZWQgYXQgU3Vic2NyaXB0aW9uIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXF1ZXN0TWFuYWdlciAmJiAhc3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnNjcmlwdGlvbkVycm9yKCdFaXRoZXIgcmVxdWVzdE1hbmFnZXIgb3Igc3Vic2NyaXB0aW9uTWFuYWdlciBzaG91bGQgYmUgcHJvdmlkZWQgYXQgU3Vic2NyaXB0aW9uIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVlc3RNYW5hZ2VyKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBuZXcgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIocmVxdWVzdE1hbmFnZXIsIHt9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBzdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JldHVybkZvcm1hdCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXR1cm5Gb3JtYXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfUkVUVVJOX0ZPUk1BVDtcbiAgICB9XG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuICAgIGdldCBsYXN0QmxvY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0QmxvY2s7XG4gICAgfVxuICAgIHN1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyLmFkZFN1YnNjcmlwdGlvbih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHByb2Nlc3NTdWJzY3JpcHRpb25EYXRhKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICAvLyBmb3IgRUlQLTExOTMgcHJvdmlkZXJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NTdWJzY3JpcHRpb25SZXN1bHQoKF9iID0gKF9hID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXN1bHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhICYmXG4gICAgICAgICAgICBqc29uUnBjLmlzUmVzcG9uc2VXaXRoTm90aWZpY2F0aW9uKGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzU3Vic2NyaXB0aW9uUmVzdWx0KGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5wYXJhbXMucmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kU3Vic2NyaXB0aW9uUmVxdWVzdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkID0geWllbGQgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlci5yZXF1ZXN0TWFuYWdlci5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdldGhfc3Vic2NyaWJlJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHRoaXMuX2J1aWxkU3Vic2NyaXB0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJywgdGhpcy5faWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IHJldHVybkZvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JldHVybkZvcm1hdDtcbiAgICB9XG4gICAgZ2V0IHN1YnNjcmlwdGlvbk1hbmFnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAgIH1cbiAgICByZXN1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIucmVtb3ZlU3Vic2NyaXB0aW9uKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZFVuc3Vic2NyaWJlUmVxdWVzdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIucmVxdWVzdE1hbmFnZXIuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZXRoX3Vuc3Vic2NyaWJlJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IFt0aGlzLmlkXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5faWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIGZvcm1hdFN1YnNjcmlwdGlvblJlc3VsdChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBfcHJvY2Vzc1N1YnNjcmlwdGlvblJlc3VsdChkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGF0YScsIHRoaXMuZm9ybWF0U3Vic2NyaXB0aW9uUmVzdWx0KGRhdGEpKTtcbiAgICB9XG4gICAgX3Byb2Nlc3NTdWJzY3JpcHRpb25FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIF9idWlsZFN1YnNjcmlwdGlvblBhcmFtcygpIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgb3ZlcnJpZGRlbiBpbiB0aGUgc3ViY2xhc3NcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBsZW1lbnQgaW4gdGhlIGNoaWxkIGNsYXNzJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19zdWJzY3JpcHRpb25zLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJhZG9wdCIsInZhbHVlIiwicmVzb2x2ZSIsIlByb21pc2UiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJERUZBVUxUX1JFVFVSTl9GT1JNQVQiLCJqc29uUnBjIiwiU3Vic2NyaXB0aW9uRXJyb3IiLCJXZWIzU3Vic2NyaXB0aW9uTWFuYWdlciIsIldlYjNFdmVudEVtaXR0ZXIiLCJXZWIzU3Vic2NyaXB0aW9uIiwiY29uc3RydWN0b3IiLCJhcmdzIiwib3B0aW9ucyIsIl9hIiwicmVxdWVzdE1hbmFnZXIiLCJzdWJzY3JpcHRpb25NYW5hZ2VyIiwiX3N1YnNjcmlwdGlvbk1hbmFnZXIiLCJfcmV0dXJuRm9ybWF0IiwicmV0dXJuRm9ybWF0IiwiaWQiLCJfaWQiLCJsYXN0QmxvY2siLCJfbGFzdEJsb2NrIiwic3Vic2NyaWJlIiwiYWRkU3Vic2NyaXB0aW9uIiwicHJvY2Vzc1N1YnNjcmlwdGlvbkRhdGEiLCJkYXRhIiwiX2IiLCJfcHJvY2Vzc1N1YnNjcmlwdGlvblJlc3VsdCIsImlzUmVzcG9uc2VXaXRoTm90aWZpY2F0aW9uIiwicGFyYW1zIiwic2VuZFN1YnNjcmlwdGlvblJlcXVlc3QiLCJzZW5kIiwibWV0aG9kIiwiX2J1aWxkU3Vic2NyaXB0aW9uUGFyYW1zIiwiZW1pdCIsInJlc3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJzZW5kVW5zdWJzY3JpYmVSZXF1ZXN0IiwidW5kZWZpbmVkIiwiZm9ybWF0U3Vic2NyaXB0aW9uUmVzdWx0IiwiX3Byb2Nlc3NTdWJzY3JpcHRpb25FcnJvciIsImVycm9yIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/web3-core/lib/esm/web3_subscriptions.js\n");

/***/ })

};
;